<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tree Shaking | hyunyoun's Blog</title><meta name=keywords content="Programming-Languages,Javascript,Advanced,Build-Tools,Module-Bundlers,Tree-Shaking"><meta name=description content="트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/ecosystem--practice/build-tools-and-bundlers/module-bundlers/tree-shaking/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/ecosystem--practice/build-tools-and-bundlers/module-bundlers/tree-shaking/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/ecosystem--practice/build-tools-and-bundlers/module-bundlers/tree-shaking/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Tree Shaking"><meta property="og:description" content="트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-26T07:13:00+00:00"><meta property="article:modified_time" content="2024-12-26T07:13:00+00:00"><meta property="article:tag" content="Programming-Languages"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Advanced"><meta property="article:tag" content="Build-Tools"><meta property="article:tag" content="Module-Bundlers"><meta property="article:tag" content="Tree-Shaking"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Tree Shaking"><meta name=twitter:description content="트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tree Shaking","item":"https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/ecosystem--practice/build-tools-and-bundlers/module-bundlers/tree-shaking/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tree Shaking","name":"Tree Shaking","description":"트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스","keywords":["Programming-Languages","Javascript","Advanced","Build-Tools","Module-Bundlers","Tree-Shaking"],"articleBody":"Tree Shaking 트리 쉐이킹은 현대 자바스크립트 애플리케이션의 번들 크기를 최적화하는 중요한 기술이다.\n트리 쉐이킹은 현대 웹 애플리케이션 최적화의 필수 요소가 되었다.\n최적의 결과를 얻기 위한 권장 사항은 다음과 같다:\nES 모듈 사용: 모든 코드를 ESM 형식으로 작성하고 사용. 번들러 선택: Rollup 또는 Webpack과 같은 트리 쉐이킹을 지원하는 번들러를 사용. 명시적 가져오기: import * as보다 import { specificFunction }을 선호. 사이드 이펙트 관리: sideEffects 속성을 설정하고 사이드 이펙트를 최소화. 최신 라이브러리 선택: 트리 쉐이킹을 지원하는 라이브러리를 선택. 번들 분석: Bundle Analyzer를 사용하여 결과를 모니터링하고 개선. 순수 함수형 접근 방식: 가능한 한 순수 함수를 작성하고 사용. 자바스크립트 애플리케이션 최적화의 다른 측면과 마찬가지로, 트리 쉐이킹은 세심한 설계와 지속적인 개선이 필요한 분야이다. 적절하게 구현된다면 사용자 경험과 애플리케이션 성능에 상당한 개선을 가져올 수 있다.\n트리 쉐이킹의 개념과 원리 정의 트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스이다.\n이름은 나무를 흔들어 죽은 잎이나 가지를 떨어뜨리는 것에서 유래했다.\n자바스크립트 컨텍스트에서는, 애플리케이션에서 실제로 사용되지 않는 코드(“데드 코드”)를 제거하는 것을 의미한다.\n작동 원리 트리 쉐이킹의 기본 원리는 다음과 같다:\n정적 분석: 코드를 실행하지 않고 구조를 분석한다. 의존성 그래프 구축: 모듈 간의 가져오기/내보내기 관계를 기반으로 의존성 그래프를 만든다. 사용되는 코드 식별: 애플리케이션의 진입점(entry point)에서 시작하여 실제로 접근되는 코드 경로를 추적한다. 미사용 코드 제거: 의존성 그래프에서 접근되지 않는 코드를 최종 번들에서 제외한다. 1 2 3 4 5 6 7 8 9 10 11 12 13 // utils.js export function used() { return '이 함수는 사용됩니다'; } export function unused() { return '이 함수는 사용되지 않습니다'; } // main.js import { used } from './utils.js'; console.log(used()); // used 함수만 번들에 포함됨 위 예제에서 unused 함수는 가져오지 않고 사용하지 않았기 때문에 최종 번들에서 제거된다.\n트리 쉐이킹을 위한 필수 조건 트리 쉐이킹이 효과적으로 작동하기 위해서는 몇 가지 중요한 조건이 필요하다:\nES 모듈(ESM) 사용\n트리 쉐이킹은 ES 모듈의 정적 구조에 크게 의존한다.\nES 모듈은 정적 가져오기/내보내기 구문을 사용하므로 번들러가 빌드 시간에 의존성 그래프를 정확하게 분석할 수 있다.\n1 2 3 4 5 6 7 // ESM - 트리 쉐이킹 가능 import { Component } from './components'; export function helper() { /* … */ } // CommonJS - 트리 쉐이킹 어려움 const Component = require('./components').Component; module.exports.helper = function() { /* … */ }; 사이드 이펙트 최소화\n사이드 이펙트(부작용)가 있는 코드는 트리 쉐이킹을 방해할 수 있다. 사이드 이펙트란 모듈이 로드될 때 다른 모듈이나 전역 상태를 변경하는 것을 의미한다.\n1 2 3 4 // 사이드 이펙트 예시 - 트리 쉐이킹 방해 export function helper() { /* … */ } console.log('이 모듈이 로드되었습니다'); // 사이드 이펙트 document.title = '제목 변경'; // 사이드 이펙트 순수 함수 선호\n순수 함수(입력이 같으면 항상 같은 출력을 반환하는 함수)는 트리 쉐이킹에 이상적이다.\n외부 상태에 의존하거나 외부 상태를 변경하지 않기 때문이다.\n1 2 3 4 5 6 7 8 9 10 11 // 순수 함수 - 트리 쉐이킹에 이상적 export function add(a, b) { return a + b; } // 비순수 함수 - 트리 쉐이킹 어려움 let counter = 0; export function increment() { counter++; return counter; } 트리 쉐이킹 최적화 전략 효과적인 트리 쉐이킹을 위한 몇 가지 주요 전략은 다음과 같다:\n내보내기/가져오기 최적화\n1 2 3 4 5 6 7 // 나쁜 예 - 전체 모듈 가져오기 import _ from 'lodash'; const arr = _.concat([1], [2]); // 좋은 예 - 필요한 함수만 가져오기 import { concat } from 'lodash-es'; const arr = concat([1], [2]); 사이드 이펙트 관리\n1 2 3 4 5 6 7 8 9 10 11 12 // package.json { \"name\": \"my-lib\", // 옵션 1: 사이드 이펙트 없음 \"sideEffects\": false, // 옵션 2: 특정 파일만 사이드 이펙트 있음 \"sideEffects\": [ \"*.css\", \"src/polyfills.js\" ] } 순수 함수 사용\n1 2 3 4 5 6 7 8 9 10 11 12 13 // 나쁜 예 - 전역 상태 수정 let globalCache = {}; export function getData(key) { if (!globalCache[key]) { globalCache[key] = fetchData(key); } return globalCache[key]; } // 좋은 예 - 순수 함수 export function processData(data) { return data.map(item =\u003e item * 2); } 바벨 플러그인 활용\n바벨의 transform-imports 같은 플러그인을 사용해 자동으로 가져오기를 최적화할 수 있다:\n1 2 3 4 5 6 // 설정 전 import { Button, Card } from 'material-ui'; // 설정 후 자동 변환 import Button from 'material-ui/Button'; import Card from 'material-ui/Card'; 트리 쉐이킹의 영향 및 성능 개선 트리 쉐이킹이 실제 애플리케이션에 미치는 영향을 살펴보면:\n번들 크기 감소\n트리 쉐이킹을 통해 다음과 같은 번들 크기 감소를 기대할 수 있다:\n작은 라이브러리: 10-30% 감소 대형 프레임워크: 40-60% 감소 유틸리티 라이브러리: 최대 90% 감소(예: Lodash) 로딩 및 실행 성능 개선\n번들 크기 감소는 다음과 같은 성능 개선으로 이어진다:\n초기 로딩 시간 단축: 더 작은 번들로 다운로드 시간 단축 파싱 시간 감소: 브라우저가 처리해야 할 코드 양 감소 실행 시간 개선: 초기화해야 할 코드 감소 사례 연구: Lodash Lodash는 트리 쉐이킹의 중요성을 보여주는 대표적인 예:\n1 2 3 4 5 6 // 트리 쉐이킹 없이 전체 Lodash 가져오기 (~70KB 압축) import _ from 'lodash'; // 트리 쉐이킹으로 필요한 함수만 가져오기 (~3KB 압축) import map from 'lodash-es/map'; import filter from 'lodash-es/filter'; 트리 쉐이킹의 한계와 도전 과제 트리 쉐이킹이 항상 완벽한 해결책은 아니다.\n몇 가지 한계와 도전 과제가 있다:\n동적 가져오기의 어려움\n1 2 3 // 동적 가져오기 - 트리 쉐이킹 어려움 const componentName = getComponentName(); const Component = require(`./components/${componentName}`); CommonJS와의 호환성 문제\n1 2 3 // CommonJS 모듈은 트리 쉐이킹하기 어려움 const utils = require('./utils'); utils.someFunction(); 사이드 이펙트 감지의 어려움\n1 2 3 4 5 6 // 번들러가 사이드 이펙트를 정확히 감지하기 어려운 예 export class MyComponent { constructor() { document.addEventListener('click', this.handleClick); } } 프로토타입 수정과 관련된 문제\n1 2 // 프로토타입 수정은 사이드 이펙트로 간주됨 Array.prototype.customMethod = function() { /* … */ }; ESM vs. CommonJS 트리 쉐이킹 비교 모듈 시스템 트리 쉐이킹 효과 정적 분석 용이성 번들러 지원 추가 구성 필요 ES Modules (ESM) 우수함 (90-100%) 매우 높음 모든 주요 번들러 최소 또는 없음 CommonJS 제한적 (0-40%) 낮음 일부 번들러만 부분 지원 복잡한 구성 필요 AMD 제한적 (20-50%) 중간 일부 번들러 중간 수준 UMD 제한적 (10-30%) 낮음 일부 번들러 제한적 지원 복잡한 구성 필요 ESM 예시 1 2 3 4 5 6 7 8 9 10 // math.js (ESM) export const add = (a, b) =\u003e a + b; export const subtract = (a, b) =\u003e a - b; export const multiply = (a, b) =\u003e a * b; export const divide = (a, b) =\u003e a / b; // main.js (ESM) import { add, multiply } from './math.js'; console.log(add(2, 3)); console.log(multiply(4, 5)); 결과: subtract와 divide 함수는 최종 번들에서 제외된다.\nCommonJS 예시 1 2 3 4 5 6 7 8 9 10 // math.js (CommonJS) exports.add = (a, b) =\u003e a + b; exports.subtract = (a, b) =\u003e a - b; exports.multiply = (a, b) =\u003e a * b; exports.divide = (a, b) =\u003e a / b; // main.js (CommonJS) const { add, multiply } = require('./math.js'); console.log(add(2, 3)); console.log(multiply(4, 5)); 결과: 일반적으로 모든 함수가 번들에 포함되지만, 일부 번들러는 특별한 분석을 통해 제한적인 트리 쉐이킹을 시도한다.\n트리 쉐이킹에 관한 번들러, 프레임워크, 라이브러리 비교 주요 번들러의 트리 쉐이킹 구현 다양한 자바스크립트 번들러는 각기 다른 방식으로 트리 쉐이킹을 구현한다:\n번들러 트리 쉐이킹 기본 지원 구성 복잡성 ESM 지원 CommonJS 지원 사이드 이펙트 처리 성능 Webpack 지원 (v2+) 중간 완전 지원 제한적 지원 sideEffects 플래그 지원 중간 Rollup 처음부터 내장 낮음 완전 지원 플러그인 필요 세밀한 제어 가능 우수함 ESBuild 기본 내장 매우 낮음 완전 지원 제한적 지원 기본 지원 매우 우수함 Parcel 기본 내장 거의 없음 완전 지원 제한적 지원 기본 지원 우수함 Browserify 플러그인 필요 높음 플러그인 필요 기본 지원 제한적 낮음 Webpack Webpack은 가장 널리 사용되는 번들러 중 하나로, 트리 쉐이킹을 위해 다음과 같은 기능을 제공한다:\n프로덕션 모드: mode: 'production' 설정으로 자동 최적화 사이드 이펙트 표시: package.json의 sideEffects 필드 활용 Terser 통합: 미사용 코드 제거를 위한 최종 최적화 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // webpack.config.js module.exports = { mode: 'production', optimization: { usedExports: true, // 트리 쉐이킹 활성화 minimize: true // 미니파이어 사용 } }; // package.json { \"name\": \"my-package\", \"sideEffects\": false // 사이드 이펙트 없음을 표시 } Rollup Rollup은 트리 쉐이킹에 초점을 맞춘 번들러로, 기본적으로 더 효과적인 트리 쉐이킹을 제공한다:\nES 모듈 중심: 기본적으로 ES 모듈에 최적화됨 정교한 정적 분석: 더 철저한 데드 코드 검출 코드 분할 및 동적 가져오기 지원 1 2 3 4 5 6 7 8 9 10 11 12 // rollup.config.js export default { input: 'src/main.js', output: { file: 'bundle.js', format: 'esm' }, treeshake: { moduleSideEffects: false, // 모듈 사이드 이펙트 없음 propertyReadSideEffects: false // 속성 읽기에 사이드 이펙트 없음 } }; ESBuild ESBuild는 속도에 최적화된 최신 번들러로 트리 쉐이킹도 지원한다:\nGo로 작성: 매우 빠른 성능 기본 내장 트리 쉐이킹 사이드 이펙트 표시 지원 1 2 3 4 5 6 7 8 // esbuild.js require('esbuild').build({ entryPoints: ['src/main.js'], bundle: true, minify: true, treeShaking: true, // 명시적 활성화(기본값은 true) outfile: 'dist/bundle.js' }); 다양한 프레임워크에서의 트리 쉐이킹 프레임워크 트리 쉐이킹 지원 기본 모듈 시스템 사이드 이펙트 관리 코드 분할 지원 React 매우 좋음 ESM 컴포넌트 기반 분리 가능 React.lazy() Vue.js 좋음 ESM 컴포저블 API로 개선됨 비동기 컴포넌트 Angular 매우 좋음 ESM NgModules 시스템 지연 로딩 모듈 Svelte 우수함 ESM 컴파일 타임 최적화 동적 가져오기 Alpine.js 중간 ESM/IIFE 제한적 제한적 React React 애플리케이션에서 트리 쉐이킹 최적화:\n컴포넌트 단위 분리: 각 컴포넌트를 개별 파일로 관리 React.lazy()와 동적 가져오기: 필요할 때만 컴포넌트 로드 HOC 및 렌더 프롭스 최적화: 불필요한 래퍼 컴포넌트 제거 1 2 3 4 5 6 7 8 9 10 // 동적 컴포넌트 로딩으로 트리 쉐이킹 개선 const AdminPanel = React.lazy(() =\u003e import('./AdminPanel')); function App() { return ( \u003cSuspense fallback={\u003cLoading /\u003e}\u003e {isAdmin \u0026\u0026 \u003cAdminPanel /\u003e} \u003c/Suspense\u003e ); } Vue.js Vue.js에서 트리 쉐이킹 최적화:\nES 모듈 빌드 사용: import Vue from 'vue/dist/vue.esm.js' 컴포넌트 로컬 등록: 전역 등록 대신 로컬 등록 활용 비동기 컴포넌트: 필요할 때만 로드 1 2 3 4 // Vue 3의 컴포저블 API로 트리 쉐이킹 개선 import { ref, computed, onMounted } from 'vue'; // 필요한 API만 번들에 포함됨 Angular Angular에서 트리 쉐이킹 최적화:\nAngular CLI 빌드 최적화: 기본 지원됨 지연 로딩 모듈: 필요할 때만 모듈 로드 NgModules 분리: 기능별로 모듈 분리 1 2 3 4 5 6 7 // 라우팅에서 지연 로딩으로 트리 쉐이킹 개선 const routes: Routes = [ { path: 'admin', loadChildren: () =\u003e import('./admin/admin.module').then(m =\u003e m.AdminModule) } ]; 트리 쉐이킹 지원 라이브러리 트리 쉐이킹에 최적화된 몇 가지 주요 라이브러리:\n라이브러리 트리 쉐이킹 지원 ESM 버전 제공 권장 가져오기 방법 번들 감소 효과 Lodash 기본 버전은 제한적 lodash-es 개별 함수 가져오기 85-95% Moment.js 미지원 아니오 대안 사용 권장 0% date-fns 완전 지원 예 필요한 함수만 가져오기 90-98% Material-UI 완전 지원 예 경로 가져오기 60-80% RxJS v6+ 지원 예 파이프 가능 연산자 사용 70-90% jQuery 미지원 아니오 대안 사용 권장 0% Ramda 지원 예 개별 함수 가져오기 85-95% Lodash-es Lodash의 ES 모듈 버전:\n1 2 // 트리 쉐이킹 지원 import { map, filter } from 'lodash-es'; Date-fns 날짜 처리를 위한 함수형 유틸리티 라이브러리:\n1 2 // 트리 쉐이킹 지원 import { format, addDays } from 'date-fns'; Material-UI / MUI React UI 라이브러리:\n1 2 3 // 트리 쉐이킹 지원 import Button from '@mui/material/Button'; import TextField from '@mui/material/TextField'; 실제 프로젝트에서의 트리 쉐이킹 전후 비교 실제 프로젝트에서 트리 쉐이킹 적용 전후 비교:\n전형적인 프로젝트 예시 (가상 데이터) 최적화 단계 번들 크기 로딩 시간 실행 시간 최적화 전 1.2MB 780ms 350ms 트리 쉐이킹 적용 720KB 480ms 280ms 추가 최적화 520KB 320ms 230ms Moment.js vs. Date-fns Moment.js(트리 쉐이킹 미지원)에서 date-fns(트리 쉐이킹 지원)로 마이그레이션:\n라이브러리 가져오기 방식 번들 크기 Moment.js import moment from 'moment' ~230KB date-fns import { format } from 'date-fns' ~3KB 트리 쉐이킹 진단 및 분석 도구 트리 쉐이킹 효과를 분석하고 개선하기 위한 도구들이 있다:\nWebpack Bundle Analyzer 번들 내용과 크기를 시각화하여 개선 지점 식별:\n1 npm install --save-dev webpack-bundle-analyzer 1 2 3 4 5 6 7 8 // webpack.config.js const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin; module.exports = { plugins: [ new BundleAnalyzerPlugin() ] }; Rollup Plugin Visualizer Rollup 번들을 시각화:\n1 npm install --save-dev rollup-plugin-visualizer 1 2 3 4 5 6 7 8 // rollup.config.js import { visualizer } from 'rollup-plugin-visualizer'; export default { plugins: [ visualizer() ] }; Source-map-explorer 소스맵을 사용하여 번들 구성 분석:\n1 npm install --save-dev source-map-explorer 1 2 3 4 5 6 // package.json { \"scripts\": { \"analyze\": \"source-map-explorer 'build/static/js/*.js'\" } } 참고 및 출처 ","wordCount":"1978","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-26T07:13:00Z","dateModified":"2024-12-26T07:13:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/ecosystem--practice/build-tools-and-bundlers/module-bundlers/tree-shaking/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1 class="post-title entry-hint-parent">Tree Shaking</h1><div class=post-description>트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스</div><div class=post-meta><span title='2024-12-26 07:13:00 +0000 UTC'>December 26, 2024</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20Languages/JavaScript%20Family/JavaScript/Ecosystem%20&%20Practice/Build%20Tools%20and%20Bundlers/Module%20Bundlers/tree-shaking.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#tree-shaking>Tree Shaking</a><ul><li><a href=#트리-쉐이킹의-개념과-원리>트리 쉐이킹의 개념과 원리</a></li><li><a href=#트리-쉐이킹을-위한-필수-조건>트리 쉐이킹을 위한 필수 조건</a></li><li><a href=#트리-쉐이킹-최적화-전략>트리 쉐이킹 최적화 전략</a></li><li><a href=#트리-쉐이킹의-영향-및-성능-개선>트리 쉐이킹의 영향 및 성능 개선</a></li><li><a href=#트리-쉐이킹의-한계와-도전-과제>트리 쉐이킹의 한계와 도전 과제</a></li><li><a href=#esm-vs-commonjs-트리-쉐이킹-비교>ESM vs. CommonJS 트리 쉐이킹 비교</a></li><li><a href=#트리-쉐이킹에-관한-번들러-프레임워크-라이브러리-비교>트리 쉐이킹에 관한 번들러, 프레임워크, 라이브러리 비교</a></li><li><a href=#실제-프로젝트에서의-트리-쉐이킹-전후-비교>실제 프로젝트에서의 트리 쉐이킹 전후 비교</a></li><li><a href=#트리-쉐이킹-진단-및-분석-도구>트리 쉐이킹 진단 및 분석 도구</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=tree-shaking>Tree Shaking<a hidden class=anchor aria-hidden=true href=#tree-shaking>#</a></h2><p>트리 쉐이킹은 현대 자바스크립트 애플리케이션의 번들 크기를 최적화하는 중요한 기술이다.</p><p>트리 쉐이킹은 현대 웹 애플리케이션 최적화의 필수 요소가 되었다.</p><p>최적의 결과를 얻기 위한 권장 사항은 다음과 같다:</p><ol><li><strong>ES 모듈 사용</strong>: 모든 코드를 ESM 형식으로 작성하고 사용.</li><li><strong>번들러 선택</strong>: Rollup 또는 Webpack과 같은 트리 쉐이킹을 지원하는 번들러를 사용.</li><li><strong>명시적 가져오기</strong>: <code>import * as</code>보다 <code>import { specificFunction }</code>을 선호.</li><li><strong>사이드 이펙트 관리</strong>: <code>sideEffects</code> 속성을 설정하고 사이드 이펙트를 최소화.</li><li><strong>최신 라이브러리 선택</strong>: 트리 쉐이킹을 지원하는 라이브러리를 선택.</li><li><strong>번들 분석</strong>: Bundle Analyzer를 사용하여 결과를 모니터링하고 개선.</li><li><strong>순수 함수형 접근 방식</strong>: 가능한 한 순수 함수를 작성하고 사용.</li></ol><p>자바스크립트 애플리케이션 최적화의 다른 측면과 마찬가지로, 트리 쉐이킹은 세심한 설계와 지속적인 개선이 필요한 분야이다. 적절하게 구현된다면 사용자 경험과 애플리케이션 성능에 상당한 개선을 가져올 수 있다.</p><h3 id=트리-쉐이킹의-개념과-원리>트리 쉐이킹의 개념과 원리<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹의-개념과-원리>#</a></h3><h4 id=정의>정의<a hidden class=anchor aria-hidden=true href=#정의>#</a></h4><p>트리 쉐이킹(Tree Shaking)은 사용되지 않는 코드를 최종 번들에서 제거하는 프로세스이다.<br>이름은 나무를 흔들어 죽은 잎이나 가지를 떨어뜨리는 것에서 유래했다.<br>자바스크립트 컨텍스트에서는, 애플리케이션에서 실제로 사용되지 않는 코드(&ldquo;데드 코드&rdquo;)를 제거하는 것을 의미한다.</p><h4 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h4><p>트리 쉐이킹의 기본 원리는 다음과 같다:</p><ol><li><strong>정적 분석</strong>: 코드를 실행하지 않고 구조를 분석한다.</li><li><strong>의존성 그래프 구축</strong>: 모듈 간의 가져오기/내보내기 관계를 기반으로 의존성 그래프를 만든다.</li><li><strong>사용되는 코드 식별</strong>: 애플리케이션의 진입점(entry point)에서 시작하여 실제로 접근되는 코드 경로를 추적한다.</li><li><strong>미사용 코드 제거</strong>: 의존성 그래프에서 접근되지 않는 코드를 최종 번들에서 제외한다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// utils.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>used</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;이 함수는 사용됩니다&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>unused</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;이 함수는 사용되지 않습니다&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// main.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>used</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./utils.js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>used</span><span class=p>());</span>  <span class=c1>// used 함수만 번들에 포함됨
</span></span></span></code></pre></td></tr></table></div></div><p>위 예제에서 <code>unused</code> 함수는 가져오지 않고 사용하지 않았기 때문에 최종 번들에서 제거된다.</p><h3 id=트리-쉐이킹을-위한-필수-조건>트리 쉐이킹을 위한 필수 조건<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹을-위한-필수-조건>#</a></h3><p>트리 쉐이킹이 효과적으로 작동하기 위해서는 몇 가지 중요한 조건이 필요하다:</p><ol><li><p>ES 모듈(ESM) 사용<br>트리 쉐이킹은 ES 모듈의 정적 구조에 크게 의존한다.<br>ES 모듈은 정적 가져오기/내보내기 구문을 사용하므로 번들러가 빌드 시간에 의존성 그래프를 정확하게 분석할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ESM - 트리 쉐이킹 가능
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Component</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./components&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>helper</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* … */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CommonJS - 트리 쉐이킹 어려움
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>Component</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./components&#39;</span><span class=p>).</span><span class=nx>Component</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>helper</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* … */</span> <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>사이드 이펙트 최소화<br>사이드 이펙트(부작용)가 있는 코드는 트리 쉐이킹을 방해할 수 있다. 사이드 이펙트란 모듈이 로드될 때 다른 모듈이나 전역 상태를 변경하는 것을 의미한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 사이드 이펙트 예시 - 트리 쉐이킹 방해
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>helper</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* … */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;이 모듈이 로드되었습니다&#39;</span><span class=p>);</span> <span class=c1>// 사이드 이펙트
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>title</span> <span class=o>=</span> <span class=s1>&#39;제목 변경&#39;</span><span class=p>;</span>           <span class=c1>// 사이드 이펙트
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>순수 함수 선호<br>순수 함수(입력이 같으면 항상 같은 출력을 반환하는 함수)는 트리 쉐이킹에 이상적이다.<br>외부 상태에 의존하거나 외부 상태를 변경하지 않기 때문이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 순수 함수 - 트리 쉐이킹에 이상적
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>add</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 비순수 함수 - 트리 쉐이킹 어려움
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>counter</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>increment</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>counter</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>counter</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=트리-쉐이킹-최적화-전략>트리 쉐이킹 최적화 전략<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹-최적화-전략>#</a></h3><p>효과적인 트리 쉐이킹을 위한 몇 가지 주요 전략은 다음과 같다:</p><ol><li><p>내보내기/가져오기 최적화</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 나쁜 예 - 전체 모듈 가져오기
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>_</span> <span class=nx>from</span> <span class=s1>&#39;lodash&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=nx>_</span><span class=p>.</span><span class=nx>concat</span><span class=p>([</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 좋은 예 - 필요한 함수만 가져오기
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>concat</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;lodash-es&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=nx>concat</span><span class=p>([</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>사이드 이펙트 관리</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// package.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span><span class=o>:</span> <span class=s2>&#34;my-lib&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 옵션 1: 사이드 이펙트 없음
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;sideEffects&#34;</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 옵션 2: 특정 파일만 사이드 이펙트 있음
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;sideEffects&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;*.css&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;src/polyfills.js&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>순수 함수 사용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 나쁜 예 - 전역 상태 수정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>globalCache</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>getData</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>globalCache</span><span class=p>[</span><span class=nx>key</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>globalCache</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>fetchData</span><span class=p>(</span><span class=nx>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>globalCache</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 좋은 예 - 순수 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>processData</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>data</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=nx>item</span> <span class=o>*</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>바벨 플러그인 활용<br>바벨의 <code>transform-imports</code> 같은 플러그인을 사용해 자동으로 가져오기를 최적화할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 설정 전
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Button</span><span class=p>,</span> <span class=nx>Card</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;material-ui&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 설정 후 자동 변환
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Button</span> <span class=nx>from</span> <span class=s1>&#39;material-ui/Button&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Card</span> <span class=nx>from</span> <span class=s1>&#39;material-ui/Card&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=트리-쉐이킹의-영향-및-성능-개선>트리 쉐이킹의 영향 및 성능 개선<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹의-영향-및-성능-개선>#</a></h3><p>트리 쉐이킹이 실제 애플리케이션에 미치는 영향을 살펴보면:</p><ol><li><p>번들 크기 감소<br>트리 쉐이킹을 통해 다음과 같은 번들 크기 감소를 기대할 수 있다:</p><ul><li><strong>작은 라이브러리</strong>: 10-30% 감소</li><li><strong>대형 프레임워크</strong>: 40-60% 감소</li><li><strong>유틸리티 라이브러리</strong>: 최대 90% 감소(예: Lodash)</li></ul></li><li><p>로딩 및 실행 성능 개선<br>번들 크기 감소는 다음과 같은 성능 개선으로 이어진다:</p><ul><li><strong>초기 로딩 시간 단축</strong>: 더 작은 번들로 다운로드 시간 단축</li><li><strong>파싱 시간 감소</strong>: 브라우저가 처리해야 할 코드 양 감소</li><li><strong>실행 시간 개선</strong>: 초기화해야 할 코드 감소</li></ul></li></ol><h4 id=사례-연구-lodash>사례 연구: Lodash<a hidden class=anchor aria-hidden=true href=#사례-연구-lodash>#</a></h4><p>Lodash는 트리 쉐이킹의 중요성을 보여주는 대표적인 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 트리 쉐이킹 없이 전체 Lodash 가져오기 (~70KB 압축)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>_</span> <span class=nx>from</span> <span class=s1>&#39;lodash&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 트리 쉐이킹으로 필요한 함수만 가져오기 (~3KB 압축)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>map</span> <span class=nx>from</span> <span class=s1>&#39;lodash-es/map&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>filter</span> <span class=nx>from</span> <span class=s1>&#39;lodash-es/filter&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=트리-쉐이킹의-한계와-도전-과제>트리 쉐이킹의 한계와 도전 과제<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹의-한계와-도전-과제>#</a></h3><p>트리 쉐이킹이 항상 완벽한 해결책은 아니다.<br>몇 가지 한계와 도전 과제가 있다:</p><ol><li><p>동적 가져오기의 어려움</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 동적 가져오기 - 트리 쉐이킹 어려움
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>componentName</span> <span class=o>=</span> <span class=nx>getComponentName</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Component</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=sb>`./components/</span><span class=si>${</span><span class=nx>componentName</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>CommonJS와의 호환성 문제</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// CommonJS 모듈은 트리 쉐이킹하기 어려움
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>utils</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./utils&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>utils</span><span class=p>.</span><span class=nx>someFunction</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>사이드 이펙트 감지의 어려움</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 번들러가 사이드 이펙트를 정확히 감지하기 어려운 예
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>MyComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>프로토타입 수정과 관련된 문제</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 프로토타입 수정은 사이드 이펙트로 간주됨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Array</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>customMethod</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* … */</span> <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=esm-vs-commonjs-트리-쉐이킹-비교>ESM vs. CommonJS 트리 쉐이킹 비교<a hidden class=anchor aria-hidden=true href=#esm-vs-commonjs-트리-쉐이킹-비교>#</a></h3><table><thead><tr><th>모듈 시스템</th><th>트리 쉐이킹 효과</th><th>정적 분석 용이성</th><th>번들러 지원</th><th>추가 구성 필요</th></tr></thead><tbody><tr><td>ES Modules (ESM)</td><td>우수함 (90-100%)</td><td>매우 높음</td><td>모든 주요 번들러</td><td>최소 또는 없음</td></tr><tr><td>CommonJS</td><td>제한적 (0-40%)</td><td>낮음</td><td>일부 번들러만 부분 지원</td><td>복잡한 구성 필요</td></tr><tr><td>AMD</td><td>제한적 (20-50%)</td><td>중간</td><td>일부 번들러</td><td>중간 수준</td></tr><tr><td>UMD</td><td>제한적 (10-30%)</td><td>낮음</td><td>일부 번들러 제한적 지원</td><td>복잡한 구성 필요</td></tr></tbody></table><h4 id=esm-예시>ESM 예시<a hidden class=anchor aria-hidden=true href=#esm-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// math.js (ESM)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>const</span> <span class=nx>add</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>subtract</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>multiply</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>divide</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>/</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// main.js (ESM)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>add</span><span class=p>,</span> <span class=nx>multiply</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./math.js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>multiply</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>결과</strong>: <code>subtract</code>와 <code>divide</code> 함수는 최종 번들에서 제외된다.</p><h4 id=commonjs-예시>CommonJS 예시<a hidden class=anchor aria-hidden=true href=#commonjs-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// math.js (CommonJS)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>exports</span><span class=p>.</span><span class=nx>add</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>exports</span><span class=p>.</span><span class=nx>subtract</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>exports</span><span class=p>.</span><span class=nx>multiply</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>exports</span><span class=p>.</span><span class=nx>divide</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>/</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// main.js (CommonJS)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>add</span><span class=p>,</span> <span class=nx>multiply</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./math.js&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>multiply</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>결과</strong>: 일반적으로 모든 함수가 번들에 포함되지만, 일부 번들러는 특별한 분석을 통해 제한적인 트리 쉐이킹을 시도한다.</p><h3 id=트리-쉐이킹에-관한-번들러-프레임워크-라이브러리-비교>트리 쉐이킹에 관한 번들러, 프레임워크, 라이브러리 비교<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹에-관한-번들러-프레임워크-라이브러리-비교>#</a></h3><h4 id=주요-번들러의-트리-쉐이킹-구현>주요 번들러의 트리 쉐이킹 구현<a hidden class=anchor aria-hidden=true href=#주요-번들러의-트리-쉐이킹-구현>#</a></h4><p>다양한 자바스크립트 번들러는 각기 다른 방식으로 트리 쉐이킹을 구현한다:</p><table><thead><tr><th>번들러</th><th>트리 쉐이킹 기본 지원</th><th>구성 복잡성</th><th>ESM 지원</th><th>CommonJS 지원</th><th>사이드 이펙트 처리</th><th>성능</th></tr></thead><tbody><tr><td>Webpack</td><td>지원 (v2+)</td><td>중간</td><td>완전 지원</td><td>제한적 지원</td><td><code>sideEffects</code> 플래그 지원</td><td>중간</td></tr><tr><td>Rollup</td><td>처음부터 내장</td><td>낮음</td><td>완전 지원</td><td>플러그인 필요</td><td>세밀한 제어 가능</td><td>우수함</td></tr><tr><td>ESBuild</td><td>기본 내장</td><td>매우 낮음</td><td>완전 지원</td><td>제한적 지원</td><td>기본 지원</td><td>매우 우수함</td></tr><tr><td>Parcel</td><td>기본 내장</td><td>거의 없음</td><td>완전 지원</td><td>제한적 지원</td><td>기본 지원</td><td>우수함</td></tr><tr><td>Browserify</td><td>플러그인 필요</td><td>높음</td><td>플러그인 필요</td><td>기본 지원</td><td>제한적</td><td>낮음</td></tr></tbody></table><h5 id=webpack>Webpack<a hidden class=anchor aria-hidden=true href=#webpack>#</a></h5><p>Webpack은 가장 널리 사용되는 번들러 중 하나로, 트리 쉐이킹을 위해 다음과 같은 기능을 제공한다:</p><ul><li><strong>프로덕션 모드</strong>: <code>mode: 'production'</code> 설정으로 자동 최적화</li><li><strong>사이드 이펙트 표시</strong>: <code>package.json</code>의 <code>sideEffects</code> 필드 활용</li><li><strong>Terser 통합</strong>: 미사용 코드 제거를 위한 최종 최적화</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// webpack.config.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>mode</span><span class=o>:</span> <span class=s1>&#39;production&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>optimization</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>usedExports</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  <span class=c1>// 트리 쉐이킹 활성화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>minimize</span><span class=o>:</span> <span class=kc>true</span>      <span class=c1>// 미니파이어 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// package.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span><span class=o>:</span> <span class=s2>&#34;my-package&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sideEffects&#34;</span><span class=o>:</span> <span class=kc>false</span>  <span class=c1>// 사이드 이펙트 없음을 표시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=rollup>Rollup<a hidden class=anchor aria-hidden=true href=#rollup>#</a></h5><p>Rollup은 트리 쉐이킹에 초점을 맞춘 번들러로, 기본적으로 더 효과적인 트리 쉐이킹을 제공한다:</p><ul><li><strong>ES 모듈 중심</strong>: 기본적으로 ES 모듈에 최적화됨</li><li><strong>정교한 정적 분석</strong>: 더 철저한 데드 코드 검출</li><li><strong>코드 분할 및 동적 가져오기 지원</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// rollup.config.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>input</span><span class=o>:</span> <span class=s1>&#39;src/main.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>file</span><span class=o>:</span> <span class=s1>&#39;bundle.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>format</span><span class=o>:</span> <span class=s1>&#39;esm&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>treeshake</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>moduleSideEffects</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>   <span class=c1>// 모듈 사이드 이펙트 없음
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>propertyReadSideEffects</span><span class=o>:</span> <span class=kc>false</span>  <span class=c1>// 속성 읽기에 사이드 이펙트 없음
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=esbuild>ESBuild<a hidden class=anchor aria-hidden=true href=#esbuild>#</a></h5><p>ESBuild는 속도에 최적화된 최신 번들러로 트리 쉐이킹도 지원한다:</p><ul><li><strong>Go로 작성</strong>: 매우 빠른 성능</li><li><strong>기본 내장 트리 쉐이킹</strong></li><li><strong>사이드 이펙트 표시 지원</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5>5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6>6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7>7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// esbuild.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;esbuild&#39;</span><span class=p>).</span><span class=nx>build</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>entryPoints</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;src/main.js&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>bundle</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>minify</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>treeShaking</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  <span class=c1>// 명시적 활성화(기본값은 true)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>outfile</span><span class=o>:</span> <span class=s1>&#39;dist/bundle.js&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=다양한-프레임워크에서의-트리-쉐이킹>다양한 프레임워크에서의 트리 쉐이킹<a hidden class=anchor aria-hidden=true href=#다양한-프레임워크에서의-트리-쉐이킹>#</a></h4><table><thead><tr><th>프레임워크</th><th>트리 쉐이킹 지원</th><th>기본 모듈 시스템</th><th>사이드 이펙트 관리</th><th>코드 분할 지원</th></tr></thead><tbody><tr><td>React</td><td>매우 좋음</td><td>ESM</td><td>컴포넌트 기반 분리 가능</td><td><code>React.lazy()</code></td></tr><tr><td>Vue.js</td><td>좋음</td><td>ESM</td><td>컴포저블 API로 개선됨</td><td>비동기 컴포넌트</td></tr><tr><td>Angular</td><td>매우 좋음</td><td>ESM</td><td>NgModules 시스템</td><td>지연 로딩 모듈</td></tr><tr><td>Svelte</td><td>우수함</td><td>ESM</td><td>컴파일 타임 최적화</td><td>동적 가져오기</td></tr><tr><td>Alpine.js</td><td>중간</td><td>ESM/IIFE</td><td>제한적</td><td>제한적</td></tr></tbody></table><h5 id=react>React<a hidden class=anchor aria-hidden=true href=#react>#</a></h5><p>React 애플리케이션에서 트리 쉐이킹 최적화:</p><ul><li><strong>컴포넌트 단위 분리</strong>: 각 컴포넌트를 개별 파일로 관리</li><li><strong>React.lazy()와 동적 가져오기</strong>: 필요할 때만 컴포넌트 로드</li><li><strong>HOC 및 렌더 프롭스 최적화</strong>: 불필요한 래퍼 컴포넌트 제거</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 동적 컴포넌트 로딩으로 트리 쉐이킹 개선
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>AdminPanel</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>lazy</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./AdminPanel&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>App</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>Suspense</span> <span class=nx>fallback</span><span class=o>=</span><span class=p>{</span><span class=o>&lt;</span><span class=nx>Loading</span> <span class=o>/&gt;</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>isAdmin</span> <span class=o>&amp;&amp;</span> <span class=o>&lt;</span><span class=nx>AdminPanel</span> <span class=o>/&gt;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/Suspense&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=vuejs>Vue.js<a hidden class=anchor aria-hidden=true href=#vuejs>#</a></h5><p>Vue.js에서 트리 쉐이킹 최적화:</p><ul><li><strong>ES 모듈 빌드 사용</strong>: <code>import Vue from 'vue/dist/vue.esm.js'</code></li><li><strong>컴포넌트 로컬 등록</strong>: 전역 등록 대신 로컬 등록 활용</li><li><strong>비동기 컴포넌트</strong>: 필요할 때만 로드</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Vue 3의 컴포저블 API로 트리 쉐이킹 개선
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span><span class=p>,</span> <span class=nx>computed</span><span class=p>,</span> <span class=nx>onMounted</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 필요한 API만 번들에 포함됨
</span></span></span></code></pre></td></tr></table></div></div><h5 id=angular>Angular<a hidden class=anchor aria-hidden=true href=#angular>#</a></h5><p>Angular에서 트리 쉐이킹 최적화:</p><ul><li><strong>Angular CLI 빌드 최적화</strong>: 기본 지원됨</li><li><strong>지연 로딩 모듈</strong>: 필요할 때만 모듈 로드</li><li><strong>NgModules 분리</strong>: 기능별로 모듈 분리</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// 라우팅에서 지연 로딩으로 트리 쉐이킹 개선
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>routes</span>: <span class=kt>Routes</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;admin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>loadChildren</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./admin/admin.module&#39;</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span><span class=nx>m</span> <span class=o>=&gt;</span> <span class=nx>m</span><span class=p>.</span><span class=nx>AdminModule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=트리-쉐이킹-지원-라이브러리>트리 쉐이킹 지원 라이브러리<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹-지원-라이브러리>#</a></h4><p>트리 쉐이킹에 최적화된 몇 가지 주요 라이브러리:</p><table><thead><tr><th>라이브러리</th><th>트리 쉐이킹 지원</th><th>ESM 버전 제공</th><th>권장 가져오기 방법</th><th>번들 감소 효과</th></tr></thead><tbody><tr><td>Lodash</td><td>기본 버전은 제한적</td><td>lodash-es</td><td>개별 함수 가져오기</td><td>85-95%</td></tr><tr><td>Moment.js</td><td>미지원</td><td>아니오</td><td>대안 사용 권장</td><td>0%</td></tr><tr><td>date-fns</td><td>완전 지원</td><td>예</td><td>필요한 함수만 가져오기</td><td>90-98%</td></tr><tr><td>Material-UI</td><td>완전 지원</td><td>예</td><td>경로 가져오기</td><td>60-80%</td></tr><tr><td>RxJS</td><td>v6+ 지원</td><td>예</td><td>파이프 가능 연산자 사용</td><td>70-90%</td></tr><tr><td>jQuery</td><td>미지원</td><td>아니오</td><td>대안 사용 권장</td><td>0%</td></tr><tr><td>Ramda</td><td>지원</td><td>예</td><td>개별 함수 가져오기</td><td>85-95%</td></tr></tbody></table><h5 id=lodash-es>Lodash-es<a hidden class=anchor aria-hidden=true href=#lodash-es>#</a></h5><p>Lodash의 ES 모듈 버전:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 트리 쉐이킹 지원
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>map</span><span class=p>,</span> <span class=nx>filter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;lodash-es&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=date-fns>Date-fns<a hidden class=anchor aria-hidden=true href=#date-fns>#</a></h5><p>날짜 처리를 위한 함수형 유틸리티 라이브러리:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 트리 쉐이킹 지원
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>format</span><span class=p>,</span> <span class=nx>addDays</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=material-ui--mui>Material-UI / MUI<a hidden class=anchor aria-hidden=true href=#material-ui--mui>#</a></h5><p>React UI 라이브러리:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 트리 쉐이킹 지원
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Button</span> <span class=nx>from</span> <span class=s1>&#39;@mui/material/Button&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;@mui/material/TextField&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실제-프로젝트에서의-트리-쉐이킹-전후-비교>실제 프로젝트에서의 트리 쉐이킹 전후 비교<a hidden class=anchor aria-hidden=true href=#실제-프로젝트에서의-트리-쉐이킹-전후-비교>#</a></h3><p>실제 프로젝트에서 트리 쉐이킹 적용 전후 비교:</p><h4 id=전형적인-프로젝트-예시-가상-데이터>전형적인 프로젝트 예시 (가상 데이터)<a hidden class=anchor aria-hidden=true href=#전형적인-프로젝트-예시-가상-데이터>#</a></h4><table><thead><tr><th>최적화 단계</th><th>번들 크기</th><th>로딩 시간</th><th>실행 시간</th></tr></thead><tbody><tr><td>최적화 전</td><td>1.2MB</td><td>780ms</td><td>350ms</td></tr><tr><td>트리 쉐이킹 적용</td><td>720KB</td><td>480ms</td><td>280ms</td></tr><tr><td>추가 최적화</td><td>520KB</td><td>320ms</td><td>230ms</td></tr></tbody></table><h4 id=momentjs-vs-date-fns>Moment.js vs. Date-fns<a hidden class=anchor aria-hidden=true href=#momentjs-vs-date-fns>#</a></h4><p>Moment.js(트리 쉐이킹 미지원)에서 date-fns(트리 쉐이킹 지원)로 마이그레이션:</p><table><thead><tr><th>라이브러리</th><th>가져오기 방식</th><th>번들 크기</th></tr></thead><tbody><tr><td>Moment.js</td><td><code>import moment from 'moment'</code></td><td>~230KB</td></tr><tr><td>date-fns</td><td><code>import { format } from 'date-fns'</code></td><td>~3KB</td></tr></tbody></table><h3 id=트리-쉐이킹-진단-및-분석-도구>트리 쉐이킹 진단 및 분석 도구<a hidden class=anchor aria-hidden=true href=#트리-쉐이킹-진단-및-분석-도구>#</a></h3><p>트리 쉐이킹 효과를 분석하고 개선하기 위한 도구들이 있다:</p><h4 id=webpack-bundle-analyzer>Webpack Bundle Analyzer<a hidden class=anchor aria-hidden=true href=#webpack-bundle-analyzer>#</a></h4><p>번들 내용과 크기를 시각화하여 개선 지점 식별:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save-dev webpack-bundle-analyzer
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// webpack.config.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>BundleAnalyzerPlugin</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;webpack-bundle-analyzer&#39;</span><span class=p>).</span><span class=nx>BundleAnalyzerPlugin</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>BundleAnalyzerPlugin</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=rollup-plugin-visualizer>Rollup Plugin Visualizer<a hidden class=anchor aria-hidden=true href=#rollup-plugin-visualizer>#</a></h4><p>Rollup 번들을 시각화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save-dev rollup-plugin-visualizer
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// rollup.config.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>visualizer</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;rollup-plugin-visualizer&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=nx>visualizer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=source-map-explorer>Source-map-explorer<a hidden class=anchor aria-hidden=true href=#source-map-explorer>#</a></h4><p>소스맵을 사용하여 번들 구성 분석:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save-dev source-map-explorer
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2>2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3>3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4>4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5>5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// package.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scripts&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;analyze&#34;</span><span class=p>:</span> <span class=s2>&#34;source-map-explorer &#39;build/static/js/*.js&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/programming-languages/>Programming-Languages</a></li><li><a href=https://buenhyden.github.io/tags/javascript/>Javascript</a></li><li><a href=https://buenhyden.github.io/tags/advanced/>Advanced</a></li><li><a href=https://buenhyden.github.io/tags/build-tools/>Build-Tools</a></li><li><a href=https://buenhyden.github.io/tags/module-bundlers/>Module-Bundlers</a></li><li><a href=https://buenhyden.github.io/tags/tree-shaking/>Tree-Shaking</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/core-features/asynchronous-programming/callback/currying/><span class=title>« Prev</span><br><span>Currying</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/javascript-family/javascript/getting-started/syntax-and-basic-types/variables/temporal-dead-zone/><span class=title>Next »</span><br><span>Temporal Dead Zone</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>