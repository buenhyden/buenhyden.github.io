<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fastify | hyunyoun's Blog</title>
<meta name=keywords content="Programming-Languages,Javascript,Web-Framework,Fastify"><meta name=description content="Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/fastify/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/fastify/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/fastify/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Fastify"><meta property="og:description" content="Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-22T13:22:00+00:00"><meta property="article:modified_time" content="2024-11-22T13:22:00+00:00"><meta property="article:tag" content="Programming-Languages"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Web-Framework"><meta property="article:tag" content="Fastify"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Fastify"><meta name=twitter:description content="Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Programming Languages","item":"https://buenhyden.github.io/posts/programming-languages/"},{"@type":"ListItem","position":3,"name":"Javascript","item":"https://buenhyden.github.io/posts/programming-languages/javascript/"},{"@type":"ListItem","position":4,"name":"Javascript's Runtime Environments","item":"https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/"},{"@type":"ListItem","position":5,"name":"NodeJS","item":"https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/"},{"@type":"ListItem","position":7,"name":"Javascript Web Framework","item":"https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/"},{"@type":"ListItem","position":8,"name":"Fastify","item":"https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/fastify/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fastify","name":"Fastify","description":"Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크","keywords":["Programming-Languages","Javascript","Web-Framework","Fastify"],"articleBody":"Fastify Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크. 2016년에 처음 출시되었으며, 성능과 개발자 경험을 모두 중요하게 고려하여 설계되었다.\nExpress.js와 유사한 API를 제공하면서도, JSON 스키마를 기반으로 한 검증과 높은 성능이 특징이다.\n주요 특징 높은 성능: 최적화된 HTTP 레이어를 통해 높은 처리량과 낮은 지연 시간 제공 JSON 스키마 기반 검증: 내장된 데이터 검증 및 직렬화 기능 플러그인 아키텍처: 강력한 확장성을 위한 모듈식 구조 비동기 지원: async/await를 기본적으로 지원 TypeScript 지원: 타입 안전성과 자동 완성 기능 제공 장점 뛰어난 성능: 초당 많은 요청을 처리할 수 있는 높은 처리량 개발자 친화적: 직관적인 API와 풍부한 문서 제공 유연성: 다양한 플러그인과 미들웨어 지원 보안: 내장된 보안 기능과 데이터 검증 단점 및 한계 학습 곡선: 초보자에게는 다소 복잡할 수 있음 생태계 규모: Express.js에 비해 상대적으로 작은 커뮤니티와 플러그인 생태계 사용 방법 기본적인 설치와 서버 설정부터 살펴보겠습니다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // 설치 npm install fastify // 기본 서버 설정 const fastify = require('fastify')({ logger: true }); // 라우트 정의 fastify.get('/', async (request, reply) =\u003e { return { hello: 'world' }; }); // 서버 시작 const start = async () =\u003e { try { await fastify.listen({ port: 3000 }); } catch (err) { fastify.log.error(err); process.exit(1); } }; start(); 주요 명령어 fastify.get(), fastify.post() 등: 라우트 정의 fastify.register(): 플러그인 등록 fastify.listen(): 서버 시작 fastify.log: 로깅 Fastify의 주요 기능 이제 더 복잡한 예시를 통한 Fastify의 주요 기능들\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 const fastify = require('fastify')({ logger: { level: 'info', prettyPrint: true } }); // JSON 스키마 정의 const userSchema = { type: 'object', properties: { id: { type: 'integer' }, name: { type: 'string' }, email: { type: 'string', format: 'email' } }, required: ['name', 'email'] }; // 사용자 데이터 저장소 const users = new Map(); // 플러그인 정의 const usersPlugin = async (fastify, options) =\u003e { // CREATE fastify.post('/users', { schema: { body: userSchema, response: { 201: userSchema } } }, async (request, reply) =\u003e { const { name, email } = request.body; const id = users.size + 1; const user = { id, name, email }; users.set(id, user); reply.code(201); return user; }); // READ fastify.get('/users/:id', { schema: { params: { type: 'object', properties: { id: { type: 'string' } } }, response: { 200: userSchema, 404: { type: 'object', properties: { message: { type: 'string' } } } } } }, async (request, reply) =\u003e { const id = parseInt(request.params.id); const user = users.get(id); if (!user) { reply.code(404); return { message: 'User not found' }; } return user; }); // UPDATE fastify.put('/users/:id', { schema: { params: { type: 'object', properties: { id: { type: 'string' } } }, body: userSchema, response: { 200: userSchema } } }, async (request, reply) =\u003e { const id = parseInt(request.params.id); const { name, email } = request.body; if (!users.has(id)) { reply.code(404); return { message: 'User not found' }; } const user = { id, name, email }; users.set(id, user); return user; }); // DELETE fastify.delete('/users/:id', { schema: { params: { type: 'object', properties: { id: { type: 'string' } } } } }, async (request, reply) =\u003e { const id = parseInt(request.params.id); if (!users.has(id)) { reply.code(404); return { message: 'User not found' }; } users.delete(id); reply.code(204); }); }; // 훅 사용 예시 fastify.addHook('preHandler', async (request, reply) =\u003e { // 요청 처리 전에 실행되는 코드 request.log.info(`Incoming ${request.method} request to ${request.url}`); }); // 플러그인 등록 fastify.register(usersPlugin); // 커스텀 에러 핸들러 fastify.setErrorHandler((error, request, reply) =\u003e { request.log.error(error); reply.status(500).send({ error: 'Something went wrong' }); }); // 데코레이터 추가 fastify.decorateRequest('timestamp', null); fastify.addHook('onRequest', async (request) =\u003e { request.timestamp = new Date(); }); // 서버 시작 const start = async () =\u003e { try { await fastify.listen({ port: 3000 }); fastify.log.info(`Server listening on ${fastify.server.address().port}`); } catch (err) { fastify.log.error(err); process.exit(1); } }; start(); 주요 명령어와 기능 라우팅 메서드:\n1 2 3 4 5 fastify.get() fastify.post() fastify.put() fastify.delete() fastify.patch() 미들웨어와 훅:\n1 2 3 fastify.addHook('onRequest', async (request, reply) =\u003e {}) fastify.addHook('preHandler', async (request, reply) =\u003e {}) fastify.addHook('onResponse', async (request, reply) =\u003e {}) 플러그인 관련:\n1 2 3 4 fastify.register(plugin, options) fastify.decorate(name, value) fastify.decorateRequest(name, value) fastify.decorateReply(name, value) 유효성 검사:\n1 2 3 4 5 6 7 8 fastify.route({ schema: { body: schema, querystring: schema, params: schema, response: schema } }) 참고 및 출처 Fast and low overhead web framework, for Node.js | Fastify\n","wordCount":"861","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-11-22T13:22:00Z","dateModified":"2024-11-22T13:22:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/fastify/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/>Programming Languages</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript/>Javascript</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/>Javascript's Runtime Environments</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/>NodeJS</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/>Javascript Web Framework</a></div><h1 class="post-title entry-hint-parent">Fastify</h1><div class=post-description>Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크</div><div class=post-meta><span title='2024-11-22 13:22:00 +0000 UTC'>November 22, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;861 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20Languages/Javascript/Runtime%20Environments/NodeJS/Library/APIs/Fastify.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#fastify>Fastify</a><ul><li><a href=#주요-특징>주요 특징</a></li><li><a href=#장점>장점</a></li><li><a href=#단점-및-한계>단점 및 한계</a></li><li><a href=#사용-방법>사용 방법</a></li><li><a href=#주요-명령어>주요 명령어</a></li><li><a href=#fastify의-주요-기능>Fastify의 주요 기능</a></li><li><a href=#주요-명령어와-기능>주요 명령어와 기능</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=fastify>Fastify<a hidden class=anchor aria-hidden=true href=#fastify>#</a></h2><p>Fastify는 Node.js를 위한 빠르고 낮은 오버헤드의 웹 프레임워크. 2016년에 처음 출시되었으며, 성능과 개발자 경험을 모두 중요하게 고려하여 설계되었다.<br>Express.js와 유사한 API를 제공하면서도, JSON 스키마를 기반으로 한 검증과 높은 성능이 특징이다.</p><h3 id=주요-특징>주요 특징<a hidden class=anchor aria-hidden=true href=#주요-특징>#</a></h3><ol><li>높은 성능: 최적화된 HTTP 레이어를 통해 높은 처리량과 낮은 지연 시간 제공</li><li>JSON 스키마 기반 검증: 내장된 데이터 검증 및 직렬화 기능</li><li>플러그인 아키텍처: 강력한 확장성을 위한 모듈식 구조</li><li>비동기 지원: async/await를 기본적으로 지원</li><li>TypeScript 지원: 타입 안전성과 자동 완성 기능 제공</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li>뛰어난 성능: 초당 많은 요청을 처리할 수 있는 높은 처리량</li><li>개발자 친화적: 직관적인 API와 풍부한 문서 제공</li><li>유연성: 다양한 플러그인과 미들웨어 지원</li><li>보안: 내장된 보안 기능과 데이터 검증</li></ol><h3 id=단점-및-한계>단점 및 한계<a hidden class=anchor aria-hidden=true href=#단점-및-한계>#</a></h3><ol><li>학습 곡선: 초보자에게는 다소 복잡할 수 있음</li><li>생태계 규모: Express.js에 비해 상대적으로 작은 커뮤니티와 플러그인 생태계</li></ol><h3 id=사용-방법>사용 방법<a hidden class=anchor aria-hidden=true href=#사용-방법>#</a></h3><p>기본적인 설치와 서버 설정부터 살펴보겠습니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 설치
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>npm</span> <span class=nx>install</span> <span class=nx>fastify</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 기본 서버 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>fastify</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fastify&#39;</span><span class=p>)({</span> <span class=nx>logger</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 라우트 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fastify</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span> <span class=nx>hello</span><span class=o>:</span> <span class=s1>&#39;world&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>start</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>fastify</span><span class=p>.</span><span class=nx>listen</span><span class=p>({</span> <span class=nx>port</span><span class=o>:</span> <span class=mi>3000</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fastify</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>.</span><span class=nx>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>start</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=주요-명령어>주요 명령어<a hidden class=anchor aria-hidden=true href=#주요-명령어>#</a></h3><ul><li><code>fastify.get()</code>, <code>fastify.post()</code> 등: 라우트 정의</li><li><code>fastify.register()</code>: 플러그인 등록</li><li><code>fastify.listen()</code>: 서버 시작</li><li><code>fastify.log</code>: 로깅</li></ul><h3 id=fastify의-주요-기능>Fastify의 주요 기능<a hidden class=anchor aria-hidden=true href=#fastify의-주요-기능>#</a></h3><p>이제 더 복잡한 예시를 통한 Fastify의 주요 기능들</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>  1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>  2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>  3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>  4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>  5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>  6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>  7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8>  8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9>  9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10> 10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11> 11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12> 12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13> 13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14> 14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15> 15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16> 16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17> 17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18> 18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19> 19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20> 20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21> 21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22> 22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23> 23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24> 24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25> 25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26> 26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27> 27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28> 28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29> 29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30> 30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31> 31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32> 32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33> 33</a>
</span><span class=lnt id=hl-1-34><a class=lnlinks href=#hl-1-34> 34</a>
</span><span class=lnt id=hl-1-35><a class=lnlinks href=#hl-1-35> 35</a>
</span><span class=lnt id=hl-1-36><a class=lnlinks href=#hl-1-36> 36</a>
</span><span class=lnt id=hl-1-37><a class=lnlinks href=#hl-1-37> 37</a>
</span><span class=lnt id=hl-1-38><a class=lnlinks href=#hl-1-38> 38</a>
</span><span class=lnt id=hl-1-39><a class=lnlinks href=#hl-1-39> 39</a>
</span><span class=lnt id=hl-1-40><a class=lnlinks href=#hl-1-40> 40</a>
</span><span class=lnt id=hl-1-41><a class=lnlinks href=#hl-1-41> 41</a>
</span><span class=lnt id=hl-1-42><a class=lnlinks href=#hl-1-42> 42</a>
</span><span class=lnt id=hl-1-43><a class=lnlinks href=#hl-1-43> 43</a>
</span><span class=lnt id=hl-1-44><a class=lnlinks href=#hl-1-44> 44</a>
</span><span class=lnt id=hl-1-45><a class=lnlinks href=#hl-1-45> 45</a>
</span><span class=lnt id=hl-1-46><a class=lnlinks href=#hl-1-46> 46</a>
</span><span class=lnt id=hl-1-47><a class=lnlinks href=#hl-1-47> 47</a>
</span><span class=lnt id=hl-1-48><a class=lnlinks href=#hl-1-48> 48</a>
</span><span class=lnt id=hl-1-49><a class=lnlinks href=#hl-1-49> 49</a>
</span><span class=lnt id=hl-1-50><a class=lnlinks href=#hl-1-50> 50</a>
</span><span class=lnt id=hl-1-51><a class=lnlinks href=#hl-1-51> 51</a>
</span><span class=lnt id=hl-1-52><a class=lnlinks href=#hl-1-52> 52</a>
</span><span class=lnt id=hl-1-53><a class=lnlinks href=#hl-1-53> 53</a>
</span><span class=lnt id=hl-1-54><a class=lnlinks href=#hl-1-54> 54</a>
</span><span class=lnt id=hl-1-55><a class=lnlinks href=#hl-1-55> 55</a>
</span><span class=lnt id=hl-1-56><a class=lnlinks href=#hl-1-56> 56</a>
</span><span class=lnt id=hl-1-57><a class=lnlinks href=#hl-1-57> 57</a>
</span><span class=lnt id=hl-1-58><a class=lnlinks href=#hl-1-58> 58</a>
</span><span class=lnt id=hl-1-59><a class=lnlinks href=#hl-1-59> 59</a>
</span><span class=lnt id=hl-1-60><a class=lnlinks href=#hl-1-60> 60</a>
</span><span class=lnt id=hl-1-61><a class=lnlinks href=#hl-1-61> 61</a>
</span><span class=lnt id=hl-1-62><a class=lnlinks href=#hl-1-62> 62</a>
</span><span class=lnt id=hl-1-63><a class=lnlinks href=#hl-1-63> 63</a>
</span><span class=lnt id=hl-1-64><a class=lnlinks href=#hl-1-64> 64</a>
</span><span class=lnt id=hl-1-65><a class=lnlinks href=#hl-1-65> 65</a>
</span><span class=lnt id=hl-1-66><a class=lnlinks href=#hl-1-66> 66</a>
</span><span class=lnt id=hl-1-67><a class=lnlinks href=#hl-1-67> 67</a>
</span><span class=lnt id=hl-1-68><a class=lnlinks href=#hl-1-68> 68</a>
</span><span class=lnt id=hl-1-69><a class=lnlinks href=#hl-1-69> 69</a>
</span><span class=lnt id=hl-1-70><a class=lnlinks href=#hl-1-70> 70</a>
</span><span class=lnt id=hl-1-71><a class=lnlinks href=#hl-1-71> 71</a>
</span><span class=lnt id=hl-1-72><a class=lnlinks href=#hl-1-72> 72</a>
</span><span class=lnt id=hl-1-73><a class=lnlinks href=#hl-1-73> 73</a>
</span><span class=lnt id=hl-1-74><a class=lnlinks href=#hl-1-74> 74</a>
</span><span class=lnt id=hl-1-75><a class=lnlinks href=#hl-1-75> 75</a>
</span><span class=lnt id=hl-1-76><a class=lnlinks href=#hl-1-76> 76</a>
</span><span class=lnt id=hl-1-77><a class=lnlinks href=#hl-1-77> 77</a>
</span><span class=lnt id=hl-1-78><a class=lnlinks href=#hl-1-78> 78</a>
</span><span class=lnt id=hl-1-79><a class=lnlinks href=#hl-1-79> 79</a>
</span><span class=lnt id=hl-1-80><a class=lnlinks href=#hl-1-80> 80</a>
</span><span class=lnt id=hl-1-81><a class=lnlinks href=#hl-1-81> 81</a>
</span><span class=lnt id=hl-1-82><a class=lnlinks href=#hl-1-82> 82</a>
</span><span class=lnt id=hl-1-83><a class=lnlinks href=#hl-1-83> 83</a>
</span><span class=lnt id=hl-1-84><a class=lnlinks href=#hl-1-84> 84</a>
</span><span class=lnt id=hl-1-85><a class=lnlinks href=#hl-1-85> 85</a>
</span><span class=lnt id=hl-1-86><a class=lnlinks href=#hl-1-86> 86</a>
</span><span class=lnt id=hl-1-87><a class=lnlinks href=#hl-1-87> 87</a>
</span><span class=lnt id=hl-1-88><a class=lnlinks href=#hl-1-88> 88</a>
</span><span class=lnt id=hl-1-89><a class=lnlinks href=#hl-1-89> 89</a>
</span><span class=lnt id=hl-1-90><a class=lnlinks href=#hl-1-90> 90</a>
</span><span class=lnt id=hl-1-91><a class=lnlinks href=#hl-1-91> 91</a>
</span><span class=lnt id=hl-1-92><a class=lnlinks href=#hl-1-92> 92</a>
</span><span class=lnt id=hl-1-93><a class=lnlinks href=#hl-1-93> 93</a>
</span><span class=lnt id=hl-1-94><a class=lnlinks href=#hl-1-94> 94</a>
</span><span class=lnt id=hl-1-95><a class=lnlinks href=#hl-1-95> 95</a>
</span><span class=lnt id=hl-1-96><a class=lnlinks href=#hl-1-96> 96</a>
</span><span class=lnt id=hl-1-97><a class=lnlinks href=#hl-1-97> 97</a>
</span><span class=lnt id=hl-1-98><a class=lnlinks href=#hl-1-98> 98</a>
</span><span class=lnt id=hl-1-99><a class=lnlinks href=#hl-1-99> 99</a>
</span><span class=lnt id=hl-1-100><a class=lnlinks href=#hl-1-100>100</a>
</span><span class=lnt id=hl-1-101><a class=lnlinks href=#hl-1-101>101</a>
</span><span class=lnt id=hl-1-102><a class=lnlinks href=#hl-1-102>102</a>
</span><span class=lnt id=hl-1-103><a class=lnlinks href=#hl-1-103>103</a>
</span><span class=lnt id=hl-1-104><a class=lnlinks href=#hl-1-104>104</a>
</span><span class=lnt id=hl-1-105><a class=lnlinks href=#hl-1-105>105</a>
</span><span class=lnt id=hl-1-106><a class=lnlinks href=#hl-1-106>106</a>
</span><span class=lnt id=hl-1-107><a class=lnlinks href=#hl-1-107>107</a>
</span><span class=lnt id=hl-1-108><a class=lnlinks href=#hl-1-108>108</a>
</span><span class=lnt id=hl-1-109><a class=lnlinks href=#hl-1-109>109</a>
</span><span class=lnt id=hl-1-110><a class=lnlinks href=#hl-1-110>110</a>
</span><span class=lnt id=hl-1-111><a class=lnlinks href=#hl-1-111>111</a>
</span><span class=lnt id=hl-1-112><a class=lnlinks href=#hl-1-112>112</a>
</span><span class=lnt id=hl-1-113><a class=lnlinks href=#hl-1-113>113</a>
</span><span class=lnt id=hl-1-114><a class=lnlinks href=#hl-1-114>114</a>
</span><span class=lnt id=hl-1-115><a class=lnlinks href=#hl-1-115>115</a>
</span><span class=lnt id=hl-1-116><a class=lnlinks href=#hl-1-116>116</a>
</span><span class=lnt id=hl-1-117><a class=lnlinks href=#hl-1-117>117</a>
</span><span class=lnt id=hl-1-118><a class=lnlinks href=#hl-1-118>118</a>
</span><span class=lnt id=hl-1-119><a class=lnlinks href=#hl-1-119>119</a>
</span><span class=lnt id=hl-1-120><a class=lnlinks href=#hl-1-120>120</a>
</span><span class=lnt id=hl-1-121><a class=lnlinks href=#hl-1-121>121</a>
</span><span class=lnt id=hl-1-122><a class=lnlinks href=#hl-1-122>122</a>
</span><span class=lnt id=hl-1-123><a class=lnlinks href=#hl-1-123>123</a>
</span><span class=lnt id=hl-1-124><a class=lnlinks href=#hl-1-124>124</a>
</span><span class=lnt id=hl-1-125><a class=lnlinks href=#hl-1-125>125</a>
</span><span class=lnt id=hl-1-126><a class=lnlinks href=#hl-1-126>126</a>
</span><span class=lnt id=hl-1-127><a class=lnlinks href=#hl-1-127>127</a>
</span><span class=lnt id=hl-1-128><a class=lnlinks href=#hl-1-128>128</a>
</span><span class=lnt id=hl-1-129><a class=lnlinks href=#hl-1-129>129</a>
</span><span class=lnt id=hl-1-130><a class=lnlinks href=#hl-1-130>130</a>
</span><span class=lnt id=hl-1-131><a class=lnlinks href=#hl-1-131>131</a>
</span><span class=lnt id=hl-1-132><a class=lnlinks href=#hl-1-132>132</a>
</span><span class=lnt id=hl-1-133><a class=lnlinks href=#hl-1-133>133</a>
</span><span class=lnt id=hl-1-134><a class=lnlinks href=#hl-1-134>134</a>
</span><span class=lnt id=hl-1-135><a class=lnlinks href=#hl-1-135>135</a>
</span><span class=lnt id=hl-1-136><a class=lnlinks href=#hl-1-136>136</a>
</span><span class=lnt id=hl-1-137><a class=lnlinks href=#hl-1-137>137</a>
</span><span class=lnt id=hl-1-138><a class=lnlinks href=#hl-1-138>138</a>
</span><span class=lnt id=hl-1-139><a class=lnlinks href=#hl-1-139>139</a>
</span><span class=lnt id=hl-1-140><a class=lnlinks href=#hl-1-140>140</a>
</span><span class=lnt id=hl-1-141><a class=lnlinks href=#hl-1-141>141</a>
</span><span class=lnt id=hl-1-142><a class=lnlinks href=#hl-1-142>142</a>
</span><span class=lnt id=hl-1-143><a class=lnlinks href=#hl-1-143>143</a>
</span><span class=lnt id=hl-1-144><a class=lnlinks href=#hl-1-144>144</a>
</span><span class=lnt id=hl-1-145><a class=lnlinks href=#hl-1-145>145</a>
</span><span class=lnt id=hl-1-146><a class=lnlinks href=#hl-1-146>146</a>
</span><span class=lnt id=hl-1-147><a class=lnlinks href=#hl-1-147>147</a>
</span><span class=lnt id=hl-1-148><a class=lnlinks href=#hl-1-148>148</a>
</span><span class=lnt id=hl-1-149><a class=lnlinks href=#hl-1-149>149</a>
</span><span class=lnt id=hl-1-150><a class=lnlinks href=#hl-1-150>150</a>
</span><span class=lnt id=hl-1-151><a class=lnlinks href=#hl-1-151>151</a>
</span><span class=lnt id=hl-1-152><a class=lnlinks href=#hl-1-152>152</a>
</span><span class=lnt id=hl-1-153><a class=lnlinks href=#hl-1-153>153</a>
</span><span class=lnt id=hl-1-154><a class=lnlinks href=#hl-1-154>154</a>
</span><span class=lnt id=hl-1-155><a class=lnlinks href=#hl-1-155>155</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fastify</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fastify&#39;</span><span class=p>)({</span> 
</span></span><span class=line><span class=cl>  <span class=nx>logger</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>level</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>prettyPrint</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// JSON 스키마 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>userSchema</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;object&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>properties</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>id</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;integer&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span><span class=p>,</span> <span class=nx>format</span><span class=o>:</span> <span class=s1>&#39;email&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>required</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 데이터 저장소
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 플러그인 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>usersPlugin</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>fastify</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// CREATE
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>fastify</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>schema</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>body</span><span class=o>:</span> <span class=nx>userSchema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>response</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=mi>201</span><span class=o>:</span> <span class=nx>userSchema</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>size</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>reply</span><span class=p>.</span><span class=nx>code</span><span class=p>(</span><span class=mi>201</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// READ
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>fastify</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/users/:id&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>schema</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>params</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;object&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>properties</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>id</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>response</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=mi>200</span><span class=o>:</span> <span class=nx>userSchema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=mi>404</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;object&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>properties</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>message</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>reply</span><span class=p>.</span><span class=nx>code</span><span class=p>(</span><span class=mi>404</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;User not found&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// UPDATE
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>fastify</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/users/:id&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>schema</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>params</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;object&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>properties</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>id</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>body</span><span class=o>:</span> <span class=nx>userSchema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>response</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=mi>200</span><span class=o>:</span> <span class=nx>userSchema</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>users</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>id</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>reply</span><span class=p>.</span><span class=nx>code</span><span class=p>(</span><span class=mi>404</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;User not found&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// DELETE
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>fastify</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;/users/:id&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>schema</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>params</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;object&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>properties</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>id</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>users</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>id</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>reply</span><span class=p>.</span><span class=nx>code</span><span class=p>(</span><span class=mi>404</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;User not found&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>reply</span><span class=p>.</span><span class=nx>code</span><span class=p>(</span><span class=mi>204</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 훅 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fastify</span><span class=p>.</span><span class=nx>addHook</span><span class=p>(</span><span class=s1>&#39;preHandler&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 요청 처리 전에 실행되는 코드
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>request</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`Incoming </span><span class=si>${</span><span class=nx>request</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb> request to </span><span class=si>${</span><span class=nx>request</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 플러그인 등록
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fastify</span><span class=p>.</span><span class=nx>register</span><span class=p>(</span><span class=nx>usersPlugin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 커스텀 에러 핸들러
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fastify</span><span class=p>.</span><span class=nx>setErrorHandler</span><span class=p>((</span><span class=nx>error</span><span class=p>,</span> <span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>request</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>reply</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Something went wrong&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 데코레이터 추가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fastify</span><span class=p>.</span><span class=nx>decorateRequest</span><span class=p>(</span><span class=s1>&#39;timestamp&#39;</span><span class=p>,</span> <span class=kc>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>addHook</span><span class=p>(</span><span class=s1>&#39;onRequest&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>request</span><span class=p>.</span><span class=nx>timestamp</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>start</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>fastify</span><span class=p>.</span><span class=nx>listen</span><span class=p>({</span> <span class=nx>port</span><span class=o>:</span> <span class=mi>3000</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>fastify</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`Server listening on </span><span class=si>${</span><span class=nx>fastify</span><span class=p>.</span><span class=nx>server</span><span class=p>.</span><span class=nx>address</span><span class=p>().</span><span class=nx>port</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fastify</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>.</span><span class=nx>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>start</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=주요-명령어와-기능>주요 명령어와 기능<a hidden class=anchor aria-hidden=true href=#주요-명령어와-기능>#</a></h3><ol><li><p>라우팅 메서드:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>post</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>put</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=k>delete</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>patch</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>미들웨어와 훅:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>addHook</span><span class=p>(</span><span class=s1>&#39;onRequest&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>addHook</span><span class=p>(</span><span class=s1>&#39;preHandler&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>addHook</span><span class=p>(</span><span class=s1>&#39;onResponse&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>,</span> <span class=nx>reply</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>플러그인 관련:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>register</span><span class=p>(</span><span class=nx>plugin</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>decorate</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>decorateRequest</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>decorateReply</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>유효성 검사:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>fastify</span><span class=p>.</span><span class=nx>route</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>schema</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>body</span><span class=o>:</span> <span class=nx>schema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>querystring</span><span class=o>:</span> <span class=nx>schema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>params</span><span class=o>:</span> <span class=nx>schema</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>response</span><span class=o>:</span> <span class=nx>schema</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><p><a href=https://fastify.dev/>Fast and low overhead web framework, for Node.js | Fastify</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/programming-languages/>Programming-Languages</a></li><li><a href=https://buenhyden.github.io/tags/javascript/>Javascript</a></li><li><a href=https://buenhyden.github.io/tags/web-framework/>Web-Framework</a></li><li><a href=https://buenhyden.github.io/tags/fastify/>Fastify</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-languages/javascript/testing/puppeteer/><span class=title>« Prev</span><br><span>Puppeteer</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/javascript/runtime-environments/nodejs/library/apis/koa/><span class=title>Next »</span><br><span>Koa</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>