<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Contract Testing | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design-and-Implementation,API-Testing,Contract-Testing"><meta name=description content="계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/contract-testing/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/contract-testing/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/contract-testing/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Contract Testing"><meta property="og:description" content="계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-10T02:52:00+00:00"><meta property="article:modified_time" content="2025-03-10T02:52:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="API-Design-and-Implementation"><meta property="article:tag" content="API-Testing"><meta property="article:tag" content="Contract-Testing"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Contract Testing"><meta name=twitter:description content="계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":5,"name":"API Testing","item":"https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/"},{"@type":"ListItem","position":6,"name":"Contract Testing","item":"https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/contract-testing/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Contract Testing","name":"Contract Testing","description":"계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다.","keywords":["Backend-Development","API-Design-and-Implementation","API-Testing","Contract-Testing"],"articleBody":"Contract Testing 계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다. 현대적인 소프트웨어 아키텍처, 특히 마이크로서비스 환경에서 매우 중요한 역할을 한다.\n계약의 정의 API 계약은 서비스 제공자(Provider)와 소비자(Consumer) 간의 “약속\"으로 볼 수 있다.\n이 계약은 다음과 같은 요소를 포함한다:\nAPI 엔드포인트 및 경로 요청 및 응답 형식(JSON, XML 등) 데이터 구조 및 필드 정의 상태 코드 및 오류 처리 방식 인증 및 권한 부여 요구사항 계약 테스트의 필요성 마이크로서비스 아키텍처에서는 수십, 수백 개의 서비스가 서로 상호작용한다.\n이러한 환경에서 계약 테스트가 필요한 이유는 다음과 같다:\n변경 관리: 서비스가 변경될 때 다른 서비스에 미치는 영향을 최소화 독립적 개발: 팀이 독립적으로 개발하면서도 통합 문제를 조기에 발견 빠른 피드백: 실제 통합 전에 문제를 식별하여 개발 주기 단축 신뢰성 향상: 시스템 전체의 안정성과 신뢰성 보장 계약 테스트 vs. 다른 테스트 방법 계약 테스트는 다른 테스트 방법과 어떻게 다른지 이해하는 것이 중요하다.\n단위 테스트와의 차이점 단위 테스트: 개별 코드 단위의 기능을 검증 계약 테스트: 서비스 간 상호작용의 계약 준수 여부를 검증 통합 테스트와의 차이점 통합 테스트: 여러 컴포넌트를 실제로 연결하여 함께 작동하는지 검증 계약 테스트: 실제 통합 없이 계약 준수 여부만 검증 엔드투엔드 테스트와의 차이점 엔드투엔드 테스트: 전체 시스템을 통한 사용자 흐름 검증 계약 테스트: 서비스 간 경계에서의 상호작용만 검증 아래 표는 이러한 차이점을 요약한다:\n특성 단위 테스트 통합 테스트 계약 테스트 엔드투엔드 테스트 테스트 대상 개별 함수/메소드 컴포넌트 간 상호작용 API 계약 준수 여부 전체 시스템 흐름 격리 수준 높음 중간 높음 낮음 실행 속도 매우 빠름 중간 빠름 느림 의존성 처리 모킹/스텁 일부 실제 의존성 계약 기반 목 실제 의존성 유지 관리 비용 낮음 중간 중간 높음 실제 환경 유사성 낮음 중간 중간 높음 계약 테스트의 종류 계약 테스트는 구현 관점에서 여러 유형으로 나눌 수 있다.\n소비자 주도 계약 테스트 (Consumer-Driven Contract Testing) 소비자가 자신의 요구사항에 맞는 계약을 정의하고, 제공자가 이 계약을 준수하는지 확인한다.\n특징:\n소비자의 실제 요구사항에 기반 제공자는 모든 소비자의 계약을 충족해야 함 소비자의 요구사항 변화에 민감하게 대응 가능 예시 도구: Pact\n제공자 주도 계약 테스트 (Provider-Driven Contract Testing) 제공자가 API 명세를 정의하고, 소비자가 이 명세에 맞게 개발하는지 확인한다.\n특징:\n제공자의 인터페이스 설계에 기반 소비자는 제공자의 명세를 따라야 함 명확한 API 문서화 가능 예시 도구: Swagger, OpenAPI\n양방향 계약 테스트 (Bi-Directional Contract Testing) 최근에 등장한 접근 방식으로, 소비자와 제공자 양쪽의 관점을 모두 고려한다.\n특징:\n소비자와 제공자의 요구사항을 모두 반영 더 유연한 계약 정의 가능 구현이 복잡할 수 있음 예시 도구: Spring Cloud Contract\n계약 테스트 구현 방법 계약 테스트를 구현하는 대표적인 방법을 살펴보자.\nPact를 이용한 소비자 주도 계약 테스트 Pact는 소비자 주도 계약 테스트를 위한 가장 인기 있는 도구.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // 소비자 측 테스트 예시 (JavaScript) const { PactV3, MatchersV3 } = require('@pact-foundation/pact'); const { like } = MatchersV3; const provider = new PactV3({ consumer: 'OrderService', provider: 'ProductService' }); describe('상품 API 계약 테스트', () =\u003e { it('상품 정보를 가져올 수 있어야 함', async () =\u003e { // 계약 정의 await provider.addInteraction({ states: [{ description: '상품 ID 10이 존재함' }], uponReceiving: '상품 정보 요청', withRequest: { method: 'GET', path: '/products/10' }, willRespondWith: { status: 200, headers: { 'Content-Type': 'application/json' }, body: like({ id: 10, name: '스마트폰', price: 1000000, stock: 100 }) } }); // 실제 API 호출 테스트 const api = new ProductApi(provider.mockService.baseUrl); const product = await api.getProduct(10); expect(product.id).toBe(10); expect(product.name).toBe('스마트폰'); }); }); 위 예시에서 소비자(OrderService)는 제공자(ProductService)와의 상호작용 계약을 정의하고, 이 계약에 따라 테스트를 수행한다.\nSpring Cloud Contract를 이용한 제공자 중심 계약 테스트 Spring Cloud Contract는 주로 Java 및 Spring 기반 애플리케이션에서 사용된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // 계약 정의 (Groovy DSL) Contract.make { description \"상품 정보 반환 계약\" request { method GET() url \"/products/10\" } response { status 200 headers { contentType applicationJson() } body([ id: 10, name: \"스마트폰\", price: 1000000, stock: 100 ]) } } 제공자는 이 계약을 기반으로 테스트를 실행하고, 계약에 따른 스텁을 생성하여 소비자에게 제공한다.\nSwagger/OpenAPI를 이용한 스키마 기반 계약 테스트 OpenAPI 명세를 활용한 계약 테스트도 가능하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # OpenAPI 명세 openapi: 3.0.0 info: title: 상품 API version: 1.0.0 paths: /products/{id}: get: summary: 상품 정보 조회 parameters: - name: id in: path required: true schema: type: integer responses: '200': description: 상품 정보 content: application/json: schema: type: object properties: id: type: integer name: type: string price: type: number stock: type: integer required: - id - name - price 이 명세를 기반으로 openapi-validator와 같은 도구를 사용하여 API 응답이 스키마를 준수하는지 검증할 수 있다.\n계약 테스트의 이점 계약 테스트를 도입함으로써 얻을 수 있는 구체적인 이점들을 살펴보자.\n개발 생산성 향상\n실제 통합 전에 문제를 발견하여 디버깅 시간 단축 독립적인 개발 및 배포 가능 병렬 개발 촉진 신뢰성 향상\nAPI 변경으로 인한 예상치 못한 장애 감소 서비스 간 호환성 보장 회귀 문제 조기 발견 문서화 개선\n계약이 실행 가능한 API 문서 역할 항상 최신 상태 유지 (코드와 문서의 불일치 방지) 팀 간 커뮤니케이션 개선 비용 절감\n통합 문제를 해결하는 데 필요한 시간과 노력 감소 실제 환경 설정 없이 테스트 가능 장애 복구 비용 감소 계약 테스트 구현 시 고려사항 계약 테스트를 효과적으로 구현하기 위한 주요 고려사항들.\n버전 관리\n계약 파일의 버전 관리 필요 이전 버전과의 호환성 고려 API 버전 관리 전략과 연계 1 2 3 4 5 6 7 8 9 10 project/ ├── contracts/ │ ├── v1/ │ │ └── product-service.json │ └── v2/ │ └── product-service.json └── tests/ └── contract/ ├── v1_test.js └── v2_test.js CI/CD 통합\n지속적 통합 파이프라인에 계약 테스트 포함 계약 위반 시 빌드 실패 처리 배포 전 계약 준수 확인 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 젠킨스 파이프라인 예시 pipeline { agent any stages { stage('계약 테스트') { steps { sh 'npm run test:contract' } } stage('배포') { when { expression { currentBuild.resultIsBetterOrEqualTo('SUCCESS') } } steps { sh 'npm run deploy' } } } } 팀 협업 방식\n소비자와 제공자 팀 간 커뮤니케이션 채널 확립 계약 변경 관리 프로세스 수립 계약 위반 시 알림 및 해결 프로세스 복잡한 시나리오 처리\n상태 의존적인 상호작용 처리 비동기 API 호출 테스트 복잡한 데이터 구조 및 유효성 검사 실제 사례 연구 실제 기업들이 계약 테스트를 어떻게 활용했는지 살펴보면\n넷플릭스의 계약 테스트 도입\n넷플릭스는 수백 개의 마이크로서비스로 구성된 아키텍처를 가지고 있으며, 계약 테스트를 통해 서비스 간 호환성을 유지한다.\nPact와 자체 개발한 도구를 조합하여 사용 소비자 주도 접근 방식 채택 발견된 문제: 초기 도입 시 팀 간 협업 방식 조정 필요 핀테크 기업의 계약 테스트 사례\n결제 처리와 같은 중요한 기능을 제공하는 핀테크 기업에서는 API 안정성이 특히 중요하다.\nSpring Cloud Contract 활용 제공자 주도 접근 방식 선호 발견된 문제: 복잡한 결제 흐름을 계약으로 표현하는 어려움 계약 테스트의 한계 및 보완 방법 계약 테스트만으로는 해결할 수 없는 문제들이 있다.\n한계점 비기능적 요구사항 검증 불가: 성능, 보안 등의 측면은 계약 테스트로 검증하기 어려움 복잡한 비즈니스 로직 검증 제한: 데이터 처리 로직의 정확성 검증에 한계 모든 시나리오 커버 불가: 예상치 못한 케이스나 극단적 상황 테스트 어려움 동적 응답 처리 어려움: 상황에 따라 다른 응답을 반환하는 API 테스트 복잡 보완 방법 다양한 테스트 조합: 단위 테스트, 통합 테스트, 엔드투엔드 테스트와 함께 사용 성능 테스트 별도 수행: 성능 요구사항은 별도의 성능 테스트로 검증 보안 테스트 추가: API 보안 취약점은 별도의 보안 테스트로 검증 카오스 엔지니어링: 예상치 못한 장애 상황에서의 시스템 동작 검증 최신 트렌드 및 미래 전망 최신 트렌드 AI 기반 계약 생성: 실제 트래픽을 분석하여 자동으로 계약 생성 GraphQL API 계약 테스트: GraphQL 스키마를 기반으로 한 계약 테스트 도구 등장 이벤트 기반 아키텍처 지원: 비동기 이벤트 기반 통신의 계약 테스트 방법론 발전 스마트 계약 검증: 블록체인 스마트 계약의 검증에도 계약 테스트 개념 적용 미래 전망 통합 테스트 자동화 플랫폼: 계약 테스트를 포함한 통합 테스트 자동화 솔루션 발전 서버리스 환경 지원 강화: 서버리스 함수 간 상호작용 검증을 위한 특화된 도구 등장 실시간 계약 모니터링: 프로덕션 환경에서 실시간으로 계약 준수 여부 모니터링 서비스 메시 통합: 서비스 메시와 계약 테스트의 통합으로 런타임 계약 검증 가능 용어 정리 용어 설명 참고 및 출처 ","wordCount":"1344","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-03-10T02:52:00Z","dateModified":"2025-03-10T02:52:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/contract-testing/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/>API Testing</a></div><h1 class="post-title entry-hint-parent">Contract Testing</h1><div class=post-description>계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다.</div><div class=post-meta><span title='2025-03-10 02:52:00 +0000 UTC'>March 10, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20and%20Development/Software%20Development/API%20Development%20and%20Implementation/API%20Testing/Contract-Testing.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#contract-testing>Contract Testing</a><ul><li><a href=#계약의-정의>계약의 정의</a></li><li><a href=#계약-테스트의-필요성>계약 테스트의 필요성</a></li><li><a href=#계약-테스트-vs-다른-테스트-방법>계약 테스트 vs. 다른 테스트 방법</a></li><li><a href=#계약-테스트의-종류>계약 테스트의 종류</a></li><li><a href=#계약-테스트-구현-방법>계약 테스트 구현 방법</a></li><li><a href=#계약-테스트의-이점>계약 테스트의 이점</a></li><li><a href=#계약-테스트-구현-시-고려사항>계약 테스트 구현 시 고려사항</a></li><li><a href=#실제-사례-연구>실제 사례 연구</a></li><li><a href=#계약-테스트의-한계-및-보완-방법>계약 테스트의 한계 및 보완 방법</a></li><li><a href=#최신-트렌드-및-미래-전망>최신 트렌드 및 미래 전망</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=contract-testing>Contract Testing<a hidden class=anchor aria-hidden=true href=#contract-testing>#</a></h2><p>계약 테스트(Contract Testing)는 서비스 간 상호작용이 명시된 계약을 준수하는지 확인하는 테스트 방법론이다. 현대적인 소프트웨어 아키텍처, 특히 마이크로서비스 환경에서 매우 중요한 역할을 한다.</p><h3 id=계약의-정의>계약의 정의<a hidden class=anchor aria-hidden=true href=#계약의-정의>#</a></h3><p>API 계약은 서비스 제공자(Provider)와 소비자(Consumer) 간의 &ldquo;약속"으로 볼 수 있다.</p><p>이 계약은 다음과 같은 요소를 포함한다:</p><ul><li>API 엔드포인트 및 경로</li><li>요청 및 응답 형식(JSON, XML 등)</li><li>데이터 구조 및 필드 정의</li><li>상태 코드 및 오류 처리 방식</li><li>인증 및 권한 부여 요구사항</li></ul><h3 id=계약-테스트의-필요성>계약 테스트의 필요성<a hidden class=anchor aria-hidden=true href=#계약-테스트의-필요성>#</a></h3><p>마이크로서비스 아키텍처에서는 수십, 수백 개의 서비스가 서로 상호작용한다.</p><p>이러한 환경에서 계약 테스트가 필요한 이유는 다음과 같다:</p><ol><li><strong>변경 관리</strong>: 서비스가 변경될 때 다른 서비스에 미치는 영향을 최소화</li><li><strong>독립적 개발</strong>: 팀이 독립적으로 개발하면서도 통합 문제를 조기에 발견</li><li><strong>빠른 피드백</strong>: 실제 통합 전에 문제를 식별하여 개발 주기 단축</li><li><strong>신뢰성 향상</strong>: 시스템 전체의 안정성과 신뢰성 보장</li></ol><h3 id=계약-테스트-vs-다른-테스트-방법>계약 테스트 vs. 다른 테스트 방법<a hidden class=anchor aria-hidden=true href=#계약-테스트-vs-다른-테스트-방법>#</a></h3><p>계약 테스트는 다른 테스트 방법과 어떻게 다른지 이해하는 것이 중요하다.</p><ul><li>단위 테스트와의 차이점<ul><li><strong>단위 테스트</strong>: 개별 코드 단위의 기능을 검증</li><li><strong>계약 테스트</strong>: 서비스 간 상호작용의 계약 준수 여부를 검증</li></ul></li><li>통합 테스트와의 차이점<ul><li><strong>통합 테스트</strong>: 여러 컴포넌트를 실제로 연결하여 함께 작동하는지 검증</li><li><strong>계약 테스트</strong>: 실제 통합 없이 계약 준수 여부만 검증</li></ul></li><li>엔드투엔드 테스트와의 차이점<ul><li><strong>엔드투엔드 테스트</strong>: 전체 시스템을 통한 사용자 흐름 검증</li><li><strong>계약 테스트</strong>: 서비스 간 경계에서의 상호작용만 검증</li></ul></li></ul><p>아래 표는 이러한 차이점을 요약한다:</p><table><thead><tr><th>특성</th><th>단위 테스트</th><th>통합 테스트</th><th>계약 테스트</th><th>엔드투엔드 테스트</th></tr></thead><tbody><tr><td><strong>테스트 대상</strong></td><td>개별 함수/메소드</td><td>컴포넌트 간 상호작용</td><td>API 계약 준수 여부</td><td>전체 시스템 흐름</td></tr><tr><td><strong>격리 수준</strong></td><td>높음</td><td>중간</td><td>높음</td><td>낮음</td></tr><tr><td><strong>실행 속도</strong></td><td>매우 빠름</td><td>중간</td><td>빠름</td><td>느림</td></tr><tr><td><strong>의존성 처리</strong></td><td>모킹/스텁</td><td>일부 실제 의존성</td><td>계약 기반 목</td><td>실제 의존성</td></tr><tr><td><strong>유지 관리 비용</strong></td><td>낮음</td><td>중간</td><td>중간</td><td>높음</td></tr><tr><td><strong>실제 환경 유사성</strong></td><td>낮음</td><td>중간</td><td>중간</td><td>높음</td></tr></tbody></table><h3 id=계약-테스트의-종류>계약 테스트의 종류<a hidden class=anchor aria-hidden=true href=#계약-테스트의-종류>#</a></h3><p>계약 테스트는 구현 관점에서 여러 유형으로 나눌 수 있다.</p><h4 id=소비자-주도-계약-테스트-consumer-driven-contract-testing>소비자 주도 계약 테스트 (Consumer-Driven Contract Testing)<a hidden class=anchor aria-hidden=true href=#소비자-주도-계약-테스트-consumer-driven-contract-testing>#</a></h4><p>소비자가 자신의 요구사항에 맞는 계약을 정의하고, 제공자가 이 계약을 준수하는지 확인한다.</p><p>특징:</p><ul><li>소비자의 실제 요구사항에 기반</li><li>제공자는 모든 소비자의 계약을 충족해야 함</li><li>소비자의 요구사항 변화에 민감하게 대응 가능</li></ul><p>예시 도구: Pact</p><h4 id=제공자-주도-계약-테스트-provider-driven-contract-testing>제공자 주도 계약 테스트 (Provider-Driven Contract Testing)<a hidden class=anchor aria-hidden=true href=#제공자-주도-계약-테스트-provider-driven-contract-testing>#</a></h4><p>제공자가 API 명세를 정의하고, 소비자가 이 명세에 맞게 개발하는지 확인한다.</p><p>특징:</p><ul><li>제공자의 인터페이스 설계에 기반</li><li>소비자는 제공자의 명세를 따라야 함</li><li>명확한 API 문서화 가능</li></ul><p>예시 도구: Swagger, OpenAPI</p><h4 id=양방향-계약-테스트-bi-directional-contract-testing>양방향 계약 테스트 (Bi-Directional Contract Testing)<a hidden class=anchor aria-hidden=true href=#양방향-계약-테스트-bi-directional-contract-testing>#</a></h4><p>최근에 등장한 접근 방식으로, 소비자와 제공자 양쪽의 관점을 모두 고려한다.</p><p>특징:</p><ul><li>소비자와 제공자의 요구사항을 모두 반영</li><li>더 유연한 계약 정의 가능</li><li>구현이 복잡할 수 있음</li></ul><p>예시 도구: Spring Cloud Contract</p><h3 id=계약-테스트-구현-방법>계약 테스트 구현 방법<a hidden class=anchor aria-hidden=true href=#계약-테스트-구현-방법>#</a></h3><p>계약 테스트를 구현하는 대표적인 방법을 살펴보자.</p><h4 id=pact를-이용한-소비자-주도-계약-테스트>Pact를 이용한 소비자 주도 계약 테스트<a hidden class=anchor aria-hidden=true href=#pact를-이용한-소비자-주도-계약-테스트>#</a></h4><p>Pact는 소비자 주도 계약 테스트를 위한 가장 인기 있는 도구.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 소비자 측 테스트 예시 (JavaScript)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>PactV3</span><span class=p>,</span> <span class=nx>MatchersV3</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@pact-foundation/pact&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>like</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>MatchersV3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>provider</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PactV3</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>consumer</span><span class=o>:</span> <span class=s1>&#39;OrderService&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>provider</span><span class=o>:</span> <span class=s1>&#39;ProductService&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;상품 API 계약 테스트&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;상품 정보를 가져올 수 있어야 함&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 계약 정의
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>provider</span><span class=p>.</span><span class=nx>addInteraction</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>states</span><span class=o>:</span> <span class=p>[{</span> <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;상품 ID 10이 존재함&#39;</span> <span class=p>}],</span>
</span></span><span class=line><span class=cl>      <span class=nx>uponReceiving</span><span class=o>:</span> <span class=s1>&#39;상품 정보 요청&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>withRequest</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;GET&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/products/10&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>willRespondWith</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>status</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>body</span><span class=o>:</span> <span class=nx>like</span><span class=p>({</span>
</span></span><span class=line><span class=cl>          <span class=nx>id</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;스마트폰&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>price</span><span class=o>:</span> <span class=mi>1000000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>stock</span><span class=o>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 실제 API 호출 테스트
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>api</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ProductApi</span><span class=p>(</span><span class=nx>provider</span><span class=p>.</span><span class=nx>mockService</span><span class=p>.</span><span class=nx>baseUrl</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>product</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>api</span><span class=p>.</span><span class=nx>getProduct</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>product</span><span class=p>.</span><span class=nx>name</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;스마트폰&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>위 예시에서 소비자(OrderService)는 제공자(ProductService)와의 상호작용 계약을 정의하고, 이 계약에 따라 테스트를 수행한다.</p><h4 id=spring-cloud-contract를-이용한-제공자-중심-계약-테스트>Spring Cloud Contract를 이용한 제공자 중심 계약 테스트<a hidden class=anchor aria-hidden=true href=#spring-cloud-contract를-이용한-제공자-중심-계약-테스트>#</a></h4><p>Spring Cloud Contract는 주로 Java 및 Spring 기반 애플리케이션에서 사용된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=c1>// 계약 정의 (Groovy DSL)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Contract</span><span class=o>.</span><span class=na>make</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span> <span class=s2>&#34;상품 정보 반환 계약&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>request</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=nf>GET</span><span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=s2>&#34;/products/10&#34;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>status</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>        <span class=n>headers</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>contentType</span> <span class=nf>applicationJson</span><span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>body</span><span class=o>([</span>
</span></span><span class=line><span class=cl>            <span class=nl>id:</span> <span class=mi>10</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=nl>name:</span> <span class=s2>&#34;스마트폰&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=nl>price:</span> <span class=mi>1000000</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=nl>stock:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>        <span class=o>])</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>제공자는 이 계약을 기반으로 테스트를 실행하고, 계약에 따른 스텁을 생성하여 소비자에게 제공한다.</p><h4 id=swaggeropenapi를-이용한-스키마-기반-계약-테스트>Swagger/OpenAPI를 이용한 스키마 기반 계약 테스트<a hidden class=anchor aria-hidden=true href=#swaggeropenapi를-이용한-스키마-기반-계약-테스트>#</a></h4><p>OpenAPI 명세를 활용한 계약 테스트도 가능하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20>20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21>21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22>22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23>23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24>24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25>25</a>
</span><span class=lnt id=hl-2-26><a class=lnlinks href=#hl-2-26>26</a>
</span><span class=lnt id=hl-2-27><a class=lnlinks href=#hl-2-27>27</a>
</span><span class=lnt id=hl-2-28><a class=lnlinks href=#hl-2-28>28</a>
</span><span class=lnt id=hl-2-29><a class=lnlinks href=#hl-2-29>29</a>
</span><span class=lnt id=hl-2-30><a class=lnlinks href=#hl-2-30>30</a>
</span><span class=lnt id=hl-2-31><a class=lnlinks href=#hl-2-31>31</a>
</span><span class=lnt id=hl-2-32><a class=lnlinks href=#hl-2-32>32</a>
</span><span class=lnt id=hl-2-33><a class=lnlinks href=#hl-2-33>33</a>
</span><span class=lnt id=hl-2-34><a class=lnlinks href=#hl-2-34>34</a>
</span><span class=lnt id=hl-2-35><a class=lnlinks href=#hl-2-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># OpenAPI 명세</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>openapi</span><span class=p>:</span><span class=w> </span><span class=m>3.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>info</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>상품 API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>/products/{id}:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>get</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>상품 정보 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>parameters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>in</span><span class=p>:</span><span class=w> </span><span class=l>path</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>responses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>&#39;200&#39;</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>상품 정보</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>id</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>price</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>number</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>stock</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>required</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span>- <span class=l>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span>- <span class=l>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span>- <span class=l>price</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 명세를 기반으로 <code>openapi-validator</code>와 같은 도구를 사용하여 API 응답이 스키마를 준수하는지 검증할 수 있다.</p><h3 id=계약-테스트의-이점>계약 테스트의 이점<a hidden class=anchor aria-hidden=true href=#계약-테스트의-이점>#</a></h3><p>계약 테스트를 도입함으로써 얻을 수 있는 구체적인 이점들을 살펴보자.</p><ol><li><p>개발 생산성 향상</p><ul><li>실제 통합 전에 문제를 발견하여 디버깅 시간 단축</li><li>독립적인 개발 및 배포 가능</li><li>병렬 개발 촉진</li></ul></li><li><p>신뢰성 향상</p><ul><li>API 변경으로 인한 예상치 못한 장애 감소</li><li>서비스 간 호환성 보장</li><li>회귀 문제 조기 발견</li></ul></li><li><p>문서화 개선</p><ul><li>계약이 실행 가능한 API 문서 역할</li><li>항상 최신 상태 유지 (코드와 문서의 불일치 방지)</li><li>팀 간 커뮤니케이션 개선</li></ul></li><li><p>비용 절감</p><ul><li>통합 문제를 해결하는 데 필요한 시간과 노력 감소</li><li>실제 환경 설정 없이 테스트 가능</li><li>장애 복구 비용 감소</li></ul></li></ol><h3 id=계약-테스트-구현-시-고려사항>계약 테스트 구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#계약-테스트-구현-시-고려사항>#</a></h3><p>계약 테스트를 효과적으로 구현하기 위한 주요 고려사항들.</p><ol><li><p>버전 관리</p><ul><li>계약 파일의 버전 관리 필요</li><li>이전 버전과의 호환성 고려</li><li>API 버전 관리 전략과 연계</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>project/
</span></span><span class=line><span class=cl>  ├── contracts/
</span></span><span class=line><span class=cl>  │   ├── v1/
</span></span><span class=line><span class=cl>  │   │   └── product-service.json
</span></span><span class=line><span class=cl>  │   └── v2/
</span></span><span class=line><span class=cl>  │       └── product-service.json
</span></span><span class=line><span class=cl>  └── tests/
</span></span><span class=line><span class=cl>      └── contract/
</span></span><span class=line><span class=cl>          ├── v1_test.js
</span></span><span class=line><span class=cl>          └── v2_test.js
</span></span></code></pre></td></tr></table></div></div></li><li><p>CI/CD 통합</p><ul><li>지속적 통합 파이프라인에 계약 테스트 포함</li><li>계약 위반 시 빌드 실패 처리</li><li>배포 전 계약 준수 확인</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 젠킨스 파이프라인 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>pipeline {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>agent any</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>stages {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>stage(&#39;계약 테스트&#39;) {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=l>steps {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=l>sh &#39;npm run test:contract&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>stage(&#39;배포&#39;) {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=l>when {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=l>expression { currentBuild.resultIsBetterOrEqualTo(&#39;SUCCESS&#39;) }</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=l>steps {</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=l>sh &#39;npm run deploy&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>팀 협업 방식</p><ul><li>소비자와 제공자 팀 간 커뮤니케이션 채널 확립</li><li>계약 변경 관리 프로세스 수립</li><li>계약 위반 시 알림 및 해결 프로세스</li></ul></li><li><p>복잡한 시나리오 처리</p><ul><li>상태 의존적인 상호작용 처리</li><li>비동기 API 호출 테스트</li><li>복잡한 데이터 구조 및 유효성 검사</li></ul></li></ol><h3 id=실제-사례-연구>실제 사례 연구<a hidden class=anchor aria-hidden=true href=#실제-사례-연구>#</a></h3><p>실제 기업들이 계약 테스트를 어떻게 활용했는지 살펴보면</p><ol><li><p>넷플릭스의 계약 테스트 도입<br>넷플릭스는 수백 개의 마이크로서비스로 구성된 아키텍처를 가지고 있으며, 계약 테스트를 통해 서비스 간 호환성을 유지한다.</p><ul><li>Pact와 자체 개발한 도구를 조합하여 사용</li><li>소비자 주도 접근 방식 채택</li><li>발견된 문제: 초기 도입 시 팀 간 협업 방식 조정 필요</li></ul></li><li><p>핀테크 기업의 계약 테스트 사례<br>결제 처리와 같은 중요한 기능을 제공하는 핀테크 기업에서는 API 안정성이 특히 중요하다.</p><ul><li>Spring Cloud Contract 활용</li><li>제공자 주도 접근 방식 선호</li><li>발견된 문제: 복잡한 결제 흐름을 계약으로 표현하는 어려움</li></ul></li></ol><h3 id=계약-테스트의-한계-및-보완-방법>계약 테스트의 한계 및 보완 방법<a hidden class=anchor aria-hidden=true href=#계약-테스트의-한계-및-보완-방법>#</a></h3><p>계약 테스트만으로는 해결할 수 없는 문제들이 있다.</p><h4 id=한계점>한계점<a hidden class=anchor aria-hidden=true href=#한계점>#</a></h4><ol><li><strong>비기능적 요구사항 검증 불가</strong>: 성능, 보안 등의 측면은 계약 테스트로 검증하기 어려움</li><li><strong>복잡한 비즈니스 로직 검증 제한</strong>: 데이터 처리 로직의 정확성 검증에 한계</li><li><strong>모든 시나리오 커버 불가</strong>: 예상치 못한 케이스나 극단적 상황 테스트 어려움</li><li><strong>동적 응답 처리 어려움</strong>: 상황에 따라 다른 응답을 반환하는 API 테스트 복잡</li></ol><h4 id=보완-방법>보완 방법<a hidden class=anchor aria-hidden=true href=#보완-방법>#</a></h4><ol><li><strong>다양한 테스트 조합</strong>: 단위 테스트, 통합 테스트, 엔드투엔드 테스트와 함께 사용</li><li><strong>성능 테스트 별도 수행</strong>: 성능 요구사항은 별도의 성능 테스트로 검증</li><li><strong>보안 테스트 추가</strong>: API 보안 취약점은 별도의 보안 테스트로 검증</li><li><strong>카오스 엔지니어링</strong>: 예상치 못한 장애 상황에서의 시스템 동작 검증</li></ol><h3 id=최신-트렌드-및-미래-전망>최신 트렌드 및 미래 전망<a hidden class=anchor aria-hidden=true href=#최신-트렌드-및-미래-전망>#</a></h3><h4 id=최신-트렌드>최신 트렌드<a hidden class=anchor aria-hidden=true href=#최신-트렌드>#</a></h4><ol><li><strong>AI 기반 계약 생성</strong>: 실제 트래픽을 분석하여 자동으로 계약 생성</li><li><strong>GraphQL API 계약 테스트</strong>: GraphQL 스키마를 기반으로 한 계약 테스트 도구 등장</li><li><strong>이벤트 기반 아키텍처 지원</strong>: 비동기 이벤트 기반 통신의 계약 테스트 방법론 발전</li><li><strong>스마트 계약 검증</strong>: 블록체인 스마트 계약의 검증에도 계약 테스트 개념 적용</li></ol><h4 id=미래-전망>미래 전망<a hidden class=anchor aria-hidden=true href=#미래-전망>#</a></h4><ol><li><strong>통합 테스트 자동화 플랫폼</strong>: 계약 테스트를 포함한 통합 테스트 자동화 솔루션 발전</li><li><strong>서버리스 환경 지원 강화</strong>: 서버리스 함수 간 상호작용 검증을 위한 특화된 도구 등장</li><li><strong>실시간 계약 모니터링</strong>: 프로덕션 환경에서 실시간으로 계약 준수 여부 모니터링</li><li><strong>서비스 메시 통합</strong>: 서비스 메시와 계약 테스트의 통합으로 런타임 계약 검증 가능</li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/api-design-and-implementation/>API-Design-and-Implementation</a></li><li><a href=https://buenhyden.github.io/tags/api-testing/>API-Testing</a></li><li><a href=https://buenhyden.github.io/tags/contract-testing/>Contract-Testing</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-technologies/api-testing-tools/api-testing/postman/><span class=title>« Prev</span><br><span>Postman</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-and-development/software-development/api-development-and-implementation/api-testing/load-testing/><span class=title>Next »</span><br><span>Load Testing</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>