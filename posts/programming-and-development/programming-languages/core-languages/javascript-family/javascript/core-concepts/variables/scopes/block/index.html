<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Block | hyunyoun's Blog</title><meta name=keywords content="Programming-Languages,Javascript,Basic-Syntax,Variables,scopes,Block"><meta name=description content="JavaScript에서 블록 스코프(Block Scope) 는 중괄호(`{}`)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/block/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/block/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/block/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Block"><meta property="og:description" content="JavaScript에서 블록 스코프(Block Scope) 는 중괄호(`{}`)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-25T14:18:00+00:00"><meta property="article:modified_time" content="2024-12-25T14:18:00+00:00"><meta property="article:tag" content="Programming-Languages"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Basic-Syntax"><meta property="article:tag" content="Variables"><meta property="article:tag" content="Scopes"><meta property="article:tag" content="Block"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Block"><meta name=twitter:description content="JavaScript에서 블록 스코프(Block Scope) 는 중괄호(`{}`)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Programming Languages","item":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/"},{"@type":"ListItem","position":5,"name":"JavaScript and TypeScript","item":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/"},{"@type":"ListItem","position":6,"name":"자바스크립트(JavaScript)","item":""},{"@type":"ListItem","position":8,"name":"Variables","item":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/"},{"@type":"ListItem","position":9,"name":"scopes","item":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/"},{"@type":"ListItem","position":10,"name":"Block","item":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/block/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Block","name":"Block","description":"JavaScript에서 블록 스코프(Block Scope) 는 중괄호(`{}`)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다","keywords":["Programming-Languages","Javascript","Basic-Syntax","Variables","scopes","Block"],"articleBody":"Block JavaScript에서 블록 스코프(Block Scope) 는 중괄호({})로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다.\n이는 코드의 구조와 가독성, 유지보수성에 큰 영향을 미치며, 변수의 생명 주기와 가시성을 결정짓는 중요한 개념이다.\n블록 스코프는 JavaScript에서 변수의 가시성과 생명주기를 제어하는 강력한 개념이다:\nES6에서 let과 const 키워드를 통해 도입되었다. 중괄호({})로 둘러싸인 코드 블록 내에서만 변수에 접근할 수 있다. 메모리 효율성, 코드 구조화, 버그 방지에 도움이 된다. 일시적 사각지대(TDZ)를 통해 더 예측 가능한 변수 동작을 제공한다. 클로저와 결합하여 강력한 패턴을 구현할 수 있다. JavaScript에서 블록은 다음과 같은 상황에서 생성된다:\nif 문 for, while 등의 반복문 switch 문 단독 블록 {} try/catch/finally 문 예를 들어, 다음과 같은 코드에서 중괄호 안에 있는 영역이 블록이다:\n1 2 3 4 5 6 7 8 9 10 11 if (true) { // 이것이 블록입니다 } for (let i = 0; i \u003c 5; i++) { // 이것도 블록입니다 } { // 독립적인 블록도 가능합니다 } 블록 스코프의 역사적 배경 JavaScript의 블록 스코프는 비교적 새로운 개념이다.\nES6(ECMAScript 2015) 이전에는 JavaScript에서 진정한 의미의 블록 스코프가 존재하지 않았으며, ES6(ECMAScript 2015)에서 let과 const 키워드와 함께 도입되었다.\nES5 이전: var와 함수 스코프\nES5까지 JavaScript에서는 var 키워드로 선언된 변수가 함수 스코프 또는 전역 스코프를 가졌다.\n블록은 스코프를 생성하지 않았다:\n1 2 3 4 5 6 7 8 9 10 function oldExample() { var x = 1; if (true) { var x = 2; // 같은 함수 스코프의 x를 재할당 console.log(x); // 2 } console.log(x); // 2 (블록 외부에서도 값이 변경됨) } 이러한 동작은 다른 프로그래밍 언어와 달랐고, 예기치 않은 버그의 원인이 되었다.\nES6의 도입: Let과 Const\nES6에서는 let과 const 키워드가 도입되어 진정한 블록 스코프를 지원하게 되었다:\n1 2 3 4 5 6 7 8 9 10 function newExample() { let x = 1; if (true) { let x = 2; // 새로운 블록 스코프에 x 생성 console.log(x); // 2 } console.log(x); // 1 (블록 외부의 x는 변경되지 않음) } Let과 Const의 블록 스코프 특성 Let 키워드\nlet으로 선언된 변수는 블록 스코프를 가진다:\n1 2 3 4 5 6 { let blockScoped = '블록 내부에서만 접근 가능'; console.log(blockScoped); // '블록 내부에서만 접근 가능' } // console.log(blockScoped); // ReferenceError: blockScoped is not defined let은 다음과 같은 특성을 갖는다:\n- 선언된 블록 내에서만 접근 가능\n- 같은 스코프 내에서 중복 선언 불가\n- 값 재할당 가능\n- 호이스팅은 되지만, 초기화 전에 접근하면 에러 발생 (일시적 사각지대)\nConst 키워드\nconst도 let과 동일한 블록 스코프를 가지지만, 값을 재할당할 수 없다:\n1 2 3 4 5 6 7 8 { const PI = 3.14159; console.log(PI); // 3.14159 // PI = 3; // TypeError: Assignment to constant variable } // console.log(PI); // ReferenceError: PI is not defined const의 주요 특성:\n- let과 동일한 블록 스코프 규칙\n- 선언과 동시에 초기화 필수\n- 값 재할당 불가\n- 객체나 배열이 할당된 경우, 내부 속성은 변경 가능\n1 2 3 4 5 6 7 { const user = { name: '홍길동' }; user.name = '김철수'; // 객체 속성 변경 가능 console.log(user.name); // '김철수' // user = {}; // TypeError: Assignment to constant variable } 블록 스코프의 중첩 블록은 중첩될 수 있으며, 내부 블록에서는 외부 블록의 변수에 접근할 수 있지만 외부 블록에서는 내부 블록의 변수에 접근할 수 없다:\n1 2 3 4 5 6 7 8 9 10 11 12 { let outer = '외부 블록'; { let inner = '내부 블록'; console.log(outer); // '외부 블록' (접근 가능) console.log(inner); // '내부 블록' } console.log(outer); // '외부 블록' // console.log(inner); // ReferenceError: inner is not defined } 블록 스코프와 일시적 사각지대(TDZ) 블록 스코프에서 중요한 개념 중 하나가 ‘일시적 사각지대(Temporal Dead Zone, TDZ)‘이다.\n이는 변수가 선언되었지만 아직 초기화되지 않은 스코프 영역이다:\n1 2 3 4 5 6 7 8 { // 여기서부터 TDZ 시작 // console.log(blockVar); // ReferenceError: Cannot access 'blockVar' before initialization let blockVar = '초기화 완료'; // TDZ 종료 console.log(blockVar); // '초기화 완료' } TDZ는 다음과 같은 특성을 갖는다:\n블록의 시작부터 변수 선언문까지의 영역 이 영역에서 변수에 접근하면 ReferenceError 발생 let, const, class 선언에 적용됨 var에는 적용되지 않음 반복문에서의 블록 스코프 반복문의 블록 스코프는 특히 유용하다.\n각 반복마다 새로운 스코프가 생성된다:\nFor 반복문\n1 2 3 4 5 6 7 8 9 10 for (let i = 0; i \u003c 3; i++) { // 각 반복마다 새로운 i가 생성됨 setTimeout(() =\u003e console.log(i), 100); // 0, 1, 2가 올바르게 출력 } // 비교: var를 사용한 경우 for (var j = 0; j \u003c 3; j++) { // 모든 반복에서 같은 j를 사용 setTimeout(() =\u003e console.log(j), 100); // 3, 3, 3 출력 (반복 종료 후의 값) } for…of, for…in 반복문\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const fruits = ['사과', '바나나', '오렌지']; for (let fruit of fruits) { // 각 반복마다 새로운 fruit 변수 스코프 console.log(fruit); } // console.log(fruit); // ReferenceError: fruit is not defined const user = { name: '홍길동', age: 30, job: '개발자' }; for (let key in user) { // 각 반복마다 새로운 key 변수 스코프 console.log(`${key}: ${user[key]}`); } // console.log(key); // ReferenceError: key is not defined 블록 스코프와 클로저의 관계 블록 스코프는 클로저 생성에 중요한 역할을 한다.\n클로저는 함수가 자신이 생성된 렉시컬 환경을 기억하는 특성을 말한다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function createFunctions() { const functions = []; for (let i = 0; i \u003c 3; i++) { // 각 반복마다 새로운 i가 생성되어 각 클로저에 독립적으로 캡처됨 functions.push(function() { console.log(i); }); } return functions; } const [f0, f1, f2] = createFunctions(); f0(); // 0 f1(); // 1 f2(); // 2 // var를 사용했다면 모두 3을 출력했을 것 변수 섀도잉 블록 내에서 외부 스코프와 동일한 이름의 변수를 선언할 수 있으며, 이는 외부 변수를 가리게 된다.\n1 2 3 4 5 6 let x = \"outer\"; if (true) { let x = \"inner\"; console.log(x); // \"inner\" } console.log(x); // \"outer\" 블록 스코프를 활용한 실용적인 패턴 임시 변수 격리\n블록 스코프를 사용하여 임시 변수를 격리할 수 있다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function processData(data) { // 데이터 처리 로직 { // 임시 변수를 위한 별도 블록 let temp = data.slice(); temp.sort(); temp = temp.filter(item =\u003e item \u003e 0); // 필요한 계산 수행 const result = calculateAverage(temp); data.average = result; } // temp는 여기서 접근 불가 return data; } 단독 블록을 이용한 변수 스코프 제한\n파일 최상위 레벨에서도 블록을 사용하여 변수의 스코프를 제한할 수 있다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 // 전역 변수를 최소화하기 위한 패턴 { const API_KEY = 'secret_key'; const API_URL = 'https://api.example.com'; function fetchData() { // API_KEY와 API_URL을 사용 } // 필요한 함수나 변수만 전역으로 노출 window.fetchData = fetchData; } // API_KEY와 API_URL은 여기서 접근 불가 Switch문에서의 변수 선언\nswitch문에서도 블록 스코프가 유용하하다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 switch (status) { case 'success': { let message = '성공적으로 처리되었습니다'; console.log(message); break; } case 'error': { let message = '오류가 발생했습니다'; console.log(message); break; } default: { let message = '처리 중입니다'; console.log(message); } } // 각 case에서 동일한 변수명 message를 사용할 수 있음 // console.log(message); // ReferenceError: message is not defined 블록 스코프와 성능 블록 스코프는 성능에도 영향을 미칠 수 있다:\n메모리 사용 최적화\n변수가 필요한 범위에서만 살아있도록 하여 메모리 사용을 최적화할 수 있다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function processManyItems(items) { // 처리 로직 for (let i = 0; i \u003c items.length; i++) { // 각 항목에 대한 대규모 처리 { // 대용량 데이터를 위한 임시 변수 let tempData = new Array(10000).fill(items[i]); let processed = heavyProcessing(tempData); items[i] = processed.result; } // tempData와 processed는 여기서 가비지 컬렉션의 대상이 됨 } return items; } 엔진 최적화 기회 제공\n블록 스코프를 사용하면 JavaScript 엔진이 변수의 생명주기를 더 정확히 파악하여 최적화할 수 있다.\n블록 스코프 관련 주의사항과 모범 사례 try/catch 블록 try/catch 문에서 catch 블록은 오류 객체에 대한 별도의 스코프를 생성한다:\n1 2 3 4 5 6 7 8 9 try { // 시도하는 코드 throw new Error('오류 발생'); } catch (error) { // error는 catch 블록 내에서만 접근 가능 console.log(error.message); // '오류 발생' } // console.log(error); // ReferenceError: error is not defined 블록 스코프 모범 사례 변수의 스코프를 최소화하기\n1 2 3 4 5 6 7 8 9 10 11 // 좋은 예: 변수를 필요한 스코프로 제한 function processUserData(userId) { // 사용자 데이터 가져오기 if (userId \u003e 0) { let userData = fetchUserData(userId); processData(userData); } // userData는 여기서 접근 불가 (메모리 효율성) } const를 기본으로 사용하기\n1 2 3 4 5 6 7 8 9 10 11 12 // 값이 변경되지 않는 변수는 const 사용 { const CONFIG = { apiUrl: 'https://api.example.com', timeout: 5000 }; // 변경이 필요한 경우에만 let 사용 let retryCount = 3; // 로직 수행... } 블록을 활용하여 코드 구조화하기\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 function complexFunction() { // 초기화 관련 로직 { // 1단계: 데이터 준비 const data = prepareData(); validateData(data); } { // 2단계: 비즈니스 로직 처리 const result = processBusinessLogic(); verifyResult(result); } { // 3단계: 마무리 작업 const summary = createSummary(); return summary; } } 명시적인 블록 주석 사용하기\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function largeFunction() { // --- 초기화 섹션 --- { // 초기화 관련 코드... } // --- 데이터 처리 섹션 --- { // 데이터 처리 관련 코드... } // --- 결과 반환 섹션 --- { // 결과 반환 관련 코드... } } 블록 스코프의 실제 사용 예제 웹 애플리케이션에서의 이벤트 핸들러 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 function setupEventHandlers() { const buttons = document.querySelectorAll('.action-button'); buttons.forEach(button =\u003e { // 각 버튼에 대한 데이터 설정 const buttonId = button.getAttribute('data-id'); // 이벤트 리스너 등록 button.addEventListener('click', () =\u003e { // 블록 스코프 변수를 캡처하는 클로저 console.log(`Button ${buttonId} clicked`); { // 클릭 시 임시 상태 관리 let isProcessing = true; button.classList.add('processing'); processButtonAction(buttonId) .then(result =\u003e { console.log(result); }) .finally(() =\u003e { button.classList.remove('processing'); // isProcessing은 이 블록에서만 필요함 }); } }); }); } API 호출에서의 블록 스코프 활용 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 async function fetchUserData(userId) { // API URL 및 옵션 설정 { const API_KEY = getApiKey(); // 민감한 키는 가능한 작은 스코프에 유지 const url = `https://api.example.com/users/${userId}`; const options = { method: 'GET', headers: { 'Authorization': `Bearer ${API_KEY}`, 'Content-Type': 'application/json' } }; try { const response = await fetch(url, options); // API_KEY는 이 블록 외부에서 접근 불가 if (!response.ok) { throw new Error('API 호출 실패'); } return await response.json(); } catch (error) { console.error('사용자 데이터 가져오기 오류:', error); throw error; } } } 모듈 패턴 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 const userModule = (function() { // 모듈 내부 상태 (비공개) let userState = null; // 내부 유틸리티 함수 function validateUser(user) { return user \u0026\u0026 user.id \u0026\u0026 user.name; } // 공개 API return { setUser: function(user) { // 블록 스코프를 사용한 검증 로직 격리 { const isValid = validateUser(user); if (!isValid) { throw new Error('유효하지 않은 사용자 데이터'); } // 추가 검증 로직 let permissionsValid = checkPermissions(user); if (!permissionsValid) { throw new Error('권한이 유효하지 않음'); } } // 검증 통과 후 상태 업데이트 userState = { ...user, lastUpdated: new Date() }; return true; }, getUser: function() { return userState ? { ...userState } : null; } }; })(); var와 블록 스코프의 차이 var와 let/const의 블록 스코프 차이를 명확히 이해하는 것이 중요하다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 function varvs.Let() { var varArray = []; let letArray = []; // var의 함수 스코프 vs. let의 블록 스코프 for (var i = 0; i \u003c 3; i++) { varArray.push(function() { return i; }); } for (let j = 0; j \u003c 3; j++) { letArray.push(function() { return j; }); } console.log(varArray.map(f =\u003e f())); // [3, 3, 3] console.log(letArray.map(f =\u003e f())); // [0, 1, 2] // 블록 내 var 선언은 함수 스코프에 적용됨 { var varInBlock = 'var in block'; let letInBlock = 'let in block'; } console.log(varInBlock); // 'var in block' // console.log(letInBlock); // ReferenceError: letInBlock is not defined // if 문에서도 동일 if (true) { var varInIf = 'var in if'; let letInIf = 'let in if'; } console.log(varInIf); // 'var in if' // console.log(letInIf); // ReferenceError: letInIf is not defined } 블록 스코프와 브라우저 호환성 블록 스코프(let과 const)는 비교적 최신 기능이므로 호환성을 고려해야 한다:\nIE11 이하: 지원하지 않음 Edge 12+, Firefox 44+, Chrome 49+, Safari 10+: 완벽 지원 구형 브라우저 지원을 위해서는 Babel과 같은 트랜스파일러 사용 필요 블록 스코프의 디버깅과 도구 활용 크롬 개발자 도구에서의 블록 스코프 확인\n크롬 개발자 도구의 Sources 패널에서 디버거를 사용하면 블록 스코프를 시각적으로 확인할 수 있다:\n중단점(breakpoint)을 설정한다. 코드 실행 시 중단점에서 일시 중지된다. Scope 패널에서 현재 스코프의 변수를 확인한다: Block Scope: 현재 블록의 변수 Closure: 상위 블록의 변수 Script: 스크립트 스코프 변수 Global: 전역 변수 ESLint를 활용한 스코프 관련 문제 방지\nESLint 설정을 통해 블록 스코프 관련 모범 사례를 강제할 수 있다:\n1 2 3 4 5 6 7 8 { \"rules\": { \"no-var\": \"error\", // var 사용 금지 \"prefer-const\": \"error\", // 재할당되지 않는 변수는 const 사용 \"block-scoped-var\": \"error\", // 블록 스코프 변수처럼 var 사용 \"no-shadow\": \"error\" // 상위 스코프 변수명 재사용 금지 } } 참고 및 출처 ","wordCount":"2276","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-25T14:18:00Z","dateModified":"2024-12-25T14:18:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/block/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/>Programming Languages</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/>JavaScript and TypeScript</a>&nbsp;»&nbsp;<a href>자바스크립트(JavaScript)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/>Variables</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/>scopes</a></div><h1 class="post-title entry-hint-parent">Block</h1><div class=post-description>JavaScript에서 블록 스코프(Block Scope) 는 중괄호(`{}`)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다</div><div class=post-meta><span title='2024-12-25 14:18:00 +0000 UTC'>December 25, 2024</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20and%20Development/Programming%20Languages/Core%20Languages/JavaScript%20Family/JavaScript/Core%20Concepts/Variables/scopes/block.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#block>Block</a><ul><li><a href=#블록-스코프의-역사적-배경>블록 스코프의 역사적 배경</a></li><li><a href=#let과-const의-블록-스코프-특성>Let과 Const의 블록 스코프 특성</a></li><li><a href=#블록-스코프의-중첩>블록 스코프의 중첩</a></li><li><a href=#블록-스코프와-일시적-사각지대tdz>블록 스코프와 일시적 사각지대(TDZ)</a></li><li><a href=#반복문에서의-블록-스코프>반복문에서의 블록 스코프</a></li><li><a href=#블록-스코프와-클로저의-관계>블록 스코프와 클로저의 관계</a></li><li><a href=#변수-섀도잉>변수 섀도잉</a></li><li><a href=#블록-스코프를-활용한-실용적인-패턴>블록 스코프를 활용한 실용적인 패턴</a></li><li><a href=#블록-스코프와-성능>블록 스코프와 성능</a></li><li><a href=#블록-스코프-관련-주의사항과-모범-사례>블록 스코프 관련 주의사항과 모범 사례</a></li><li><a href=#블록-스코프의-실제-사용-예제>블록 스코프의 실제 사용 예제</a></li><li><a href=#var와-블록-스코프의-차이><code>var</code>와 블록 스코프의 차이</a></li><li><a href=#블록-스코프와-브라우저-호환성>블록 스코프와 브라우저 호환성</a></li><li><a href=#블록-스코프의-디버깅과-도구-활용>블록 스코프의 디버깅과 도구 활용</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=block>Block<a hidden class=anchor aria-hidden=true href=#block>#</a></h2><p>JavaScript에서 <strong>블록 스코프(Block Scope)</strong> 는 중괄호(<code>{}</code>)로 감싸진 코드 블록 내에서 선언된 변수나 함수가 해당 블록 내부에서만 유효한 범위를 의미한다.<br>이는 코드의 구조와 가독성, 유지보수성에 큰 영향을 미치며, 변수의 생명 주기와 가시성을 결정짓는 중요한 개념이다.</p><blockquote><p>블록 스코프는 JavaScript에서 변수의 가시성과 생명주기를 제어하는 강력한 개념이다:</p><ul><li>ES6에서 <code>let</code>과 <code>const</code> 키워드를 통해 도입되었다.</li><li>중괄호(<code>{}</code>)로 둘러싸인 코드 블록 내에서만 변수에 접근할 수 있다.</li><li>메모리 효율성, 코드 구조화, 버그 방지에 도움이 된다.</li><li>일시적 사각지대(TDZ)를 통해 더 예측 가능한 변수 동작을 제공한다.</li><li>클로저와 결합하여 강력한 패턴을 구현할 수 있다.</li></ul></blockquote><p>JavaScript에서 블록은 다음과 같은 상황에서 생성된다:</p><ul><li><code>if</code> 문</li><li><code>for</code>, <code>while</code> 등의 반복문</li><li><code>switch</code> 문</li><li>단독 블록 <code>{}</code></li><li><code>try/catch/finally</code> 문</li></ul><p>예를 들어, 다음과 같은 코드에서 중괄호 안에 있는 영역이 블록이다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 이것이 블록입니다
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 이것도 블록입니다
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 독립적인 블록도 가능합니다
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=블록-스코프의-역사적-배경>블록 스코프의 역사적 배경<a hidden class=anchor aria-hidden=true href=#블록-스코프의-역사적-배경>#</a></h3><p>JavaScript의 블록 스코프는 비교적 새로운 개념이다.<br>ES6(ECMAScript 2015) 이전에는 JavaScript에서 진정한 의미의 블록 스코프가 존재하지 않았으며, ES6(ECMAScript 2015)에서 let과 const 키워드와 함께 도입되었다.</p><ol><li><p>ES5 이전: var와 함수 스코프<br>ES5까지 JavaScript에서는 <code>var</code> 키워드로 선언된 변수가 함수 스코프 또는 전역 스코프를 가졌다.<br>블록은 스코프를 생성하지 않았다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>oldExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>// 같은 함수 스코프의 x를 재할당
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2 (블록 외부에서도 값이 변경됨)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이러한 동작은 다른 프로그래밍 언어와 달랐고, 예기치 않은 버그의 원인이 되었다.</p></li><li><p>ES6의 도입: Let과 Const<br>ES6에서는 <code>let</code>과 <code>const</code> 키워드가 도입되어 진정한 블록 스코프를 지원하게 되었다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>newExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>// 새로운 블록 스코프에 x 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 1 (블록 외부의 x는 변경되지 않음)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=let과-const의-블록-스코프-특성>Let과 Const의 블록 스코프 특성<a hidden class=anchor aria-hidden=true href=#let과-const의-블록-스코프-특성>#</a></h3><ol><li><p>Let 키워드<br><code>let</code>으로 선언된 변수는 블록 스코프를 가진다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>blockScoped</span> <span class=o>=</span> <span class=s1>&#39;블록 내부에서만 접근 가능&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>blockScoped</span><span class=p>);</span> <span class=c1>// &#39;블록 내부에서만 접근 가능&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// console.log(blockScoped); // ReferenceError: blockScoped is not defined
</span></span></span></code></pre></td></tr></table></div></div><p><code>let</code>은 다음과 같은 특성을 갖는다:<br>- 선언된 블록 내에서만 접근 가능<br>- 같은 스코프 내에서 중복 선언 불가<br>- 값 재할당 가능<br>- 호이스팅은 되지만, 초기화 전에 접근하면 에러 발생 (일시적 사각지대)</p></li><li><p>Const 키워드<br><code>const</code>도 <code>let</code>과 동일한 블록 스코프를 가지지만, 값을 재할당할 수 없다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7>7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>PI</span> <span class=o>=</span> <span class=mf>3.14159</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>PI</span><span class=p>);</span> <span class=c1>// 3.14159
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// PI = 3; // TypeError: Assignment to constant variable
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// console.log(PI); // ReferenceError: PI is not defined
</span></span></span></code></pre></td></tr></table></div></div><p><code>const</code>의 주요 특성:<br>- <code>let</code>과 동일한 블록 스코프 규칙<br>- 선언과 동시에 초기화 필수<br>- 값 재할당 불가<br>- 객체나 배열이 할당된 경우, 내부 속성은 변경 가능</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;홍길동&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;김철수&#39;</span><span class=p>;</span> <span class=c1>// 객체 속성 변경 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>user</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// &#39;김철수&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// user = {}; // TypeError: Assignment to constant variable
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=블록-스코프의-중첩>블록 스코프의 중첩<a hidden class=anchor aria-hidden=true href=#블록-스코프의-중첩>#</a></h3><p>블록은 중첩될 수 있으며, 내부 블록에서는 외부 블록의 변수에 접근할 수 있지만 외부 블록에서는 내부 블록의 변수에 접근할 수 없다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>outer</span> <span class=o>=</span> <span class=s1>&#39;외부 블록&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>inner</span> <span class=o>=</span> <span class=s1>&#39;내부 블록&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>outer</span><span class=p>);</span> <span class=c1>// &#39;외부 블록&#39; (접근 가능)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>inner</span><span class=p>);</span> <span class=c1>// &#39;내부 블록&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>outer</span><span class=p>);</span> <span class=c1>// &#39;외부 블록&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// console.log(inner); // ReferenceError: inner is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=블록-스코프와-일시적-사각지대tdz>블록 스코프와 일시적 사각지대(TDZ)<a hidden class=anchor aria-hidden=true href=#블록-스코프와-일시적-사각지대tdz>#</a></h3><p>블록 스코프에서 중요한 개념 중 하나가 &lsquo;일시적 사각지대(Temporal Dead Zone, TDZ)&lsquo;이다.<br>이는 변수가 선언되었지만 아직 초기화되지 않은 스코프 영역이다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 여기서부터 TDZ 시작
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// console.log(blockVar); // ReferenceError: Cannot access &#39;blockVar&#39; before initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>blockVar</span> <span class=o>=</span> <span class=s1>&#39;초기화 완료&#39;</span><span class=p>;</span> <span class=c1>// TDZ 종료
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>blockVar</span><span class=p>);</span> <span class=c1>// &#39;초기화 완료&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>TDZ는 다음과 같은 특성을 갖는다:</p><ul><li>블록의 시작부터 변수 선언문까지의 영역</li><li>이 영역에서 변수에 접근하면 ReferenceError 발생</li><li><code>let</code>, <code>const</code>, <code>class</code> 선언에 적용됨</li><li><code>var</code>에는 적용되지 않음</li></ul><h3 id=반복문에서의-블록-스코프>반복문에서의 블록 스코프<a hidden class=anchor aria-hidden=true href=#반복문에서의-블록-스코프>#</a></h3><p>반복문의 블록 스코프는 특히 유용하다.<br>각 반복마다 새로운 스코프가 생성된다:</p><ol><li><p>For 반복문</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 각 반복마다 새로운 i가 생성됨
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>),</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// 0, 1, 2가 올바르게 출력
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 비교: var를 사용한 경우
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 모든 반복에서 같은 j를 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>j</span><span class=p>),</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// 3, 3, 3 출력 (반복 종료 후의 값)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>for&mldr;of, for&mldr;in 반복문</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fruits</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;사과&#39;</span><span class=p>,</span> <span class=s1>&#39;바나나&#39;</span><span class=p>,</span> <span class=s1>&#39;오렌지&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>fruit</span> <span class=k>of</span> <span class=nx>fruits</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 각 반복마다 새로운 fruit 변수 스코프
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>fruit</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// console.log(fruit); // ReferenceError: fruit is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;홍길동&#39;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>30</span><span class=p>,</span> <span class=nx>job</span><span class=o>:</span> <span class=s1>&#39;개발자&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>key</span> <span class=k>in</span> <span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 각 반복마다 새로운 key 변수 스코프
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>: </span><span class=si>${</span><span class=nx>user</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// console.log(key); // ReferenceError: key is not defined
</span></span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=블록-스코프와-클로저의-관계>블록 스코프와 클로저의 관계<a hidden class=anchor aria-hidden=true href=#블록-스코프와-클로저의-관계>#</a></h3><p>블록 스코프는 클로저 생성에 중요한 역할을 한다.<br>클로저는 함수가 자신이 생성된 렉시컬 환경을 기억하는 특성을 말한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createFunctions</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>functions</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 각 반복마다 새로운 i가 생성되어 각 클로저에 독립적으로 캡처됨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>functions</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>functions</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>[</span><span class=nx>f0</span><span class=p>,</span> <span class=nx>f1</span><span class=p>,</span> <span class=nx>f2</span><span class=p>]</span> <span class=o>=</span> <span class=nx>createFunctions</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>f0</span><span class=p>();</span> <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>f1</span><span class=p>();</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>f2</span><span class=p>();</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// var를 사용했다면 모두 3을 출력했을 것
</span></span></span></code></pre></td></tr></table></div></div><h3 id=변수-섀도잉>변수 섀도잉<a hidden class=anchor aria-hidden=true href=#변수-섀도잉>#</a></h3><p>블록 내에서 외부 스코프와 동일한 이름의 변수를 선언할 수 있으며, 이는 외부 변수를 가리게 된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=s2>&#34;outer&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=s2>&#34;inner&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// &#34;inner&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// &#34;outer&#34;
</span></span></span></code></pre></td></tr></table></div></div><h3 id=블록-스코프를-활용한-실용적인-패턴>블록 스코프를 활용한 실용적인 패턴<a hidden class=anchor aria-hidden=true href=#블록-스코프를-활용한-실용적인-패턴>#</a></h3><ol><li><p>임시 변수 격리<br>블록 스코프를 사용하여 임시 변수를 격리할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processData</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 데이터 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 임시 변수를 위한 별도 블록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>temp</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>temp</span><span class=p>.</span><span class=nx>sort</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>temp</span> <span class=o>=</span> <span class=nx>temp</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=nx>item</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 필요한 계산 수행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>calculateAverage</span><span class=p>(</span><span class=nx>temp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>.</span><span class=nx>average</span> <span class=o>=</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>// temp는 여기서 접근 불가
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>단독 블록을 이용한 변수 스코프 제한<br>파일 최상위 레벨에서도 블록을 사용하여 변수의 스코프를 제한할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 전역 변수를 최소화하기 위한 패턴
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>API_KEY</span> <span class=o>=</span> <span class=s1>&#39;secret_key&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>API_URL</span> <span class=o>=</span> <span class=s1>&#39;https://api.example.com&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>fetchData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// API_KEY와 API_URL을 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 필요한 함수나 변수만 전역으로 노출
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nb>window</span><span class=p>.</span><span class=nx>fetchData</span> <span class=o>=</span> <span class=nx>fetchData</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// API_KEY와 API_URL은 여기서 접근 불가
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>Switch문에서의 변수 선언<br><code>switch</code>문에서도 블록 스코프가 유용하하다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>status</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s1>&#39;success&#39;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;성공적으로 처리되었습니다&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s1>&#39;error&#39;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;오류가 발생했습니다&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;처리 중입니다&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 각 case에서 동일한 변수명 message를 사용할 수 있음
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(message); // ReferenceError: message is not defined
</span></span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=블록-스코프와-성능>블록 스코프와 성능<a hidden class=anchor aria-hidden=true href=#블록-스코프와-성능>#</a></h3><p>블록 스코프는 성능에도 영향을 미칠 수 있다:</p><ol><li><p>메모리 사용 최적화<br>변수가 필요한 범위에서만 살아있도록 하여 메모리 사용을 최적화할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processManyItems</span><span class=p>(</span><span class=nx>items</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>items</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 각 항목에 대한 대규모 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 대용량 데이터를 위한 임시 변수
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>let</span> <span class=nx>tempData</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>(</span><span class=mi>10000</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=nx>items</span><span class=p>[</span><span class=nx>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>processed</span> <span class=o>=</span> <span class=nx>heavyProcessing</span><span class=p>(</span><span class=nx>tempData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>items</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>processed</span><span class=p>.</span><span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// tempData와 processed는 여기서 가비지 컬렉션의 대상이 됨
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>items</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>엔진 최적화 기회 제공<br>블록 스코프를 사용하면 JavaScript 엔진이 변수의 생명주기를 더 정확히 파악하여 최적화할 수 있다.</p></li></ol><h3 id=블록-스코프-관련-주의사항과-모범-사례>블록 스코프 관련 주의사항과 모범 사례<a hidden class=anchor aria-hidden=true href=#블록-스코프-관련-주의사항과-모범-사례>#</a></h3><h4 id=trycatch-블록>try/catch 블록<a hidden class=anchor aria-hidden=true href=#trycatch-블록>#</a></h4><p><code>try/catch</code> 문에서 <code>catch</code> 블록은 오류 객체에 대한 별도의 스코프를 생성한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7>7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8>8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 시도하는 코드
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;오류 발생&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// error는 catch 블록 내에서만 접근 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span> <span class=c1>// &#39;오류 발생&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// console.log(error); // ReferenceError: error is not defined
</span></span></span></code></pre></td></tr></table></div></div><h4 id=블록-스코프-모범-사례>블록 스코프 모범 사례<a hidden class=anchor aria-hidden=true href=#블록-스코프-모범-사례>#</a></h4><ol><li><p><strong>변수의 스코프를 최소화하기</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 좋은 예: 변수를 필요한 스코프로 제한
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>processUserData</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 사용자 데이터 가져오기
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>userId</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>userData</span> <span class=o>=</span> <span class=nx>fetchUserData</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>processData</span><span class=p>(</span><span class=nx>userData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// userData는 여기서 접근 불가 (메모리 효율성)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>const를 기본으로 사용하기</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 값이 변경되지 않는 변수는 const 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>CONFIG</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>apiUrl</span><span class=o>:</span> <span class=s1>&#39;https://api.example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>timeout</span><span class=o>:</span> <span class=mi>5000</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 변경이 필요한 경우에만 let 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>retryCount</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 로직 수행...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>블록을 활용하여 코드 구조화하기</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>complexFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 초기화 관련 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 1단계: 데이터 준비
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>prepareData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>validateData</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 2단계: 비즈니스 로직 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>processBusinessLogic</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>verifyResult</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 3단계: 마무리 작업
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>summary</span> <span class=o>=</span> <span class=nx>createSummary</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>summary</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>명시적인 블록 주석 사용하기</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>largeFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// --- 초기화 섹션 ---
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 초기화 관련 코드...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// --- 데이터 처리 섹션 ---
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 데이터 처리 관련 코드...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// --- 결과 반환 섹션 ---
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 결과 반환 관련 코드...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=블록-스코프의-실제-사용-예제>블록 스코프의 실제 사용 예제<a hidden class=anchor aria-hidden=true href=#블록-스코프의-실제-사용-예제>#</a></h3><h4 id=웹-애플리케이션에서의-이벤트-핸들러>웹 애플리케이션에서의 이벤트 핸들러<a hidden class=anchor aria-hidden=true href=#웹-애플리케이션에서의-이벤트-핸들러>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17>17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18>18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19>19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20>20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21>21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22>22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23>23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24>24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25>25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26>26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27>27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28>28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>setupEventHandlers</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>buttons</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;.action-button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>buttons</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>button</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 각 버튼에 대한 데이터 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>buttonId</span> <span class=o>=</span> <span class=nx>button</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;data-id&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 이벤트 리스너 등록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>button</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 블록 스코프 변수를 캡처하는 클로저
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Button </span><span class=si>${</span><span class=nx>buttonId</span><span class=si>}</span><span class=sb> clicked`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 클릭 시 임시 상태 관리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>let</span> <span class=nx>isProcessing</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>button</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=s1>&#39;processing&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>processButtonAction</span><span class=p>(</span><span class=nx>buttonId</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>})</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=k>finally</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>button</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=s1>&#39;processing&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>// isProcessing은 이 블록에서만 필요함
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=api-호출에서의-블록-스코프-활용>API 호출에서의 블록 스코프 활용<a hidden class=anchor aria-hidden=true href=#api-호출에서의-블록-스코프-활용>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>fetchUserData</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// API URL 및 옵션 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>API_KEY</span> <span class=o>=</span> <span class=nx>getApiKey</span><span class=p>();</span> <span class=c1>// 민감한 키는 가능한 작은 스코프에 유지
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>url</span> <span class=o>=</span> <span class=sb>`https://api.example.com/users/</span><span class=si>${</span><span class=nx>userId</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;GET&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Authorization&#39;</span><span class=o>:</span> <span class=sb>`Bearer </span><span class=si>${</span><span class=nx>API_KEY</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=c1>// API_KEY는 이 블록 외부에서 접근 불가
</span></span></span><span class=line><span class=cl><span class=c1></span>      
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>response</span><span class=p>.</span><span class=nx>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;API 호출 실패&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;사용자 데이터 가져오기 오류:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=모듈-패턴-구현>모듈 패턴 구현<a hidden class=anchor aria-hidden=true href=#모듈-패턴-구현>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29>29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30>30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31>31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32>32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33>33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34>34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35>35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>userModule</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 모듈 내부 상태 (비공개)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>userState</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 내부 유틸리티 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>validateUser</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span> <span class=o>&amp;&amp;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span> <span class=o>&amp;&amp;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 공개 API
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setUser</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 블록 스코프를 사용한 검증 로직 격리
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>isValid</span> <span class=o>=</span> <span class=nx>validateUser</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isValid</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;유효하지 않은 사용자 데이터&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 추가 검증 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>let</span> <span class=nx>permissionsValid</span> <span class=o>=</span> <span class=nx>checkPermissions</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>permissionsValid</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;권한이 유효하지 않음&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// 검증 통과 후 상태 업데이트
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>userState</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>user</span><span class=p>,</span> <span class=nx>lastUpdated</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getUser</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>userState</span> <span class=o>?</span> <span class=p>{</span> <span class=p>...</span><span class=nx>userState</span> <span class=p>}</span> <span class=o>:</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=var와-블록-스코프의-차이><code>var</code>와 블록 스코프의 차이<a hidden class=anchor aria-hidden=true href=#var와-블록-스코프의-차이>#</a></h3><p><code>var</code>와 <code>let</code>/<code>const</code>의 블록 스코프 차이를 명확히 이해하는 것이 중요하다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30>30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31>31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32>32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33>33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34>34</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>varvs</span><span class=p>.</span><span class=nx>Let</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>varArray</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>letArray</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// var의 함수 스코프 vs. let의 블록 스코프
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>varArray</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>i</span><span class=p>;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>letArray</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>j</span><span class=p>;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>varArray</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>f</span> <span class=p>=&gt;</span> <span class=nx>f</span><span class=p>()));</span> <span class=c1>// [3, 3, 3]
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>letArray</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>f</span> <span class=p>=&gt;</span> <span class=nx>f</span><span class=p>()));</span> <span class=c1>// [0, 1, 2]
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 블록 내 var 선언은 함수 스코프에 적용됨
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>varInBlock</span> <span class=o>=</span> <span class=s1>&#39;var in block&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>letInBlock</span> <span class=o>=</span> <span class=s1>&#39;let in block&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>varInBlock</span><span class=p>);</span> <span class=c1>// &#39;var in block&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// console.log(letInBlock); // ReferenceError: letInBlock is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// if 문에서도 동일
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>varInIf</span> <span class=o>=</span> <span class=s1>&#39;var in if&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>letInIf</span> <span class=o>=</span> <span class=s1>&#39;let in if&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>varInIf</span><span class=p>);</span> <span class=c1>// &#39;var in if&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// console.log(letInIf); // ReferenceError: letInIf is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=블록-스코프와-브라우저-호환성>블록 스코프와 브라우저 호환성<a hidden class=anchor aria-hidden=true href=#블록-스코프와-브라우저-호환성>#</a></h3><p>블록 스코프(<code>let</code>과 <code>const</code>)는 비교적 최신 기능이므로 호환성을 고려해야 한다:</p><ul><li>IE11 이하: 지원하지 않음</li><li>Edge 12+, Firefox 44+, Chrome 49+, Safari 10+: 완벽 지원</li><li>구형 브라우저 지원을 위해서는 Babel과 같은 트랜스파일러 사용 필요</li></ul><h3 id=블록-스코프의-디버깅과-도구-활용>블록 스코프의 디버깅과 도구 활용<a hidden class=anchor aria-hidden=true href=#블록-스코프의-디버깅과-도구-활용>#</a></h3><ol><li><p>크롬 개발자 도구에서의 블록 스코프 확인<br>크롬 개발자 도구의 Sources 패널에서 디버거를 사용하면 블록 스코프를 시각적으로 확인할 수 있다:</p><ol><li>중단점(breakpoint)을 설정한다.</li><li>코드 실행 시 중단점에서 일시 중지된다.</li><li>Scope 패널에서 현재 스코프의 변수를 확인한다:<ul><li>Block Scope: 현재 블록의 변수</li><li>Closure: 상위 블록의 변수</li><li>Script: 스크립트 스코프 변수</li><li>Global: 전역 변수</li></ul></li></ol></li><li><p>ESLint를 활용한 스코프 관련 문제 방지<br>ESLint 설정을 통해 블록 스코프 관련 모범 사례를 강제할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;rules&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;no-var&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span>           <span class=c1>// var 사용 금지
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;prefer-const&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span>     <span class=c1>// 재할당되지 않는 변수는 const 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;block-scoped-var&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span> <span class=c1>// 블록 스코프 변수처럼 var 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;no-shadow&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span>         <span class=c1>// 상위 스코프 변수명 재사용 금지
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/programming-languages/>Programming-Languages</a></li><li><a href=https://buenhyden.github.io/tags/javascript/>Javascript</a></li><li><a href=https://buenhyden.github.io/tags/basic-syntax/>Basic-Syntax</a></li><li><a href=https://buenhyden.github.io/tags/variables/>Variables</a></li><li><a href=https://buenhyden.github.io/tags/scopes/>Scopes</a></li><li><a href=https://buenhyden.github.io/tags/block/>Block</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/temporal-dead-zone/><span class=title>« Prev</span><br><span>Temporal Dead Zone</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-and-development/programming-languages/core-languages/javascript-family/javascript/core-concepts/variables/scopes/function/><span class=title>Next »</span><br><span>Function</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>