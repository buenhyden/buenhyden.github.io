<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>hyunyoun's Blog – UWSGI</title><link>https://buenhyden.github.io/tags/uwsgi/</link><description>Recent content in UWSGI on hyunyoun's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 17 Nov 2024 14:06:00 +0000</lastBuildDate><atom:link href="https://buenhyden.github.io/tags/uwsgi/index.xml" rel="self" type="application/rss+xml"/><item><title>Python Web Application Server</title><link>https://buenhyden.github.io/posts/programming-languages/python/library/python-web-application-server/</link><pubDate>Sun, 17 Nov 2024 14:06:00 +0000</pubDate><guid>https://buenhyden.github.io/posts/programming-languages/python/library/python-web-application-server/</guid><description>
&lt;h2>Python Web Application Server&lt;/h2>&lt;p>gunicorn, uwsgi, daphne, uvicorn은 모두 Python 웹 애플리케이션을 실행하고 서비스하기 위한 서버 프로그램들이다.
이들은 각각 고유한 특징과 용도를 가지고 있으며, 주로 WSGI(Web Server Gateway Interface) 또는 ASGI(Asynchronous Server Gateway Interface) 프로토콜을 구현한다.&lt;/p>
&lt;h3>서버 구현체 비교 분석&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>특성&lt;/th>
&lt;th>Gunicorn&lt;/th>
&lt;th>uWSGI&lt;/th>
&lt;th>Daphne&lt;/th>
&lt;th>Uvicorn&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>서버 유형&lt;/strong>&lt;/td>
&lt;td>WSGI 서버&lt;/td>
&lt;td>WSGI/ASGI 서버&lt;/td>
&lt;td>ASGI 서버&lt;/td>
&lt;td>ASGI 서버&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>프로토콜 지원&lt;/strong>&lt;/td>
&lt;td>HTTP/1.1&lt;/td>
&lt;td>HTTP/1.1, HTTP/2, WebSocket&lt;/td>
&lt;td>HTTP/1.1, HTTP/2, WebSocket, Server-Sent Events&lt;/td>
&lt;td>HTTP/1.1, WebSocket&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>주요 특징&lt;/strong>&lt;/td>
&lt;td>- 안정성과 신뢰성&lt;br>- 간단한 설정&lt;br>- 프로세스 관리 용이&lt;br>- 자동 워커 관리&lt;br>- 우수한 모니터링&lt;/td>
&lt;td>- 다양한 프로토콜 지원&lt;br>- 높은 확장성&lt;br>- 복잡한 설정 가능&lt;br>- 캐싱 기능&lt;br>- 로드 밸런싱&lt;/td>
&lt;td>- Django Channels 기본 서버&lt;br>- 비동기 처리 최적화&lt;br>WebSocket 특화&lt;br>- 실시간 통신 강점&lt;/td>
&lt;td>- 경량화 설계&lt;br>- 빠른 속도&lt;br>- 간단한 구성&lt;br>FastAPI 권장 서버&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>성능&lt;/strong>&lt;/td>
&lt;td>- 중간~높음&lt;br>- 안정적 성능&lt;br>- 동시성 처리 우수&lt;/td>
&lt;td>- 매우 높음&lt;br>- 리소스 사용량 다소 높음&lt;br>- 복잡한 설정 필요&lt;/td>
&lt;td>- 높음&lt;br>- 비동기 처리 최적화&lt;br>WebSocket 성능 우수&lt;/td>
&lt;td>- 매우 높음&lt;br>- 낮은 지연시간&lt;br>- 효율적 리소스 사용&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>사용 사례&lt;/strong>&lt;/td>
&lt;td>- Django/Flask 프로덕션&lt;br>- 일반적인 웹 애플리케이션&lt;br>REST API 서버&lt;/td>
&lt;td>- 대규모 엔터프라이즈&lt;br>- 복잡한 서버 구성&lt;br>- 다중 프로토콜 지원 필요&lt;/td>
&lt;td>- 실시간 애플리케이션&lt;br>- 채팅 서비스&lt;br>WebSocket 기반 서비스&lt;/td>
&lt;td>- FastAPI 애플리케이션&lt;br>- 마이크로서비스&lt;br>- 고성능 API 서버&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>설정 복잡도&lt;/strong>&lt;/td>
&lt;td>낮음&lt;/td>
&lt;td>높음&lt;/td>
&lt;td>중간&lt;/td>
&lt;td>낮음&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>문서화 수준&lt;/strong>&lt;/td>
&lt;td>우수함&lt;/td>
&lt;td>매우 상세함&lt;/td>
&lt;td>보통&lt;/td>
&lt;td>우수함&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>커뮤니티 크기&lt;/strong>&lt;/td>
&lt;td>매우 큼&lt;/td>
&lt;td>큼&lt;/td>
&lt;td>중간&lt;/td>
&lt;td>커지는 중&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>주요 장점&lt;/strong>&lt;/td>
&lt;td>- 안정성&lt;br>- 쉬운 설정&lt;br>- 넓은 생태계&lt;br>- 좋은 모니터링&lt;/td>
&lt;td>- 높은 성능&lt;br>- 다양한 기능&lt;br>- 유연한 설정&lt;br>- 풍부한 기능&lt;/td>
&lt;td>- 비동기 최적화&lt;br>WebSocket 특화&lt;br>Django 통합 우수&lt;/td>
&lt;td>- 빠른 속도&lt;br>- 간단한 설정&lt;br>- 현대적 구조&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>주요 단점&lt;/strong>&lt;/td>
&lt;td>- 비동기 제한적&lt;br>WebSocket 미지원&lt;/td>
&lt;td>- 복잡한 설정&lt;br>- 높은 학습 곡선&lt;br>- 리소스 사용량&lt;/td>
&lt;td>- 제한적 사용 사례&lt;br>- 작은 생태계&lt;/td>
&lt;td>- 제한적 기능&lt;br>- 새로운 생태계&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>권장 환경&lt;/strong>&lt;/td>
&lt;td>- 안정성 중시&lt;br>- 일반 웹 서비스&lt;br>- 중소규모 서비스&lt;/td>
&lt;td>- 대규모 서비스&lt;br>- 복잡한 요구사항&lt;br>- 리소스 여유&lt;/td>
&lt;td>- 실시간 서비스&lt;br>- Django Channels&lt;br>- WebSocket 필수&lt;/td>
&lt;td>- 현대적 API&lt;br>- 마이크로서비스&lt;br>- 고성능 요구&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>동시성 모델&lt;/strong>&lt;/td>
&lt;td>프리포크(Pre-fork)&lt;/td>
&lt;td>프리포크 + 스레드&lt;/td>
&lt;td>비동기 이벤트 루프&lt;/td>
&lt;td>비동기 이벤트 루프&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>로드 밸런싱&lt;/td>
&lt;td>내장&lt;/td>
&lt;td>내장&lt;/td>
&lt;td>별도 설정 필요&lt;/td>
&lt;td>Gunicorn과 함께 사용 시 가능&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>모니터링&lt;/strong>&lt;/td>
&lt;td>내장 도구 우수&lt;/td>
&lt;td>상세한 도구 제공&lt;/td>
&lt;td>기본적 수준&lt;/td>
&lt;td>기본적 수준&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>배포 용이성&lt;/strong>&lt;/td>
&lt;td>매우 쉬움&lt;/td>
&lt;td>복잡함&lt;/td>
&lt;td>중간&lt;/td>
&lt;td>쉬움&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>보안 기능&lt;/td>
&lt;td>기본적인 보안 기능&lt;/td>
&lt;td>다양한 보안 기능&lt;/td>
&lt;td>Django 보안 기능 활용&lt;/td>
&lt;td>기본적인 보안 기능&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>확장성&lt;/td>
&lt;td>높음&lt;/td>
&lt;td>매우 높음&lt;/td>
&lt;td>중간&lt;/td>
&lt;td>높음&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>웹소켓 지원&lt;/td>
&lt;td>제한적&lt;/td>
&lt;td>지원&lt;/td>
&lt;td>완벽 지원&lt;/td>
&lt;td>지원&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>호환성&lt;/td>
&lt;td>Django, Flask 등 WSGI 프레임워크&lt;/td>
&lt;td>Django, Flask, Pyramid 등 WSGI 프레임워크&lt;/td>
&lt;td>Django Channels에 특화&lt;/td>
&lt;td>FastAPI, Starlette 등 ASGI 프레임워크&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2>참고 및 출처&lt;/h2></description></item><item><title>UWSGI</title><link>https://buenhyden.github.io/posts/programming-languages/python/library/web-application-server/uwsgi/</link><pubDate>Sat, 16 Nov 2024 03:36:00 +0000</pubDate><guid>https://buenhyden.github.io/posts/programming-languages/python/library/web-application-server/uwsgi/</guid><description>
&lt;h2>UWSGI&lt;/h2>&lt;p>uWSGI는 파이썬 웹 애플리케이션을 위한 강력하고 유연한 애플리케이션 서버이다.&lt;br>
WSGI(Web Server Gateway Interface) 프로토콜을 구현하여 웹 서버와 파이썬 웹 애플리케이션 간의 표준화된 인터페이스를 제공한다.&lt;/p>
&lt;p>적절한 설정과 튜닝을 통해 고성능, 안정성, 확장성을 제공하여 프로덕션 환경에서 파이썬 웹 애플리케이션을 효과적으로 운영할 수 있게 해준다.&lt;/p>
&lt;h3>uWSGI의 주요 특징&lt;/h3>&lt;ol>
&lt;li>다양한 프로토콜 지원: HTTP, FastCGI, SCGI 등 여러 프로토콜을 지원한다.&lt;/li>
&lt;li>고성능: 멀티 프로세싱과 멀티스레딩을 지원하여 높은 동시성과 성능을 제공한다.&lt;/li>
&lt;li>유연성: 다양한 설정 옵션을 통해 세밀한 성능 튜닝이 가능한다.&lt;/li>
&lt;li>플러그인 아키텍처: C, C++, Python 등 다양한 언어로 플러그인을 개발할 수 있어 확장성이 뛰어나다.&lt;/li>
&lt;li>프로세스 관리: 마스터 프로세스가 워커 프로세스를 효율적으로 관리한다.&lt;/li>
&lt;/ol>
&lt;h3>uWSGI의 장점&lt;/h3>&lt;ol>
&lt;li>높은 성능: 효율적인 리소스 관리로 높은 처리량을 제공한다.&lt;/li>
&lt;li>안정성: 마스터 프로세스가 워커 프로세스를 관리하여 안정적인 운영이 가능하다.&lt;/li>
&lt;li>유연성: 다양한 설정 옵션으로 다양한 환경에 적응할 수 있다.&lt;/li>
&lt;li>확장성: 플러그인 아키텍처를 통해 기능을 확장할 수 있다.&lt;/li>
&lt;/ol>
&lt;h3>uWSGI의 작동 방식&lt;/h3>&lt;ol>
&lt;li>웹 서버(예: Nginx)가 클라이언트로부터 요청을 받는다.&lt;/li>
&lt;li>웹 서버는 이 요청을 uWSGI 서버로 전달한다.&lt;/li>
&lt;li>uWSGI는 요청을 파이썬 애플리케이션(예: Django, Flask)에 전달한다.&lt;/li>
&lt;li>파이썬 애플리케이션이 요청을 처리하고 응답을 생성한다.&lt;/li>
&lt;li>uWSGI는 이 응답을 웹 서버로 반환하고, 웹 서버는 최종적으로 클라이언트에게 응답을 전송한다.&lt;/li>
&lt;/ol>
&lt;h3>uWSGI의 로드밸런싱&lt;/h3>&lt;p>uWSGI는 내장된 로드 밸런싱 기능을 제공하여 여러 워커 프로세스 간에 요청을 효율적으로 분산시킬 수 있다.&lt;/p>
&lt;p>uWSGI의 로드 밸런싱은 다음과 같이 작동한다:&lt;/p>
&lt;ol>
&lt;li>마스터 프로세스와 워커 프로세스&lt;br>
uWSGI는 마스터 프로세스를 생성하고, 이 마스터 프로세스가 여러 워커 프로세스를 fork한다.&lt;br>
각 워커 프로세스는 독립적인 Python 인터프리터 인스턴스를 가지며, 자체 GIL(Global Interpreter Lock)을 갖는다.&lt;/li>
&lt;li>요청 분배
&lt;ol>
&lt;li>마스터 프로세스가 들어오는 HTTP 요청을 받는다다.&lt;/li>
&lt;li>마스터 프로세스는 사전 정의된 로드 밸런싱 알고리즘에 따라 요청을 워커 프로세스 중 하나에 할당한다.&lt;/li>
&lt;li>선택된 워커 프로세스가 요청을 처리하고 응답을 반환한다.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>로드 밸런싱 알고리즘&lt;br>
uWSGI는 다양한 로드 밸런싱 알고리즘을 지원한다다:
&lt;ul>
&lt;li>Round Robin: 요청을 순차적으로 각 워커에 분배한다.&lt;/li>
&lt;li>Least Connections: 현재 가장 적은 연결을 처리 중인 워커에 새 요청을 할당한다.&lt;/li>
&lt;li>IP Hash: 클라이언트 IP 주소를 기반으로 요청을 특정 워커에 할당한다.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>동적 스케일링&lt;br>
uWSGI의 &amp;lsquo;cheaper&amp;rsquo; 서브시스템을 사용하면 트래픽 변화에 따라 워커 프로세스 수를 동적으로 조절할 수 있다.&lt;br>
이를 통해 리소스 사용을 최적화하고 예상치 못한 트래픽 급증에 대비할 수 있다.&lt;/li>
&lt;li>장애 대응&lt;br>
uWSGI는 워커 프로세스의 상태를 모니터링하고, 특정 워커가 응답하지 않거나 문제가 발생하면 해당 워커를 재시작하거나 트래픽을 다른 워커로 리다이렉트한다.&lt;/li>
&lt;/ol>
&lt;p>uWSGI의 로드 밸런싱 기능은 단일 서버 내에서 효과적으로 작동하며, 복잡한 설정 없이도 애플리케이션의 성능과 안정성을 향상시킬 수 있다.&lt;br>
그러나 대규모 분산 환경에서는 Nginx와 같은 전용 로드 밸런서와 함께 사용하는 것이 일반적이다.&lt;/p>
&lt;p>uWSGI의 로드 밸런싱 기능을 설정하기 위해서는:&lt;/p>
&lt;ol>
&lt;li>마스터 프로세스 활성화&lt;/li>
&lt;li>워커 프로세스 설정&lt;/li>
&lt;li>로드 밸런싱 알고리즘 선택&lt;/li>
&lt;li>동적 스케일링 설정&lt;/li>
&lt;li>소켓 설정&lt;br>
등을 통해 여러 워커 프로세스간에 요청을 효과적으로 분산시킬 수 있다.&lt;/li>
&lt;/ol>
&lt;p>uWSGI의 로드 밸런싱 기능을 사용할 때는:&lt;/p>
&lt;ol>
&lt;li>워커 프로세스 수 설정:&lt;br>
단순히 CPU 코어 수의 2배로 설정하는 것은 충분하지 않다.&lt;br>
애플리케이션과 시스템 특성에 맞게 실험을 통해 최적의 워커 수를 찾아야 한다.&lt;/li>
&lt;li>메모리 사용량 모니터링:&lt;br>
memory-report 옵션을 사용하여 메모리 사용량을 지속적으로 확인해야 한다.&lt;/li>
&lt;li>버퍼 크기 조정:&lt;br>
기본 버퍼 크기(4096바이트)가 부족할 경우 &amp;ldquo;invalid request block size&amp;rdquo; 오류가 발생할 수 있으므로 buffer-size 옵션으로 조정이 필요한다.&lt;/li>
&lt;li>동적 스케일링 설정:&lt;br>
cheaper 서브시스템을 활용하여 트래픽 변화에 따라 워커 수를 자동으로 조절할 수 있다.&lt;/li>
&lt;li>커널의 로드 밸런싱 활용:&lt;br>
특별한 경우가 아니라면 커널의 기본 로드 밸런싱을 신뢰하는 것이 좋다.&lt;br>
균등 분배가 필요하다면 CPU 어피니티 옵션을 고려해볼 수 있다.&lt;/li>
&lt;li>프록시 타임아웃 설정:&lt;br>
리로드 시간이 길어질 경우 프록시의 연결 타임아웃을 적절히 조정해야 한다.&lt;/li>
&lt;li>워커 재활용:&lt;br>
max-requests, max-worker-lifetime, reload-on-rss 등의 옵션을 사용하여 워커를 주기적으로 재시작함으로써 메모리 누수 등의 문제를 예방할 수 있다.&lt;br>
 이러한 요소들을 주의해야 하며, 이들을 고려하여 uWSGI의 로드 밸런싱을 구성하고, 지속적인 모니터링과 튜닝을 통해 최적의 성능을 얻을 수 있다.&lt;/li>
&lt;/ol>
&lt;h3>uWSGI와 Nginx의 조합&lt;/h3>&lt;p>uWSGI와 Nginx를 함께 사용하면 다음과 같은 주요 장점들이 있다:&lt;/p>
&lt;ol>
&lt;li>성능 향상
&lt;ol>
&lt;li>정적 파일 처리: Nginx가 정적 파일을 더 효율적으로 처리하여 uWSGI의 부하를 줄인다.&lt;/li>
&lt;li>고성능 처리: Nginx는 수천 개의 동시 연결을 처리할 수 있는 안정적인 웹 서버이다.&lt;/li>
&lt;li>캐싱: Nginx는 동적 콘텐츠 캐싱을 구현하여 서버 부하를 줄일 수 있다.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>보안 강화
&lt;ol>
&lt;li>DDoS 방어: Nginx가 요청을 필터링하고 제한하여 uWSGI 서버를 보호한다.&lt;/li>
&lt;li>SSL 종료: Nginx가 SSL 연결을 처리하여 uWSGI의 부담을 줄인다.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>유연성 및 확장성
&lt;ol>
&lt;li>로드 밸런싱: Nginx가 여러 uWSGI 인스턴스 간에 요청을 분산시킬 수 있다.&lt;/li>
&lt;li>리버스 프록시: Nginx가 uWSGI 앞에서 리버스 프록시 역할을 수행한다.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>추가 기능
&lt;ol>
&lt;li>HTTP 기능: Nginx는 압축, ETag, 액세스 로깅 등 다양한 HTTP 기능을 제공한다.&lt;/li>
&lt;li>URL 라우팅: Nginx를 통해 복잡한 URL 라우팅을 구현할 수 있다.&lt;br>
이러한 장점들로 인해 Nginx와 uWSGI를 함께 사용하면 더 안정적이고 확장 가능한 웹 애플리케이션 배포가 가능해진다.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3>uWSGI 환경 설정&lt;/h3>&lt;p>uWSGI는 다양한 설정 옵션을 제공한다.&lt;/p>
&lt;h4>고려할 사항&lt;/h4>&lt;p>uWSGI를 설정하는데 있어 서버 환경과 애플리케이션의 특성에 따라 적절히 조정되어야 한다.&lt;br>
특히 Django나 Flask 애플리케이션의 경우, 다음과 같은 점들을 고려해야 한다.&lt;/p>
&lt;ol>
&lt;li>Django 애플리케이션의 경우 static 파일 서빙:&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">static-map&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/static=/path/to/static&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">static-expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/* 7776000&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="2">
&lt;li>Flask 애플리케이션의 경우 WSGI 호출 규칙:&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">callable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">wsgi-file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">app.py&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="3">
&lt;li>개발 환경과 프로덕션 환경의 구분:&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 개발 환경&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">python-autoreload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">py-auto-reload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 프로덕션 환경&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">disable-logging&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">master&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">vacuum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="4">
&lt;li>프로세스와 스레드 설정은 서버의 CPU 코어 수와 메모리를 고려하여 설정해야 한다. 일반적으로 CPU 코어 수에 맞춰 프로세스를 설정하는 것이 좋다.
&lt;ul>
&lt;li>소켓 설정에서는 Nginx와 같은 웹서버와 연동할 때는 Unix 소켓을, 직접 HTTP 서비스를 제공할 때는 http 옵션을 사용한다.&lt;/li>
&lt;li>로드 밸런싱 설정은 트래픽 패턴에 따라 조정이 필요하다. cheaper 옵션으로 동적으로 워커 수를 조절할 수 있다.&lt;/li>
&lt;li>메모리 관련 설정은 서버의 전체 메모리를 고려하여 설정해야 한다. reload-on-rss로 메모리 누수를 방지할 수 있다.&lt;/li>
&lt;li>로깅 설정은 디버깅과 모니터링을 위해 중요하다. logto로 별도의 로그 파일을 지정하고, log-maxsize로 로그 파일 크기를 제한할 수 있다.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4>다양한 설정 옵션&lt;/h4>&lt;h5>기본 프로젝트 설정&lt;/h5>&lt;p>프로젝트의 기본적인 실행 환경을 설정하는 옵션.&lt;br>
Django나 Flask 애플리케이션을 실행하기 위한 필수적인 설정들이 포함된다.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[uwsgi]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 프로젝트 기본 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">chdir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/path/to/your/project # 프로젝트 루트 디렉토리 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">module&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">myproject.wsgi:application # WSGI 애플리케이션 모듈 경로&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">pythonpath&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/path/to/your/project # Python 패키지 검색 경로 추가&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">DJANGO_SETTINGS_MODULE=myproject.settings # 환경변수 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 가상환경 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">home&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/path/to/virtualenv # 가상환경 경로&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">virtualenv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/path/to/virtualenv # 가상환경 경로 (home과 동일한 역할)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 실행 권한 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">uid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">www-data # 실행 사용자&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">gid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">www-data # 실행 그룹&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>프로세스 및 스레드 관리&lt;/h5>&lt;p>서버의 동시성과 성능을 제어하는 핵심적인 설정.&lt;br>
CPU 자원을 효율적으로 활용하기 위한 다양한 옵션들을 제공한다.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 마스터 프로세스 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">master&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 마스터 프로세스 활성화&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">pidfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/tmp/project-master.pid # 마스터 프로세스 PID 파일 위치&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 워커 프로세스 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">processes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">4 # 생성할 워커 프로세스 수&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">enable-threads&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 스레드 지원 활성화&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">threads&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">2 # 프로세스당 스레드 수&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">thread-stacksize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">512 # 스레드 스택 크기 (KB)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 프로세스 관리&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-requests&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">5000 # 워커당 최대 요청 처리 수&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-worker-lifetime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">3600 # 워커 프로세스 최대 수명 (초)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">reload-on-rss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">2048 # 메모리 사용량에 따른 리로드 (MB)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">worker-reload-mercy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">60 # 워커 종료 대기 시간 (초)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>네트워크 및 프로토콜 설정&lt;/h5>&lt;p>네트워크 연결과 관련된 설정.&lt;br>
Nginx와의 연동이나 독립 실행 시의 통신 방식을 정의한다.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 소켓 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">socket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/tmp/uwsgi.sock # Unix 소켓 파일 경로&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">chmod-socket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">666 # 소켓 파일 권한&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">:8000 # HTTP 포트 바인딩&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">http-keepalive&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # HTTP keepalive 지원&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">http-timeout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">65 # HTTP 요청 타임아웃 (초)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 버퍼 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">buffer-size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">32768 # 요청 버퍼 크기&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">post-buffering&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">16384 # POST 요청 버퍼 크기&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">socket-timeout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">30 # 소켓 타임아웃 (초)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>리소스 관리 및 제한&lt;/h5>&lt;p>서버 리소스 사용을 제어하고 모니터링하기 위한 설정.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 메모리 제한&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">limit-as&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">256 # 프로세스당 메모리 제한 (MB)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">reload-on-rss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">200 # RSS 기반 리로드 임계값 (MB)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">memory-report&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 메모리 사용량 보고 활성화&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># CPU 제한&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">harakiri&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">30 # 요청 처리 제한 시간 (초)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">harakiri-verbose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 상세한 harakiri 로그&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cpu-affinity&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1 # CPU 코어 할당&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 파일 설명자 제한&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">listen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">2048 # 리스닝 큐 크기&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">51200 # 최대 파일 설명자 수&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>로깅 및 디버깅&lt;/h5>&lt;p>애플리케이션 모니터링과 문제 해결을 위한 로깅 설정.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 로그 파일 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">logto&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/var/log/uwsgi/%n.log # 로그 파일 경로&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-maxsize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">20971520 # 로그 파일 최대 크기 (bytes)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-backupname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/var/log/uwsgi/%n.old.log # 백업 로그 파일명&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 로그 레벨 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-4xx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 4xx 에러 로깅&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-5xx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 5xx 에러 로깅&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-slow&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 느린 요청 로깅&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log-date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 타임스탬프 포함&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>자동 재시작 및 리로드&lt;/h5>&lt;p>애플리케이션의 안정성과 지속성을 보장하기 위한 설정.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 자동 재시작 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">auto-procname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true # 프로세스 이름 자동 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">touch-reload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/path/to/project/reload # 파일 변경 시 재시작&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">py-auto-reload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1 # Python 파일 변경 감지&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">reload-mercy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">8 # 리로드 대기 시간 (초)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 재시작 조건 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-requests&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1000 # 최대 요청 수 도달 시 재시작&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-worker-lifetime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">3600 # 워커 최대 수명 (초)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>성능 최적화&lt;/h5>&lt;p>애플리케이션의 성능을 향상시키기 위한 고급 설정.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 캐시 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cache2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">name=mycache,items=100 # 캐시 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cache-blocksize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">64 # 캐시 블록 크기&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cache-store&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/tmp/uwsgicache # 캐시 저장 위치&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 스레드 풀 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cheaper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">2 # 최소 프로세스 수&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cheaper-algo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">spare # 프로세스 스케일링 알고리즘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cheaper-step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1 # 스케일링 단계&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">cheaper-idle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">60 # 스케일링을 축소하기 위해 필요한 유휴 시간&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>시스템 서비스 등록&lt;/h4>&lt;h5>Systemd 서비스 파일을 작성&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">uWSGI instance to serve myproject&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">User&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">www-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">www-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WorkingDirectory&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/path/to/project&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Environment&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;PATH=/path/to/project/venv/bin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/path/to/project/venv/bin/uwsgi --ini /path/to/project/uwsgi.ini&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecReload&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/bin/kill -HUP $MAINPID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">KillSignal&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">SIGQUIT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">notify&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">NotifyAccess&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">all&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">always&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">RestartSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">StandardError&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">syslog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">StandardOutput&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">syslog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>서비스 파일을 시스템에 등록하고 활성화하는 방법&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 서비스 파일 복사&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp uwsgi.service /etc/systemd/system/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># systemd 데몬 리로드&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 서비스 시작&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start uwsgi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 부팅 시 자동 시작 설정&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> uwsgi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 서비스 상태 확인&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl status uwsgi&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h2>참고 및 출처&lt;/h2>&lt;p>&lt;a href="https://uwsgi-docs.readthedocs.io/en/latest/" target="_blank" rel="noopener">Fetching Title#htpu&lt;/a>&lt;/p></description></item></channel></rss>