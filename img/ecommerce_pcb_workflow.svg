<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">전자상거래 시스템에서의 PCB 활용 워크플로우</text>
  
  <!-- User Requests -->
  <rect x="50" y="80" width="120" height="60" fill="#FF6B6B" stroke="#E03131" stroke-width="2" rx="5"/>
  <text x="110" y="105" text-anchor="middle" font-size="12" font-weight="bold" fill="white">사용자 요청</text>
  <text x="110" y="120" text-anchor="middle" font-size="10" fill="white">동시 1000건</text>
  <text x="110" y="135" text-anchor="middle" font-size="10" fill="white">주문 요청</text>
  
  <!-- Nginx Web Server -->
  <rect x="200" y="80" width="120" height="60" fill="#4ECDC4" stroke="#20C997" stroke-width="2" rx="5"/>
  <text x="260" y="100" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Nginx 웹서버</text>
  <text x="260" y="115" text-anchor="middle" font-size="10" fill="white">Master PCB</text>
  <text x="260" y="130" text-anchor="middle" font-size="10" fill="white">Worker PCB들</text>
  
  <!-- Load Balancer -->
  <rect x="350" y="80" width="120" height="60" fill="#45B7D1" stroke="#339AF0" stroke-width="2" rx="5"/>
  <text x="410" y="100" text-anchor="middle" font-size="12" font-weight="bold" fill="white">로드 밸런서</text>
  <text x="410" y="115" text-anchor="middle" font-size="10" fill="white">요청 분산</text>
  <text x="410" y="130" text-anchor="middle" font-size="10" fill="white">PCB 기반</text>
  
  <!-- Node.js Cluster -->
  <rect x="500" y="50" width="300" height="120" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2" rx="10"/>
  <text x="650" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#2E7D32">Node.js 클러스터</text>
  
  <!-- Node Process 1 -->
  <rect x="520" y="85" width="80" height="50" fill="#81C784" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="560" y="105" text-anchor="middle" font-size="10" font-weight="bold" fill="white">Process 1</text>
  <text x="560" y="120" text-anchor="middle" font-size="9" fill="white">PCB-001</text>
  
  <!-- Node Process 2 -->
  <rect x="620" y="85" width="80" height="50" fill="#81C784" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="660" y="105" text-anchor="middle" font-size="10" font-weight="bold" fill="white">Process 2</text>
  <text x="660" y="120" text-anchor="middle" font-size="9" fill="white">PCB-002</text>
  
  <!-- Node Process 3 -->
  <rect x="720" y="85" width="80" height="50" fill="#81C784" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="760" y="105" text-anchor="middle" font-size="10" font-weight="bold" fill="white">Process 3</text>
  <text x="760" y="120" text-anchor="middle" font-size="9" fill="white">PCB-003</text>
  
  <!-- PCB Management Layer -->
  <rect x="50" y="200" width="800" height="100" fill="#FFF3CD" stroke="#FFC107" stroke-width="2" rx="10"/>
  <text x="450" y="220" text-anchor="middle" font-size="16" font-weight="bold" fill="#856404">운영체제 PCB 관리 계층</text>
  
  <!-- PCB Details -->
  <rect x="70" y="235" width="160" height="55" fill="#FFE082" stroke="#FFA000" stroke-width="1" rx="5"/>
  <text x="150" y="250" text-anchor="middle" font-size="11" font-weight="bold" fill="#E65100">PCB 정보 저장</text>
  <text x="150" y="265" text-anchor="middle" font-size="9" fill="#E65100">• 프로세스 상태</text>
  <text x="150" y="280" text-anchor="middle" font-size="9" fill="#E65100">• CPU 레지스터</text>
  
  <rect x="250" y="235" width="160" height="55" fill="#FFE082" stroke="#FFA000" stroke-width="1" rx="5"/>
  <text x="330" y="250" text-anchor="middle" font-size="11" font-weight="bold" fill="#E65100">문맥교환 수행</text>
  <text x="330" y="265" text-anchor="middle" font-size="9" fill="#E65100">• 스케줄링</text>
  <text x="330" y="280" text-anchor="middle" font-size="9" fill="#E65100">• 상태 전환</text>
  
  <rect x="430" y="235" width="160" height="55" fill="#FFE082" stroke="#FFA000" stroke-width="1" rx="5"/>
  <text x="510" y="250" text-anchor="middle" font-size="11" font-weight="bold" fill="#E65100">자원 관리</text>
  <text x="510" y="265" text-anchor="middle" font-size="9" fill="#E65100">• 메모리 할당</text>
  <text x="510" y="280" text-anchor="middle" font-size="9" fill="#E65100">• I/O 장치</text>
  
  <rect x="610" y="235" width="160" height="55" fill="#FFE082" stroke="#FFA000" stroke-width="1" rx="5"/>
  <text x="690" y="250" text-anchor="middle" font-size="11" font-weight="bold" fill="#E65100">성능 모니터링</text>
  <text x="690" y="265" text-anchor="middle" font-size="9" fill="#E65100">• CPU 사용률</text>
  <text x="690" y="280" text-anchor="middle" font-size="9" fill="#E65100">• 메모리 사용량</text>
  
  <!-- Database Layer -->
  <rect x="200" y="340" width="500" height="80" fill="#E1F5FE" stroke="#0288D1" stroke-width="2" rx="10"/>
  <text x="450" y="360" text-anchor="middle" font-size="14" font-weight="bold" fill="#01579B">데이터베이스 계층</text>
  
  <!-- Redis -->
  <rect x="220" y="375" width="120" height="35" fill="#DC382D" stroke="#B71C1C" stroke-width="2" rx="5"/>
  <text x="280" y="390" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Redis Cache</text>
  <text x="280" y="405" text-anchor="middle" font-size="9" fill="white">PCB로 관리</text>
  
  <!-- MySQL -->
  <rect x="360" y="375" width="120" height="35" fill="#4479A1" stroke="#1565C0" stroke-width="2" rx="5"/>
  <text x="420" y="390" text-anchor="middle" font-size="11" font-weight="bold" fill="white">MySQL DB</text>
  <text x="420" y="405" text-anchor="middle" font-size="9" fill="white">트랜잭션 PCB</text>
  
  <!-- RabbitMQ -->
  <rect x="500" y="375" width="120" height="35" fill="#FF6600" stroke="#E65100" stroke-width="2" rx="5"/>
  <text x="560" y="390" text-anchor="middle" font-size="11" font-weight="bold" fill="white">RabbitMQ</text>
  <text x="560" y="405" text-anchor="middle" font-size="9" fill="white">큐 프로세스</text>
  
  <!-- PCB Process Flow -->
  <rect x="50" y="460" width="800" height="180" fill="#F3E5F5" stroke="#7B1FA2" stroke-width="2" rx="10"/>
  <text x="450" y="480" text-anchor="middle" font-size="16" font-weight="bold" fill="#4A148C">PCB 기반 주문 처리 플로우</text>
  
  <!-- Step 1 -->
  <rect x="70" y="500" width="150" height="60" fill="#CE93D8" stroke="#8E24AA" stroke-width="2" rx="5"/>
  <text x="145" y="520" text-anchor="middle" font-size="11" font-weight="bold" fill="#4A148C">1. 요청 접수</text>
  <text x="145" y="535" text-anchor="middle" font-size="9" fill="#4A148C">새 프로세스 생성</text>
  <text x="145" y="550" text-anchor="middle" font-size="9" fill="#4A148C">PCB 할당</text>
  
  <!-- Step 2 -->
  <rect x="240" y="500" width="150" height="60" fill="#CE93D8" stroke="#8E24AA" stroke-width="2" rx="5"/>
  <text x="315" y="520" text-anchor="middle" font-size="11" font-weight="bold" fill="#4A148C">2. 인증 및 검증</text>
  <text x="315" y="535" text-anchor="middle" font-size="9" fill="#4A148C">사용자 인증 프로세스</text>
  <text x="315" y="550" text-anchor="middle" font-size="9" fill="#4A148C">PCB 상태 업데이트</text>
  
  <!-- Step 3 -->
  <rect x="410" y="500" width="150" height="60" fill="#CE93D8" stroke="#8E24AA" stroke-width="2" rx="5"/>
  <text x="485" y="520" text-anchor="middle" font-size="11" font-weight="bold" fill="#4A148C">3. 재고 확인</text>
  <text x="485" y="535" text-anchor="middle" font-size="9" fill="#4A148C">DB 프로세스 호출</text>
  <text x="485" y="550" text-anchor="middle" font-size="9" fill="#4A148C">I/O 대기 상태</text>
  
  <!-- Step 4 -->
  <rect x="580" y="500" width="150" height="60" fill="#CE93D8" stroke="#8E24AA" stroke-width="2" rx="5"/>
  <text x="655" y="520" text-anchor="middle" font-size="11" font-weight="bold" fill="#4A148C">4. 결제 처리</text>
  <text x="655" y="535" text-anchor="middle" font-size="9" fill="#4A148C">외부 API 호출</text>
  <text x="655" y="550" text-anchor="middle" font-size="9" fill="#4A148C">문맥교환 발생</text>
  
  <!-- Step 5 -->
  <rect x="325" y="580" width="150" height="60" fill="#CE93D8" stroke="#8E24AA" stroke-width="2" rx="5"/>
  <text x="400" y="600" text-anchor="middle" font-size="11" font-weight="bold" fill="#4A148C">5. 주문 완료</text>
  <text x="400" y="615" text-anchor="middle" font-size="9" fill="#4A148C">프로세스 종료</text>
  <text x="400" y="630" text-anchor="middle" font-size="9" fill="#4A148C">PCB 해제</text>
  
  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Flow arrows -->
  <path d="M 170 110 L 200 110" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 320 110 L 350 110" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 470 110 L 500 110" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Vertical flow arrows -->
  <path d="M 450 170 L 450 200" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 450 300 L 450 340" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 450 420 L 450 460" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Process flow arrows -->
  <path d="M 220 530 L 240 530" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 390 530 L 410 530" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 560 530 L 580 530" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 655 560 L 400 580" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
</svg>