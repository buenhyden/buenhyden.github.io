<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- 배경 -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- 제목 -->
  <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2c3e50">
    수직-수평 통신 원리 다이어그램
  </text>
  
  <!-- 송신 시스템 -->
  <g transform="translate(50, 80)">
    <text x="75" y="0" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">송신 시스템</text>
    
    <!-- OSI 7계층 -->
    <rect x="10" y="20" width="130" height="40" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="45" text-anchor="middle" fill="white" font-weight="bold">Application</text>
    
    <rect x="10" y="70" width="130" height="40" fill="#9b59b6" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="95" text-anchor="middle" fill="white" font-weight="bold">Presentation</text>
    
    <rect x="10" y="120" width="130" height="40" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="145" text-anchor="middle" fill="white" font-weight="bold">Session</text>
    
    <rect x="10" y="170" width="130" height="40" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="195" text-anchor="middle" fill="white" font-weight="bold">Transport</text>
    
    <rect x="10" y="220" width="130" height="40" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="245" text-anchor="middle" fill="white" font-weight="bold">Network</text>
    
    <rect x="10" y="270" width="130" height="40" fill="#16a085" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="295" text-anchor="middle" fill="white" font-weight="bold">Data Link</text>
    
    <rect x="10" y="320" width="130" height="40" fill="#34495e" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="345" text-anchor="middle" fill="white" font-weight="bold">Physical</text>
    
    <!-- 수직 통신 화살표 -->
    <path d="M 160 40 Q 180 40 180 60 Q 180 340 160 340" 
          stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    <text x="200" y="200" font-size="14" font-weight="bold" fill="#e74c3c">수직 통신</text>
    <text x="200" y="220" font-size="12" fill="#7f8c8d">(캡슐화)</text>
  </g>
  
  <!-- 수신 시스템 -->
  <g transform="translate(600, 80)">
    <text x="75" y="0" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">수신 시스템</text>
    
    <!-- OSI 7계층 -->
    <rect x="10" y="20" width="130" height="40" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="45" text-anchor="middle" fill="white" font-weight="bold">Application</text>
    
    <rect x="10" y="70" width="130" height="40" fill="#9b59b6" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="95" text-anchor="middle" fill="white" font-weight="bold">Presentation</text>
    
    <rect x="10" y="120" width="130" height="40" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="145" text-anchor="middle" fill="white" font-weight="bold">Session</text>
    
    <rect x="10" y="170" width="130" height="40" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="195" text-anchor="middle" fill="white" font-weight="bold">Transport</text>
    
    <rect x="10" y="220" width="130" height="40" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="245" text-anchor="middle" fill="white" font-weight="bold">Network</text>
    
    <rect x="10" y="270" width="130" height="40" fill="#16a085" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="295" text-anchor="middle" fill="white" font-weight="bold">Data Link</text>
    
    <rect x="10" y="320" width="130" height="40" fill="#34495e" stroke="#2c3e50" stroke-width="2"/>
    <text x="75" y="345" text-anchor="middle" fill="white" font-weight="bold">Physical</text>
    
    <!-- 수직 통신 화살표 -->
    <path d="M -10 340 Q -30 340 -30 320 Q -30 60 -10 60" 
          stroke="#27ae60" stroke-width="3" fill="none" marker-end="url(#arrowhead2)"/>
    <text x="-110" y="200" font-size="14" font-weight="bold" fill="#27ae60">수직 통신</text>
    <text x="-110" y="220" font-size="12" fill="#7f8c8d">(역캡슐화)</text>
  </g>
  
  <!-- 네트워크 매체 -->
  <rect x="280" y="380" width="240" height="60" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2" rx="10"/>
  <text x="400" y="415" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">네트워크 매체</text>
  <text x="400" y="435" text-anchor="middle" font-size="12" fill="#7f8c8d">(물리적 전송)</text>
  
  <!-- 물리적 연결 -->
  <line x1="230" y1="420" x2="280" y2="410" stroke="#34495e" stroke-width="3"/>
  <line x1="520" y1="410" x2="570" y2="420" stroke="#34495e" stroke-width="3"/>
  
  <!-- 수평 통신 화살표들 -->
  <!-- Application Layer -->
  <path d="M 190 120 Q 250 110 320 110 Q 450 110 520 110 Q 580 110 640 120" 
        stroke="#3498db" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  <text x="400" y="105" text-anchor="middle" font-size="12" fill="#3498db">수평 통신</text>
  
  <!-- Transport Layer -->
  <path d="M 190 250 Q 250 240 320 240 Q 450 240 520 240 Q 580 240 640 250" 
        stroke="#f39c12" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
        
  <!-- Network Layer -->
  <path d="M 190 300 Q 250 290 320 290 Q 450 290 520 290 Q 580 290 640 300" 
        stroke="#27ae60" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- 범례 -->
  <g transform="translate(50, 480)">
    <text x="0" y="0" font-size="16" font-weight="bold" fill="#2c3e50">범례:</text>
    
    <line x1="0" y1="20" x2="30" y2="20" stroke="#e74c3c" stroke-width="3"/>
    <text x="40" y="25" font-size="12" fill="#2c3e50">수직 통신 (캡슐화)</text>
    
    <line x1="200" y1="20" x2="230" y2="20" stroke="#27ae60" stroke-width="3"/>
    <text x="240" y="25" font-size="12" fill="#2c3e50">수직 통신 (역캡슐화)</text>
    
    <line x1="400" y1="20" x2="430" y2="20" stroke="#3498db" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="440" y="25" font-size="12" fill="#2c3e50">수평 통신 (논리적)</text>
  </g>
  
  <!-- 화살표 마커 정의 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
    </marker>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
    </marker>
  </defs>
</svg>
