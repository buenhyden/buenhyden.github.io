<svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg">
  <!-- 배경 -->
  <rect width="900" height="600" fill="#f8f9fa"/>
  
  <!-- 제목 -->
  <text x="450" y="30" text-anchor="middle" font-size="20" font-weight="bold">Docker 기반 CI/CD 파이프라인</text>
  
  <!-- 개발 단계 -->
  <rect x="40" y="60" width="160" height="80" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
  <text x="120" y="85" text-anchor="middle" font-size="14" font-weight="bold">1. 개발 단계</text>
  <text x="120" y="105" text-anchor="middle" font-size="12">소스 코드 작성</text>
  <text x="120" y="125" text-anchor="middle" font-size="12">Dockerfile 생성</text>
  
  <!-- Source Code Repository -->
  <rect x="40" y="160" width="160" height="60" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
  <text x="120" y="180" text-anchor="middle" font-size="14" font-weight="bold">Git Repository</text>
  <text x="120" y="200" text-anchor="middle" font-size="12">GitHub/GitLab</text>
  
  <!-- CI 서버 -->
  <rect x="240" y="60" width="180" height="480" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="85" text-anchor="middle" font-size="16" font-weight="bold">CI 서버</text>
  
  <!-- Jenkins/GitHub Actions -->
  <rect x="260" y="110" width="140" height="50" fill="#2196f3" stroke="#1976d2" stroke-width="2"/>
  <text x="330" y="130" text-anchor="middle" fill="white" font-size="13">Jenkins/GitHub</text>
  <text x="330" y="145" text-anchor="middle" fill="white" font-size="13">Actions</text>
  
  <!-- Build Stage -->
  <rect x="260" y="180" width="140" height="60" fill="#64b5f6" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="195" text-anchor="middle" font-size="12" font-weight="bold">Build</text>
  <text x="330" y="213" text-anchor="middle" font-size="11">docker build</text>
  <text x="330" y="228" text-anchor="middle" font-size="11">Image 생성</text>
  
  <!-- Test Stage -->
  <rect x="260" y="250" width="140" height="60" fill="#64b5f6" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="265" text-anchor="middle" font-size="12" font-weight="bold">Test</text>
  <text x="330" y="283" text-anchor="middle" font-size="11">Unit Tests</text>
  <text x="330" y="298" text-anchor="middle" font-size="11">Integration Tests</text>
  
  <!-- Security Scan -->
  <rect x="260" y="320" width="140" height="60" fill="#64b5f6" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="335" text-anchor="middle" font-size="12" font-weight="bold">Security Scan</text>
  <text x="330" y="353" text-anchor="middle" font-size="11">Docker Scout</text>
  <text x="330" y="368" text-anchor="middle" font-size="11">취약점 검사</text>
  
  <!-- Push to Registry -->
  <rect x="260" y="390" width="140" height="60" fill="#64b5f6" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="405" text-anchor="middle" font-size="12" font-weight="bold">Push</text>
  <text x="330" y="423" text-anchor="middle" font-size="11">docker push</text>
  <text x="330" y="438" text-anchor="middle" font-size="11">Registry로 전송</text>
  
  <!-- CD Pipeline -->
  <rect x="260" y="460" width="140" height="60" fill="#64b5f6" stroke="#2196f3" stroke-width="2"/>
  <text x="330" y="475" text-anchor="middle" font-size="12" font-weight="bold">Deploy Trigger</text>
  <text x="330" y="493" text-anchor="middle" font-size="11">CD 파이프라인</text>
  <text x="330" y="508" text-anchor="middle" font-size="11">실행</text>
  
  <!-- Docker Registry -->
  <rect x="460" y="160" width="160" height="120" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
  <text x="540" y="180" text-anchor="middle" font-size="14" font-weight="bold">Docker Registry</text>
  
  <!-- Private Registry -->
  <rect x="480" y="200" width="120" height="70" fill="#ffe0b2" stroke="#ff9800" stroke-width="2"/>
  <text x="540" y="220" text-anchor="middle" font-size="13">Private Registry</text>
  <text x="540" y="238" text-anchor="middle" font-size="11">myapp:v1.0</text>
  <text x="540" y="253" text-anchor="middle" font-size="11">myapp:v1.1</text>
  <text x="540" y="268" text-anchor="middle" font-size="11">myapp:latest</text>
  
  <!-- CD 서버 -->
  <rect x="460" y="320" width="160" height="220" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
  <text x="540" y="340" text-anchor="middle" font-size="16" font-weight="bold">CD 서버</text>
  
  <!-- ArgoCD/Spinnaker -->
  <rect x="480" y="360" width="120" height="50" fill="#9c27b0" stroke="#7b1fa2" stroke-width="2"/>
  <text x="540" y="380" text-anchor="middle" fill="white" font-size="13">ArgoCD/</text>
  <text x="540" y="395" text-anchor="middle" fill="white" font-size="13">Spinnaker</text>
  
  <!-- Deploy Stages -->
  <rect x="480" y="420" width="120" height="40" fill="#ce93d8" stroke="#9c27b0" stroke-width="2"/>
  <text x="540" y="440" text-anchor="middle" font-size="11">dev/staging/prod</text>
  
  <rect x="480" y="470" width="120" height="50" fill="#ce93d8" stroke="#9c27b0" stroke-width="2"/>
  <text x="540" y="485" text-anchor="middle" font-size="11">Rolling Update</text>
  <text x="540" y="500" text-anchor="middle" font-size="11">Canary/Blue-Green</text>
  
  <!-- 운영 환경 -->
  <rect x="660" y="60" width="200" height="480" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2"/>
  <text x="760" y="85" text-anchor="middle" font-size="16" font-weight="bold">운영 환경</text>
  
  <!-- Kubernetes Cluster -->
  <rect x="680" y="110" width="160" height="150" fill="#c5cae9" stroke="#3f51b5" stroke-width="2"/>
  <text x="760" y="130" text-anchor="middle" font-size="14" font-weight="bold">Kubernetes Cluster</text>
  
  <!-- Pods -->
  <rect x="690" y="150" width="50" height="50" fill="#7986cb" stroke="#3f51b5" stroke-width="1"/>
  <text x="715" y="175" text-anchor="middle" font-size="10" fill="white">Pod 1</text>
  
  <rect x="750" y="150" width="50" height="50" fill="#7986cb" stroke="#3f51b5" stroke-width="1"/>
  <text x="775" y="175" text-anchor="middle" font-size="10" fill="white">Pod 2</text>
  
  <rect x="810" y="150" width="50" height="50" fill="#7986cb" stroke="#3f51b5" stroke-width="1"/>
  <text x="835" y="175" text-anchor="middle" font-size="10" fill="white">Pod 3</text>
  
  <rect x="690" y="210" width="80" height="40" fill="#9fa8da" stroke="#3f51b5" stroke-width="1"/>
  <text x="730" y="230" text-anchor="middle" font-size="10">Load Balancer</text>
  
  <!-- Monitoring -->
  <rect x="680" y="280" width="160" height="80" fill="#bbdefb" stroke="#3f51b5" stroke-width="2"/>
  <text x="760" y="300" text-anchor="middle" font-size="13">Monitoring</text>
  <text x="760" y="318" text-anchor="middle" font-size="11">Prometheus</text>
  <text x="760" y="333" text-anchor="middle" font-size="11">Grafana</text>
  <text x="760" y="348" text-anchor="middle" font-size="11">ELK Stack</text>
  
  <!-- Rollback -->
  <rect x="680" y="380" width="160" height="60" fill="#b3e5fc" stroke="#3f51b5" stroke-width="2"/>
  <text x="760" y="400" text-anchor="middle" font-size="13">Rollback</text>
  <text x="760" y="418" text-anchor="middle" font-size="11">Previous Version</text>
  <text x="760" y="433" text-anchor="middle" font-size="11">Automated Rollback</text>
  
  <!-- 화살표들 -->
  <!-- Git to CI -->
  <line x1="200" y1="190" x2="240" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="220" y="180" text-anchor="middle" font-size="10">push</text>
  
  <!-- CI to Registry -->
  <line x1="400" y1="420" x2="460" y2="420" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Registry to CD -->
  <line x1="540" y1="280" x2="540" y2="320" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="550" y="300" text-anchor="middle" font-size="10">pull</text>
  
  <!-- CD to K8s -->
  <line x1="620" y1="440" x2="660" y2="440" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="640" y="430" text-anchor="middle" font-size="10">deploy</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
    refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  
  <!-- 버전 라벨 -->
  <circle cx="70" cy="110" r="15" fill="#ff5722" stroke="#fff" stroke-width="2"/>
  <text x="70" y="115" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
  
  <circle cx="330" cy="140" r="15" fill="#ff5722" stroke="#fff" stroke-width="2"/>
  <text x="330" y="145" text-anchor="middle" fill="white" font-size="12" font-weight="bold">2</text>
  
  <circle cx="540" cy="185" r="15" fill="#ff5722" stroke="#fff" stroke-width="2"/>
  <text x="540" y="190" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3</text>
  
  <circle cx="540" cy="385" r="15" fill="#ff5722" stroke="#fff" stroke-width="2"/>
  <text x="540" y="390" text-anchor="middle" fill="white" font-size="12" font-weight="bold">4</text>
  
  <circle cx="760" cy="180" r="15" fill="#ff5722" stroke="#fff" stroke-width="2"/>
  <text x="760" y="185" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
  
  <!-- 파이프라인 단계 설명 -->
  <rect x="40" y="560" width="820" height="30" fill="#d9e6f2" stroke="#bbb" stroke-width="1"/>
  <text x="450" y="580" text-anchor="middle" font-size="12" font-weight="bold">
    1. 코드 Push → 2. CI 빌드/테스트 → 3. 이미지 저장 → 4. CD 배포 → 5. Kubernetes 실행
  </text>
</svg>