<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#2c3e50" font-size="18" font-weight="bold">
    Addressing Schemes 작동 원리
  </text>
  
  <!-- Host A -->
  <g transform="translate(50, 80)">
    <rect x="0" y="0" width="150" height="400" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
    <text x="75" y="25" text-anchor="middle" fill="#1976d2" font-weight="bold">Host A</text>
    
    <!-- Layer 4 -->
    <rect x="10" y="40" width="130" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="75" y="60" text-anchor="middle" fill="#f57c00" font-size="12" font-weight="bold">Transport Layer</text>
    <text x="75" y="75" text-anchor="middle" fill="#f57c00" font-size="10">Port: 80</text>
    <text x="75" y="90" text-anchor="middle" fill="#f57c00" font-size="10">TCP/UDP</text>
    
    <!-- Layer 3 -->
    <rect x="10" y="110" width="130" height="60" fill="#e8f5e8" stroke="#388e3c" stroke-width="1" rx="5"/>
    <text x="75" y="130" text-anchor="middle" fill="#388e3c" font-size="12" font-weight="bold">Network Layer</text>
    <text x="75" y="145" text-anchor="middle" fill="#388e3c" font-size="10">IP: 192.168.1.10</text>
    <text x="75" y="160" text-anchor="middle" fill="#388e3c" font-size="10">IPv4/IPv6</text>
    
    <!-- Layer 2 -->
    <rect x="10" y="180" width="130" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="1" rx="5"/>
    <text x="75" y="200" text-anchor="middle" fill="#c2185b" font-size="12" font-weight="bold">Data Link Layer</text>
    <text x="75" y="215" text-anchor="middle" fill="#c2185b" font-size="10">MAC: AA:BB:CC:DD:EE:FF</text>
    <text x="75" y="230" text-anchor="middle" fill="#c2185b" font-size="10">Ethernet</text>
    
    <!-- Layer 1 -->
    <rect x="10" y="250" width="130" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1" rx="5"/>
    <text x="75" y="270" text-anchor="middle" fill="#7b1fa2" font-size="12" font-weight="bold">Physical Layer</text>
    <text x="75" y="285" text-anchor="middle" fill="#7b1fa2" font-size="10">Electrical Signals</text>
    <text x="75" y="300" text-anchor="middle" fill="#7b1fa2" font-size="10">Bits</text>
    
    <!-- Address Resolution -->
    <rect x="10" y="320" width="130" height="60" fill="#fffde7" stroke="#fbc02d" stroke-width="1" rx="5"/>
    <text x="75" y="340" text-anchor="middle" fill="#fbc02d" font-size="12" font-weight="bold">Address Resolution</text>
    <text x="75" y="355" text-anchor="middle" fill="#fbc02d" font-size="10">ARP/NDP</text>
    <text x="75" y="370" text-anchor="middle" fill="#fbc02d" font-size="10">DNS</text>
  </g>
  
  <!-- Network Infrastructure -->
  <g transform="translate(250, 200)">
    <!-- Router -->
    <rect x="0" y="0" width="100" height="80" fill="#ffebee" stroke="#d32f2f" stroke-width="2" rx="10"/>
    <text x="50" y="25" text-anchor="middle" fill="#d32f2f" font-weight="bold">Router</text>
    <text x="50" y="40" text-anchor="middle" fill="#d32f2f" font-size="10">Layer 3 Device</text>
    <text x="50" y="55" text-anchor="middle" fill="#d32f2f" font-size="10">IP Routing</text>
    <text x="50" y="70" text-anchor="middle" fill="#d32f2f" font-size="10">ARP Table</text>
    
    <!-- Switch -->
    <rect x="120" y="0" width="100" height="80" fill="#e1f5fe" stroke="#0277bd" stroke-width="2" rx="10"/>
    <text x="170" y="25" text-anchor="middle" fill="#0277bd" font-weight="bold">Switch</text>
    <text x="170" y="40" text-anchor="middle" fill="#0277bd" font-size="10">Layer 2 Device</text>
    <text x="170" y="55" text-anchor="middle" fill="#0277bd" font-size="10">MAC Learning</text>
    <text x="170" y="70" text-anchor="middle" fill="#0277bd" font-size="10">Forwarding Table</text>
  </g>
  
  <!-- Host B -->
  <g transform="translate(600, 80)">
    <rect x="0" y="0" width="150" height="400" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
    <text x="75" y="25" text-anchor="middle" fill="#1976d2" font-weight="bold">Host B</text>
    
    <!-- Layer 4 -->
    <rect x="10" y="40" width="130" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="75" y="60" text-anchor="middle" fill="#f57c00" font-size="12" font-weight="bold">Transport Layer</text>
    <text x="75" y="75" text-anchor="middle" fill="#f57c00" font-size="10">Port: 80</text>
    <text x="75" y="90" text-anchor="middle" fill="#f57c00" font-size="10">TCP/UDP</text>
    
    <!-- Layer 3 -->
    <rect x="10" y="110" width="130" height="60" fill="#e8f5e8" stroke="#388e3c" stroke-width="1" rx="5"/>
    <text x="75" y="130" text-anchor="middle" fill="#388e3c" font-size="12" font-weight="bold">Network Layer</text>
    <text x="75" y="145" text-anchor="middle" fill="#388e3c" font-size="10">IP: 172.16.1.20</text>
    <text x="75" y="160" text-anchor="middle" fill="#388e3c" font-size="10">IPv4/IPv6</text>
    
    <!-- Layer 2 -->
    <rect x="10" y="180" width="130" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="1" rx="5"/>
    <text x="75" y="200" text-anchor="middle" fill="#c2185b" font-size="12" font-weight="bold">Data Link Layer</text>
    <text x="75" y="215" text-anchor="middle" fill="#c2185b" font-size="10">MAC: 11:22:33:44:55:66</text>
    <text x="75" y="230" text-anchor="middle" fill="#c2185b" font-size="10">Ethernet</text>
    
    <!-- Layer 1 -->
    <rect x="10" y="250" width="130" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1" rx="5"/>
    <text x="75" y="270" text-anchor="middle" fill="#7b1fa2" font-size="12" font-weight="bold">Physical Layer</text>
    <text x="75" y="285" text-anchor="middle" fill="#7b1fa2" font-size="10">Electrical Signals</text>
    <text x="75" y="300" text-anchor="middle" fill="#7b1fa2" font-size="10">Bits</text>
    
    <!-- Address Resolution -->
    <rect x="10" y="320" width="130" height="60" fill="#fffde7" stroke="#fbc02d" stroke-width="1" rx="5"/>
    <text x="75" y="340" text-anchor="middle" fill="#fbc02d" font-size="12" font-weight="bold">Address Resolution</text>
    <text x="75" y="355" text-anchor="middle" fill="#fbc02d" font-size="10">ARP/NDP</text>
    <text x="75" y="370" text-anchor="middle" fill="#fbc02d" font-size="10">DNS</text>
  </g>
  
  <!-- Data Flow Arrows -->
  <!-- Host A to Router -->
  <path d="M 200 240 L 250 240" stroke="#4caf50" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="225" y="235" text-anchor="middle" fill="#4caf50" font-size="10">Frame</text>
  
  <!-- Router to Switch -->
  <path d="M 350 240 L 370 240" stroke="#4caf50" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="360" y="235" text-anchor="middle" fill="#4caf50" font-size="10">Packet</text>
  
  <!-- Switch to Host B -->
  <path d="M 470 240 L 600 240" stroke="#4caf50" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="535" y="235" text-anchor="middle" fill="#4caf50" font-size="10">Frame</text>
  
  <!-- Address Resolution Process -->
  <g transform="translate(50, 520)">
    <text x="0" y="0" fill="#2c3e50" font-size="14" font-weight="bold">주소 해석 과정:</text>
    <text x="0" y="20" fill="#2c3e50" font-size="12">1. DNS: Domain Name → IP Address</text>
    <text x="0" y="35" fill="#2c3e50" font-size="12">2. Routing: IP Address → Next Hop</text>
    <text x="0" y="50" fill="#2c3e50" font-size="12">3. ARP/NDP: IP Address → MAC Address</text>
    <text x="0" y="65" fill="#2c3e50" font-size="12">4. Frame Forwarding: MAC Address → Physical Port</text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
    </marker>
  </defs>
</svg>