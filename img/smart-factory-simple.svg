<svg width="1000" height="700" viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
  
  <!-- 배경 -->
  <rect width="1000" height="700" fill="#f8f9fa" stroke="none"/>
  
  <!-- 제목 -->
  <text x="500" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">
    스마트 팩토리 IoT 시스템 아키텍처
  </text>
  
  <!-- Device Layer -->
  <g>
    <rect x="50" y="80" width="200" height="120" fill="#3498db" stroke="#2c3e50" stroke-width="2" rx="10"/>
    <text x="150" y="105" text-anchor="middle" font-size="16" font-weight="bold" fill="white" font-family="Arial, Helvetica, sans-serif">Device Layer</text>
    
    <!-- 센서들 -->
    <circle cx="100" cy="130" r="12" fill="#e74c3c" stroke="#fff" stroke-width="2"/>
    <text x="100" y="135" text-anchor="middle" font-size="8" fill="white" font-family="Arial, Helvetica, sans-serif">온도</text>
    <text x="100" y="155" text-anchor="middle" font-size="8" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">센서</text>
    
    <circle cx="150" cy="130" r="12" fill="#f39c12" stroke="#fff" stroke-width="2"/>
    <text x="150" y="135" text-anchor="middle" font-size="8" fill="white" font-family="Arial, Helvetica, sans-serif">압력</text>
    <text x="150" y="155" text-anchor="middle" font-size="8" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">센서</text>
    
    <circle cx="200" cy="130" r="12" fill="#27ae60" stroke="#fff" stroke-width="2"/>
    <text x="200" y="135" text-anchor="middle" font-size="8" fill="white" font-family="Arial, Helvetica, sans-serif">모터</text>
    <text x="200" y="155" text-anchor="middle" font-size="8" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">제어</text>
    
    <rect x="70" y="170" width="160" height="20" fill="#34495e" stroke="none"/>
    <text x="150" y="185" text-anchor="middle" font-size="12" fill="white" font-family="Arial, Helvetica, sans-serif">Physical Layer</text>
  </g>
  
  <!-- Edge Gateway -->
  <g>
    <rect x="320" y="80" width="160" height="120" fill="#9b59b6" stroke="#2c3e50" stroke-width="2" rx="10"/>
    <text x="400" y="105" text-anchor="middle" font-size="16" font-weight="bold" fill="white" font-family="Arial, Helvetica, sans-serif">Edge Gateway</text>
    
    <!-- 프로토콜 스택 -->
    <rect x="330" y="115" width="140" height="15" fill="#e74c3c" stroke="none"/>
    <text x="400" y="127" text-anchor="middle" font-size="10" fill="white" font-family="Arial, Helvetica, sans-serif">Application (MQTT/CoAP)</text>
    
    <rect x="330" y="135" width="140" height="15" fill="#f39c12" stroke="none"/>
    <text x="400" y="147" text-anchor="middle" font-size="10" fill="white" font-family="Arial, Helvetica, sans-serif">Transport (TCP/UDP)</text>
    
    <rect x="330" y="155" width="140" height="15" fill="#27ae60" stroke="none"/>
    <text x="400" y="167" text-anchor="middle" font-size="10" fill="white" font-family="Arial, Helvetica, sans-serif">Network (IP)</text>
    
    <rect x="330" y="175" width="140" height="15" fill="#16a085" stroke="none"/>
    <text x="400" y="187" text-anchor="middle" font-size="10" fill="white" font-family="Arial, Helvetica, sans-serif">Data Link (Ethernet)</text>
  </g>
  
  <!-- Network Infrastructure -->
  <g>
    <rect x="320" y="250" width="360" height="80" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2" rx="10"/>
    <text x="500" y="275" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">Network Infrastructure</text>
    
    <!-- 네트워크 기술들 -->
    <rect x="340" y="290" width="60" height="25" fill="#e74c3c" stroke="none"/>
    <text x="370" y="307" text-anchor="middle" font-size="12" fill="white" font-family="Arial, Helvetica, sans-serif">5G</text>
    
    <rect x="420" y="290" width="60" height="25" fill="#f39c12" stroke="none"/>
    <text x="450" y="307" text-anchor="middle" font-size="12" fill="white" font-family="Arial, Helvetica, sans-serif">WiFi 6</text>
    
    <rect x="500" y="290" width="60" height="25" fill="#27ae60" stroke="none"/>
    <text x="530" y="307" text-anchor="middle" font-size="12" fill="white" font-family="Arial, Helvetica, sans-serif">Fiber</text>
    
    <rect x="580" y="290" width="80" height="25" fill="#9b59b6" stroke="none"/>
    <text x="620" y="307" text-anchor="middle" font-size="12" fill="white" font-family="Arial, Helvetica, sans-serif">SD-WAN</text>
  </g>
  
  <!-- Cloud Computing -->
  <g>
    <rect x="750" y="80" width="200" height="250" fill="#16a085" stroke="#2c3e50" stroke-width="2" rx="10"/>
    <text x="850" y="105" text-anchor="middle" font-size="16" font-weight="bold" fill="white" font-family="Arial, Helvetica, sans-serif">Cloud Computing</text>
    
    <!-- 클라우드 서비스들 -->
    <rect x="770" y="125" width="160" height="30" fill="#e74c3c" stroke="none"/>
    <text x="850" y="145" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">AI/ML Analytics</text>
    
    <rect x="770" y="165" width="160" height="30" fill="#f39c12" stroke="none"/>
    <text x="850" y="185" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">Data Processing</text>
    
    <rect x="770" y="205" width="160" height="30" fill="#27ae60" stroke="none"/>
    <text x="850" y="225" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">Database Storage</text>
    
    <rect x="770" y="245" width="160" height="30" fill="#9b59b6" stroke="none"/>
    <text x="850" y="265" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">Dashboard</text>
    
    <rect x="770" y="285" width="160" height="30" fill="#34495e" stroke="none"/>
    <text x="850" y="305" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">Control API</text>
  </g>
  
  <!-- Management Layer -->
  <g>
    <rect x="50" y="400" width="900" height="100" fill="#34495e" stroke="#2c3e50" stroke-width="2" rx="10"/>
    <text x="500" y="425" text-anchor="middle" font-size="18" font-weight="bold" fill="white" font-family="Arial, Helvetica, sans-serif">Management and Control Layer</text>
    
    <rect x="100" y="445" width="120" height="40" fill="#e74c3c" stroke="none"/>
    <text x="160" y="470" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">생산 계획</text>
    
    <rect x="250" y="445" width="120" height="40" fill="#f39c12" stroke="none"/>
    <text x="310" y="470" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">품질 관리</text>
    
    <rect x="400" y="445" width="120" height="40" fill="#27ae60" stroke="none"/>
    <text x="460" y="470" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">예측 유지보수</text>
    
    <rect x="550" y="445" width="120" height="40" fill="#9b59b6" stroke="none"/>
    <text x="610" y="470" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">에너지 관리</text>
    
    <rect x="700" y="445" width="120" height="40" fill="#16a085" stroke="none"/>
    <text x="760" y="470" text-anchor="middle" font-size="12" fill="white" font-weight="bold" font-family="Arial, Helvetica, sans-serif">안전 모니터링</text>
  </g>
  
  <!-- 통신 화살표들 -->
  <g>
    <!-- Device to Gateway -->
    <path d="M 250 140 L 320 140" stroke="#3498db" stroke-width="3" fill="none"/>
    <polygon points="315,135 325,140 315,145" fill="#3498db"/>
    <text x="285" y="130" text-anchor="middle" font-size="10" fill="#3498db" font-family="Arial, Helvetica, sans-serif">센서 데이터</text>
    
    <!-- Gateway to Network -->
    <path d="M 400 200 L 400 250" stroke="#27ae60" stroke-width="3" fill="none"/>
    <polygon points="395,245 400,255 405,245" fill="#27ae60"/>
    
    <!-- Network to Cloud -->
    <path d="M 680 290 L 750 200" stroke="#9b59b6" stroke-width="3" fill="none"/>
    <polygon points="745,205 755,200 750,195" fill="#9b59b6"/>
    
    <!-- Cloud to Management -->
    <path d="M 850 330 L 850 400" stroke="#e74c3c" stroke-width="3" fill="none"/>
    <polygon points="845,395 850,405 855,395" fill="#e74c3c"/>
    
    <!-- Management feedback (점선) -->
    <path d="M 50 450 Q 25 450 25 425 Q 25 150 50 150" stroke="#f39c12" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
    <polygon points="45,155 55,150 50,145" fill="#f39c12"/>
  </g>
  
  <!-- 수직/수평 통신 표시 -->
  <g>
    <!-- 수직 통신 화살표 (Gateway 내부) -->
    <path d="M 510 140 Q 530 140 530 160 Q 530 180 510 180" stroke="#e74c3c" stroke-width="2" fill="none"/>
    <polygon points="515,175 505,180 510,185" fill="#e74c3c"/>
    <text x="550" y="165" font-size="12" fill="#e74c3c" font-family="Arial, Helvetica, sans-serif">수직 통신</text>
    
    <!-- 수평 통신 표시 -->
    <path d="M 120 220 L 320 220" stroke="#3498db" stroke-width="2" stroke-dasharray="3,3" fill="none"/>
    <text x="220" y="210" text-anchor="middle" font-size="12" fill="#3498db" font-family="Arial, Helvetica, sans-serif">수평 통신 (논리적)</text>
  </g>
  
  <!-- 범례 -->
  <g>
    <text x="50" y="550" font-size="16" font-weight="bold" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">통신 흐름 범례:</text>
    
    <line x1="50" y1="570" x2="80" y2="570" stroke="#3498db" stroke-width="3"/>
    <text x="90" y="575" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">데이터 수집</text>
    
    <line x1="200" y1="570" x2="230" y2="570" stroke="#27ae60" stroke-width="3"/>
    <text x="240" y="575" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">네트워크 전송</text>
    
    <line x1="350" y1="570" x2="380" y2="570" stroke="#9b59b6" stroke-width="3"/>
    <text x="390" y="575" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">클라우드 처리</text>
    
    <line x1="500" y1="570" x2="530" y2="570" stroke="#f39c12" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="540" y="575" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">제어 명령</text>
    
    <line x1="50" y1="595" x2="80" y2="595" stroke="#e74c3c" stroke-width="2"/>
    <text x="90" y="600" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">수직 통신 (캡슐화)</text>
    
    <line x1="250" y1="595" x2="280" y2="595" stroke="#3498db" stroke-width="2" stroke-dasharray="3,3"/>
    <text x="290" y="600" font-size="12" fill="#2c3e50" font-family="Arial, Helvetica, sans-serif">수평 통신 (논리적)</text>
  </g>
  
</svg>
