<svg width="1000" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2c3e50">전자상거래 플랫폼 아키텍처 (마이크로서비스 + 이벤트 기반)</text>
  
  <!-- Client Layer -->
  <rect x="50" y="60" width="900" height="80" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="10"/>
  <text x="500" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="white">클라이언트 계층 (Client Layer)</text>
  <rect x="100" y="100" width="120" height="30" fill="#2980b9" rx="5"/>
  <text x="160" y="120" text-anchor="middle" font-size="11" fill="white">웹 브라우저</text>
  <rect x="250" y="100" width="120" height="30" fill="#2980b9" rx="5"/>
  <text x="310" y="120" text-anchor="middle" font-size="11" fill="white">모바일 앱</text>
  <rect x="400" y="100" width="120" height="30" fill="#2980b9" rx="5"/>
  <text x="460" y="120" text-anchor="middle" font-size="11" fill="white">파트너 API</text>
  <rect x="550" y="100" width="120" height="30" fill="#2980b9" rx="5"/>
  <text x="610" y="120" text-anchor="middle" font-size="11" fill="white">관리자 대시보드</text>
  
  <!-- API Gateway -->
  <rect x="200" y="170" width="600" height="50" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="10"/>
  <text x="500" y="200" text-anchor="middle" font-size="16" font-weight="bold" fill="white">API 게이트웨이 (API Gateway)</text>
  <text x="350" y="210" text-anchor="middle" font-size="11" fill="white">라우팅</text>
  <text x="450" y="210" text-anchor="middle" font-size="11" fill="white">인증/인가</text>
  <text x="550" y="210" text-anchor="middle" font-size="11" fill="white">로드 밸런싱</text>
  <text x="650" y="210" text-anchor="middle" font-size="11" fill="white">Rate Limiting</text>
  
  <!-- Microservices Layer -->
  <text x="500" y="260" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">마이크로서비스 계층</text>
  
  <!-- User Service -->
  <rect x="50" y="280" width="140" height="100" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="8"/>
  <text x="120" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">사용자 서비스</text>
  <text x="120" y="320" text-anchor="middle" font-size="10" fill="white">User Service</text>
  <text x="120" y="340" text-anchor="middle" font-size="9" fill="white">• 회원 관리</text>
  <text x="120" y="352" text-anchor="middle" font-size="9" fill="white">• 프로필 관리</text>
  <text x="120" y="364" text-anchor="middle" font-size="9" fill="white">• 인증/인가</text>
  
  <!-- Product Service -->
  <rect x="210" y="280" width="140" height="100" fill="#27ae60" stroke="#229954" stroke-width="2" rx="8"/>
  <text x="280" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">상품 서비스</text>
  <text x="280" y="320" text-anchor="middle" font-size="10" fill="white">Product Service</text>
  <text x="280" y="340" text-anchor="middle" font-size="9" fill="white">• 상품 카탈로그</text>
  <text x="280" y="352" text-anchor="middle" font-size="9" fill="white">• 검색/필터링</text>
  <text x="280" y="364" text-anchor="middle" font-size="9" fill="white">• 재고 조회</text>
  
  <!-- Order Service -->
  <rect x="370" y="280" width="140" height="100" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <text x="440" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">주문 서비스</text>
  <text x="440" y="320" text-anchor="middle" font-size="10" fill="white">Order Service</text>
  <text x="440" y="340" text-anchor="middle" font-size="9" fill="white">• 주문 생성</text>
  <text x="440" y="352" text-anchor="middle" font-size="9" fill="white">• 주문 상태 관리</text>
  <text x="440" y="364" text-anchor="middle" font-size="9" fill="white">• 주문 히스토리</text>
  
  <!-- Payment Service -->
  <rect x="530" y="280" width="140" height="100" fill="#e67e22" stroke="#d35400" stroke-width="2" rx="8"/>
  <text x="600" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">결제 서비스</text>
  <text x="600" y="320" text-anchor="middle" font-size="10" fill="white">Payment Service</text>
  <text x="600" y="340" text-anchor="middle" font-size="9" fill="white">• 결제 처리</text>
  <text x="600" y="352" text-anchor="middle" font-size="9" fill="white">• 환불 관리</text>
  <text x="600" y="364" text-anchor="middle" font-size="9" fill="white">• 결제 이력</text>
  
  <!-- Inventory Service -->
  <rect x="690" y="280" width="140" height="100" fill="#1abc9c" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="760" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">재고 서비스</text>
  <text x="760" y="320" text-anchor="middle" font-size="10" fill="white">Inventory Service</text>
  <text x="760" y="340" text-anchor="middle" font-size="9" fill="white">• 재고 관리</text>
  <text x="760" y="352" text-anchor="middle" font-size="9" fill="white">• 재고 예약</text>
  <text x="760" y="364" text-anchor="middle" font-size="9" fill="white">• 재고 알림</text>
  
  <!-- Notification Service -->
  <rect x="850" y="280" width="140" height="100" fill="#34495e" stroke="#2c3e50" stroke-width="2" rx="8"/>
  <text x="920" y="305" text-anchor="middle" font-size="13" font-weight="bold" fill="white">알림 서비스</text>
  <text x="920" y="320" text-anchor="middle" font-size="10" fill="white">Notification Service</text>
  <text x="920" y="340" text-anchor="middle" font-size="9" fill="white">• 이메일</text>
  <text x="920" y="352" text-anchor="middle" font-size="9" fill="white">• SMS</text>
  <text x="920" y="364" text-anchor="middle" font-size="9" fill="white">• 푸시 알림</text>
  
  <!-- Event Bus -->
  <rect x="100" y="420" width="800" height="60" fill="#95a5a6" stroke="#7f8c8d" stroke-width="2" rx="10"/>
  <text x="500" y="445" text-anchor="middle" font-size="16" font-weight="bold" fill="white">이벤트 버스 (Event Bus - Apache Kafka)</text>
  <text x="250" y="465" text-anchor="middle" font-size="11" fill="white">주문 생성 이벤트</text>
  <text x="400" y="465" text-anchor="middle" font-size="11" fill="white">결제 완료 이벤트</text>
  <text x="550" y="465" text-anchor="middle" font-size="11" fill="white">재고 변경 이벤트</text>
  <text x="700" y="465" text-anchor="middle" font-size="11" fill="white">배송 시작 이벤트</text>
  
  <!-- Data Layer -->
  <text x="500" y="520" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">데이터 계층</text>
  
  <!-- User DB -->
  <rect x="50" y="540" width="120" height="80" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="8"/>
  <text x="110" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">사용자 DB</text>
  <text x="110" y="580" text-anchor="middle" font-size="10" fill="white">PostgreSQL</text>
  <text x="110" y="595" text-anchor="middle" font-size="9" fill="white">회원 정보</text>
  <text x="110" y="607" text-anchor="middle" font-size="9" fill="white">인증 데이터</text>
  
  <!-- Product DB -->
  <rect x="190" y="540" width="120" height="80" fill="#27ae60" stroke="#229954" stroke-width="2" rx="8"/>
  <text x="250" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">상품 DB</text>
  <text x="250" y="580" text-anchor="middle" font-size="10" fill="white">MongoDB</text>
  <text x="250" y="595" text-anchor="middle" font-size="9" fill="white">상품 카탈로그</text>
  <text x="250" y="607" text-anchor="middle" font-size="9" fill="white">메타데이터</text>
  
  <!-- Order DB -->
  <rect x="330" y="540" width="120" height="80" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <text x="390" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">주문 DB</text>
  <text x="390" y="580" text-anchor="middle" font-size="10" fill="white">PostgreSQL</text>
  <text x="390" y="595" text-anchor="middle" font-size="9" fill="white">주문 정보</text>
  <text x="390" y="607" text-anchor="middle" font-size="9" fill="white">주문 상태</text>
  
  <!-- Payment DB -->
  <rect x="470" y="540" width="120" height="80" fill="#e67e22" stroke="#d35400" stroke-width="2" rx="8"/>
  <text x="530" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">결제 DB</text>
  <text x="530" y="580" text-anchor="middle" font-size="10" fill="white">PostgreSQL</text>
  <text x="530" y="595" text-anchor="middle" font-size="9" fill="white">결제 정보</text>
  <text x="530" y="607" text-anchor="middle" font-size="9" fill="white">트랜잭션</text>
  
  <!-- Inventory DB -->
  <rect x="610" y="540" width="120" height="80" fill="#1abc9c" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="670" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">재고 DB</text>
  <text x="670" y="580" text-anchor="middle" font-size="10" fill="white">Redis</text>
  <text x="670" y="595" text-anchor="middle" font-size="9" fill="white">재고 수량</text>
  <text x="670" y="607" text-anchor="middle" font-size="9" fill="white">실시간 업데이트</text>
  
  <!-- Analytics DB -->
  <rect x="750" y="540" width="120" height="80" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="8"/>
  <text x="810" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">분석 DB</text>
  <text x="810" y="580" text-anchor="middle" font-size="10" fill="white">Elasticsearch</text>
  <text x="810" y="595" text-anchor="middle" font-size="9" fill="white">로그 데이터</text>
  <text x="810" y="607" text-anchor="middle" font-size="9" fill="white">분석 데이터</text>
  
  <!-- External Services -->
  <text x="500" y="660" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">외부 서비스</text>
  
  <!-- Payment Gateway -->
  <rect x="150" y="680" width="150" height="60" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="8"/>
  <text x="225" y="705" text-anchor="middle" font-size="12" font-weight="bold" fill="white">결제 게이트웨이</text>
  <text x="225" y="720" text-anchor="middle" font-size="10" fill="white">Stripe, PayPal</text>
  
  <!-- Shipping -->
  <rect x="320" y="680" width="150" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="8"/>
  <text x="395" y="705" text-anchor="middle" font-size="12" font-weight="bold" fill="white">배송 서비스</text>
  <text x="395" y="720" text-anchor="middle" font-size="10" fill="white">FedEx, UPS</text>
  
  <!-- CDN -->
  <rect x="490" y="680" width="150" height="60" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <text x="565" y="705" text-anchor="middle" font-size="12" font-weight="bold" fill="white">CDN</text>
  <text x="565" y="720" text-anchor="middle" font-size="10" fill="white">CloudFlare</text>
  
  <!-- Email Service -->
  <rect x="660" y="680" width="150" height="60" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="8"/>
  <text x="735" y="705" text-anchor="middle" font-size="12" font-weight="bold" fill="white">이메일 서비스</text>
  <text x="735" y="720" text-anchor="middle" font-size="10" fill="white">SendGrid</text>
  
  <!-- Connection lines -->
  <!-- Client to API Gateway -->
  <path d="M500 140 L500 170" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- API Gateway to Services -->
  <path d="M300 220 L120 280" stroke="#34495e" stroke-width="1" marker-end="url(#arrowhead)"/>
  <path d="M400 220 L280 280" stroke="#34495e" stroke-width="1" marker-end="url(#arrowhead)"/>
  <path d="M500 220 L440 280" stroke="#34495e" stroke-width="1" marker-end="url(#arrowhead)"/>
  <path d="M600 220 L600 280" stroke="#34495e" stroke-width="1" marker-end="url(#arrowhead)"/>
  <path d="M700 220 L760 280" stroke="#34495e" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Services to Event Bus -->
  <path d="M120 380 L200 420" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  <path d="M280 380 L350 420" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  <path d="M440 380 L450 420" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  <path d="M600 380 L550 420" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  <path d="M760 380 L700 420" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Services to Databases -->
  <path d="M120 380 L110 540" stroke="#3498db" stroke-width="2"/>
  <path d="M280 380 L250 540" stroke="#27ae60" stroke-width="2"/>
  <path d="M440 380 L390 540" stroke="#9b59b6" stroke-width="2"/>
  <path d="M600 380 L530 540" stroke="#e67e22" stroke-width="2"/>
  <path d="M760 380 L670 540" stroke="#1abc9c" stroke-width="2"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
</svg>