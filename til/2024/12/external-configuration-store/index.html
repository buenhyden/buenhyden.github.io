<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>외부 구성 저장소 패턴(External Configuration Store Pattern) | hyunyoun's Blog</title>
<meta name=keywords content="Software-Design-and-Architecture,Software-Architecture,Software-Architecture-Patterns,MSA-Patterns,Microservice-architecture-Pattern,Cross-Cutting-Concern-Patterns"><meta name=description content="외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나로 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/til/2024/12/external-configuration-store/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/til/2024/12/external-configuration-store/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/til/2024/12/external-configuration-store/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="외부 구성 저장소 패턴(External Configuration Store Pattern)"><meta property="og:description" content="외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나로 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="til"><meta property="article:published_time" content="2024-12-30T01:58:00+00:00"><meta property="article:modified_time" content="2024-12-30T01:58:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="Software-Architecture"><meta property="article:tag" content="Software-Architecture-Patterns"><meta property="article:tag" content="MSA-Patterns"><meta property="article:tag" content="Microservice-Architecture-Pattern"><meta property="article:tag" content="Cross-Cutting-Concern-Patterns"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="외부 구성 저장소 패턴(External Configuration Store Pattern)"><meta name=twitter:description content="외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나로 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"TIL","item":"https://buenhyden.github.io/til/"},{"@type":"ListItem","position":2,"name":"2024","item":"https://buenhyden.github.io/til/2024/"},{"@type":"ListItem","position":3,"name":"12","item":"https://buenhyden.github.io/til/2024/12/"},{"@type":"ListItem","position":4,"name":"외부 구성 저장소 패턴(External Configuration Store Pattern)","item":"https://buenhyden.github.io/til/2024/12/external-configuration-store/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"외부 구성 저장소 패턴(External Configuration Store Pattern)","name":"외부 구성 저장소 패턴(External Configuration Store Pattern)","description":"외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나로 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다.","keywords":["Software-Design-and-Architecture","Software-Architecture","Software-Architecture-Patterns","MSA-Patterns","Microservice-architecture-Pattern","Cross-Cutting-Concern-Patterns"],"articleBody":"외부 구성 저장소 패턴(External Configuration Store Pattern) 외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나이다.\n이 패턴은 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다.\nhttps://learn.microsoft.com/en-us/azure/architecture/patterns/external-configuration-store\n외부 구성 저장소 패턴은 애플리케이션의 구성 정보를 애플리케이션 배포 패키지에서 중앙 집중식 위치로 이동시키는 것을 의미한다.\n이 패턴의 주요 목적은 다음과 같다:\n여러 환경에서 애플리케이션을 수정 없이 실행할 수 있게 하는 것 구성 데이터의 관리와 제어를 용이하게 하는 것 여러 애플리케이션과 애플리케이션 인스턴스 간에 구성 데이터를 공유할 수 있게 하는 것[ 외부 구성 저장소 패턴은 마이크로서비스 아키텍처에서 구성 관리의 복잡성을 해결하는 효과적인 방법이다.\n이 패턴을 통해 개발자는 애플리케이션 코드와 구성을 분리하여 더 유연하고 관리하기 쉬운 시스템을 구축할 수 있다.\n그러나 구현 시 보안, 성능, 장애 대응 등 여러 측면을 고려해야 하며, 각 조직의 요구사항에 맞는 최적의 솔루션을 선택해야 한다.\n패턴의 필요성 이 패턴이 필요한 이유는 다음과 같다:\n마이크로서비스가 여러 환경(개발, 테스트, 프로덕션 등)에서 실행될 때 각 환경에 맞는 구성이 필요한다. 구성 정보가 애플리케이션 코드에 포함되면 환경이 변경될 때마다 애플리케이션을 재배포해야 한다. 클라우드 네이티브 애플리케이션의 원칙 중 하나인 “Config\"는 환경 설정 정보를 코드와 완전히 분리할 것을 요구한다. 스케일 아웃된 서비스들 간의 구성 정보 불일치를 방지해야 한다. 패턴의 구현 방법 외부 구성 저장소 패턴을 구현하는 방법은 다양하다.\n환경 변수 사용: 12 Factor App 원칙에 따라 가장 권장되는 방법이다. 구성 파일 사용: 프로퍼티 파일이나 YAML 파일 등을 사용한다. 명령줄 인자 또는 플래그 사용. 전용 구성 서버 사용: Spring Cloud Config와 같은 라이브러리를 활용한다. 클라우드 서비스 활용: AWS Systems Manager Parameter Store, Azure App Configuration 등을 사용한다. 구성 요소 External Configuration Pattern은 다음과 같은 주요 구성 요소들로 이루어진다:\nConfiguration Server (설정 서버) 중앙화된 설정 저장소 역할 설정값의 버전 관리 제공 설정 변경 이력 관리 보안 및 접근 제어 기능 Configuration Client (설정 클라이언트) 각 마이크로서비스에 포함되는 컴포넌트 설정 서버로부터 설정 로드 설정 갱신 관리 로컬 캐싱 처리 Configuration Storage (설정 저장소) Git 저장소나 데이터베이스 등 실제 설정 보관 버전 관리 지원 백업 및 복구 기능 환경별 설정 분리 구현 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 # config_server.py from flask import Flask, jsonify import yaml import os app = Flask(__name__) # 설정 저장소 클래스 class ConfigStore: def __init__(self): self.configs = {} self._load_configs() def _load_configs(self): \"\"\"설정 파일들을 로드하는 메서드\"\"\" config_dir = 'configs' for env in ['dev', 'prod', 'stage']: with open(f'{config_dir}/{env}/application.yml', 'r') as f: self.configs[env] = yaml.safe_load(f) def get_config(self, app_name, environment): \"\"\"특정 애플리케이션의 환경별 설정을 반환\"\"\" if environment in self.configs: return self.configs[environment].get(app_name, {}) return {} # 설정 저장소 인스턴스 생성 config_store = ConfigStore() @app.route('/config//') def get_config(app_name, environment): \"\"\"설정 조회 API 엔드포인트\"\"\" config = config_store.get_config(app_name, environment) return jsonify(config) # configs/dev/application.yml 예시 \"\"\" order-service: database: url: jdbc:mysql://dev-db:3306/orders username: dev_user password: dev_pass cache: host: dev-redis:6379 ttl: 3600 payment-service: api: endpoint: https://dev-payment-api.example.com timeout: 5000 \"\"\" # 설정을 사용하는 클라이언트 서비스 예시 class OrderService: def __init__(self, config_client): self.config_client = config_client self.config = None self.load_config() def load_config(self): \"\"\"설정 로드 및 갱신\"\"\" self.config = self.config_client.get_config( 'order-service', os.getenv('ENVIRONMENT', 'dev') ) def get_database_connection(self): \"\"\"설정을 사용하여 데이터베이스 연결\"\"\" db_config = self.config['database'] return create_connection( db_config['url'], db_config['username'], db_config['password'] ) # 설정 변경 감지 및 자동 갱신 기능 class ConfigWatcher: def __init__(self, config_client, refresh_interval=30): self.config_client = config_client self.refresh_interval = refresh_interval self.services = [] def register_service(self, service): \"\"\"설정 갱신이 필요한 서비스 등록\"\"\" self.services.append(service) def start_watching(self): \"\"\"설정 변경 감지 및 갱신 시작\"\"\" while True: for service in self.services: service.load_config() time.sleep(self.refresh_interval) 패턴의 장점 애플리케이션을 재컴파일하거나 재배포하지 않고도 구성을 변경할 수 있다. 여러 환경과 여러 서비스 간에 구성을 일관되게 관리할 수 있다. 구성 정보의 버전 관리가 가능해진다. 보안이 향상된다. 민감한 구성 정보를 안전하게 저장하고 관리할 수 있다. 구현 시 고려사항 캐싱: 구성 정보에 대한 빈번한 접근을 최적화하기 위해 로컬 캐시를 고려해야 한다. 보안: 구성 저장소에 대한 접근 권한 관리가 필요한다. 변경 감지: 구성 변경을 실시간으로 감지하고 적용할 수 있는 메커니즘이 필요한다. 장애 대응: 외부 구성 저장소에 접근할 수 없을 때의 대비책이 필요한다. 사용 사례 데이터베이스 연결 정보 관리 API 키와 비밀 정보 관리 기능 플래그(Feature flags) 관리 서비스 간 공유 설정 관리 실제 적용 사례 Spring Cloud Config Spring 기반 마이크로서비스에서 널리 사용 Git 백엔드 지원 암호화/복호화 기능 제공 Consul Configuration 서비스 디스커버리와 통합 Key-Value 저장소 제공 실시간 설정 변경 감지 Kubernetes ConfigMap 쿠버네티스 환경에서 설정 관리 환경변수 및 파일 기반 설정 동적 설정 갱신 지원 참고 및 출처 ","wordCount":"765","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-30T01:58:00Z","dateModified":"2024-12-30T01:58:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/til/2024/12/external-configuration-store/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/til/>TIL</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/til/2024/>2024</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/til/2024/12/>12</a></div><h1 class="post-title entry-hint-parent">외부 구성 저장소 패턴(External Configuration Store Pattern)</h1><div class=post-description>외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나로 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다.</div><div class=post-meta><span title='2024-12-30 01:58:00 +0000 UTC'>December 30, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;765 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/TIL/2024/12/External-Configuration-Store.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#외부-구성-저장소-패턴external-configuration-store-pattern>외부 구성 저장소 패턴(External Configuration Store Pattern)</a><ul><li><a href=#패턴의-필요성>패턴의 필요성</a></li><li><a href=#패턴의-구현-방법>패턴의 구현 방법</a></li><li><a href=#패턴의-장점>패턴의 장점</a></li><li><a href=#구현-시-고려사항>구현 시 고려사항</a></li><li><a href=#사용-사례>사용 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=외부-구성-저장소-패턴external-configuration-store-pattern>외부 구성 저장소 패턴(External Configuration Store Pattern)<a hidden class=anchor aria-hidden=true href=#외부-구성-저장소-패턴external-configuration-store-pattern>#</a></h2><p>외부 구성 저장소 패턴(External Configuration Store Pattern)은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나이다.<br>이 패턴은 애플리케이션의 구성 정보를 외부 저장소로 분리하여 관리하는 방식을 제안한다.</p><p><figure><img loading=lazy src=/img/external-configuration-store-overview.png><figcaption>https://learn.microsoft.com/en-us/azure/architecture/patterns/external-configuration-store</figcaption></figure></p><p>외부 구성 저장소 패턴은 애플리케이션의 구성 정보를 애플리케이션 배포 패키지에서 중앙 집중식 위치로 이동시키는 것을 의미한다.<br>이 패턴의 주요 목적은 다음과 같다:</p><ol><li>여러 환경에서 애플리케이션을 수정 없이 실행할 수 있게 하는 것</li><li>구성 데이터의 관리와 제어를 용이하게 하는 것</li><li>여러 애플리케이션과 애플리케이션 인스턴스 간에 구성 데이터를 공유할 수 있게 하는 것[</li></ol><p>외부 구성 저장소 패턴은 마이크로서비스 아키텍처에서 구성 관리의 복잡성을 해결하는 효과적인 방법이다.<br>이 패턴을 통해 개발자는 애플리케이션 코드와 구성을 분리하여 더 유연하고 관리하기 쉬운 시스템을 구축할 수 있다.<br>그러나 구현 시 보안, 성능, 장애 대응 등 여러 측면을 고려해야 하며, 각 조직의 요구사항에 맞는 최적의 솔루션을 선택해야 한다.</p><h3 id=패턴의-필요성>패턴의 필요성<a hidden class=anchor aria-hidden=true href=#패턴의-필요성>#</a></h3><p>이 패턴이 필요한 이유는 다음과 같다:</p><ol><li>마이크로서비스가 여러 환경(개발, 테스트, 프로덕션 등)에서 실행될 때 각 환경에 맞는 구성이 필요한다.</li><li>구성 정보가 애플리케이션 코드에 포함되면 환경이 변경될 때마다 애플리케이션을 재배포해야 한다.</li><li>클라우드 네이티브 애플리케이션의 원칙 중 하나인 &ldquo;Config"는 환경 설정 정보를 코드와 완전히 분리할 것을 요구한다.</li><li>스케일 아웃된 서비스들 간의 구성 정보 불일치를 방지해야 한다.</li></ol><h3 id=패턴의-구현-방법>패턴의 구현 방법<a hidden class=anchor aria-hidden=true href=#패턴의-구현-방법>#</a></h3><p>외부 구성 저장소 패턴을 구현하는 방법은 다양하다.</p><ol><li>환경 변수 사용: 12 Factor App 원칙에 따라 가장 권장되는 방법이다.</li><li>구성 파일 사용: 프로퍼티 파일이나 YAML 파일 등을 사용한다.</li><li>명령줄 인자 또는 플래그 사용.</li><li>전용 구성 서버 사용: Spring Cloud Config와 같은 라이브러리를 활용한다.</li><li>클라우드 서비스 활용: AWS Systems Manager Parameter Store, Azure App Configuration 등을 사용한다.</li></ol><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><p>External Configuration Pattern은 다음과 같은 주요 구성 요소들로 이루어진다:</p><ol><li>Configuration Server (설정 서버)<ul><li>중앙화된 설정 저장소 역할</li><li>설정값의 버전 관리 제공</li><li>설정 변경 이력 관리</li><li>보안 및 접근 제어 기능</li></ul></li><li>Configuration Client (설정 클라이언트)<ul><li>각 마이크로서비스에 포함되는 컴포넌트</li><li>설정 서버로부터 설정 로드</li><li>설정 갱신 관리</li><li>로컬 캐싱 처리</li></ul></li><li>Configuration Storage (설정 저장소)<ul><li>Git 저장소나 데이터베이스 등 실제 설정 보관</li><li>버전 관리 지원</li><li>백업 및 복구 기능</li><li>환경별 설정 분리</li></ul></li></ol><h4 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43>43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44>44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45>45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46>46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47>47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48>48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49>49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50>50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51>51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52>52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53>53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54>54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55>55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56>56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57>57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58>58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59>59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60>60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61>61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62>62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63>63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64>64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65>65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66>66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67>67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68>68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69>69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70>70</a>
</span><span class=lnt id=hl-0-71><a class=lnlinks href=#hl-0-71>71</a>
</span><span class=lnt id=hl-0-72><a class=lnlinks href=#hl-0-72>72</a>
</span><span class=lnt id=hl-0-73><a class=lnlinks href=#hl-0-73>73</a>
</span><span class=lnt id=hl-0-74><a class=lnlinks href=#hl-0-74>74</a>
</span><span class=lnt id=hl-0-75><a class=lnlinks href=#hl-0-75>75</a>
</span><span class=lnt id=hl-0-76><a class=lnlinks href=#hl-0-76>76</a>
</span><span class=lnt id=hl-0-77><a class=lnlinks href=#hl-0-77>77</a>
</span><span class=lnt id=hl-0-78><a class=lnlinks href=#hl-0-78>78</a>
</span><span class=lnt id=hl-0-79><a class=lnlinks href=#hl-0-79>79</a>
</span><span class=lnt id=hl-0-80><a class=lnlinks href=#hl-0-80>80</a>
</span><span class=lnt id=hl-0-81><a class=lnlinks href=#hl-0-81>81</a>
</span><span class=lnt id=hl-0-82><a class=lnlinks href=#hl-0-82>82</a>
</span><span class=lnt id=hl-0-83><a class=lnlinks href=#hl-0-83>83</a>
</span><span class=lnt id=hl-0-84><a class=lnlinks href=#hl-0-84>84</a>
</span><span class=lnt id=hl-0-85><a class=lnlinks href=#hl-0-85>85</a>
</span><span class=lnt id=hl-0-86><a class=lnlinks href=#hl-0-86>86</a>
</span><span class=lnt id=hl-0-87><a class=lnlinks href=#hl-0-87>87</a>
</span><span class=lnt id=hl-0-88><a class=lnlinks href=#hl-0-88>88</a>
</span><span class=lnt id=hl-0-89><a class=lnlinks href=#hl-0-89>89</a>
</span><span class=lnt id=hl-0-90><a class=lnlinks href=#hl-0-90>90</a>
</span><span class=lnt id=hl-0-91><a class=lnlinks href=#hl-0-91>91</a>
</span><span class=lnt id=hl-0-92><a class=lnlinks href=#hl-0-92>92</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># config_server.py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>jsonify</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>yaml</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정 저장소 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConfigStore</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>configs</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_load_configs</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_load_configs</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정 파일들을 로드하는 메서드&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>config_dir</span> <span class=o>=</span> <span class=s1>&#39;configs&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>env</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;dev&#39;</span><span class=p>,</span> <span class=s1>&#39;prod&#39;</span><span class=p>,</span> <span class=s1>&#39;stage&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>config_dir</span><span class=si>}</span><span class=s1>/</span><span class=si>{</span><span class=n>env</span><span class=si>}</span><span class=s1>/application.yml&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>configs</span><span class=p>[</span><span class=n>env</span><span class=p>]</span> <span class=o>=</span> <span class=n>yaml</span><span class=o>.</span><span class=n>safe_load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>app_name</span><span class=p>,</span> <span class=n>environment</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;특정 애플리케이션의 환경별 설정을 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>environment</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>configs</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>configs</span><span class=p>[</span><span class=n>environment</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>app_name</span><span class=p>,</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정 저장소 인스턴스 생성</span>
</span></span><span class=line><span class=cl><span class=n>config_store</span> <span class=o>=</span> <span class=n>ConfigStore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/config/&lt;app_name&gt;/&lt;environment&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_config</span><span class=p>(</span><span class=n>app_name</span><span class=p>,</span> <span class=n>environment</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;설정 조회 API 엔드포인트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>config</span> <span class=o>=</span> <span class=n>config_store</span><span class=o>.</span><span class=n>get_config</span><span class=p>(</span><span class=n>app_name</span><span class=p>,</span> <span class=n>environment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># configs/dev/application.yml 예시</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>order-service:
</span></span></span><span class=line><span class=cl><span class=s2>  database:
</span></span></span><span class=line><span class=cl><span class=s2>    url: jdbc:mysql://dev-db:3306/orders
</span></span></span><span class=line><span class=cl><span class=s2>    username: dev_user
</span></span></span><span class=line><span class=cl><span class=s2>    password: dev_pass
</span></span></span><span class=line><span class=cl><span class=s2>  cache:
</span></span></span><span class=line><span class=cl><span class=s2>    host: dev-redis:6379
</span></span></span><span class=line><span class=cl><span class=s2>    ttl: 3600
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>payment-service:
</span></span></span><span class=line><span class=cl><span class=s2>  api:
</span></span></span><span class=line><span class=cl><span class=s2>    endpoint: https://dev-payment-api.example.com
</span></span></span><span class=line><span class=cl><span class=s2>    timeout: 5000
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정을 사용하는 클라이언트 서비스 예시</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_client</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_client</span> <span class=o>=</span> <span class=n>config_client</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>load_config</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>load_config</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정 로드 및 갱신&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_client</span><span class=o>.</span><span class=n>get_config</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;order-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s1>&#39;ENVIRONMENT&#39;</span><span class=p>,</span> <span class=s1>&#39;dev&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_database_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정을 사용하여 데이터베이스 연결&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>db_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>create_connection</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>db_config</span><span class=p>[</span><span class=s1>&#39;url&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>db_config</span><span class=p>[</span><span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>db_config</span><span class=p>[</span><span class=s1>&#39;password&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정 변경 감지 및 자동 갱신 기능</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConfigWatcher</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_client</span><span class=p>,</span> <span class=n>refresh_interval</span><span class=o>=</span><span class=mi>30</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_client</span> <span class=o>=</span> <span class=n>config_client</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>refresh_interval</span> <span class=o>=</span> <span class=n>refresh_interval</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>services</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_service</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정 갱신이 필요한 서비스 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>services</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_watching</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정 변경 감지 및 갱신 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>service</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>services</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>service</span><span class=o>.</span><span class=n>load_config</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>refresh_interval</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=패턴의-장점>패턴의 장점<a hidden class=anchor aria-hidden=true href=#패턴의-장점>#</a></h3><ol><li>애플리케이션을 재컴파일하거나 재배포하지 않고도 구성을 변경할 수 있다.</li><li>여러 환경과 여러 서비스 간에 구성을 일관되게 관리할 수 있다.</li><li>구성 정보의 버전 관리가 가능해진다.</li><li>보안이 향상된다. 민감한 구성 정보를 안전하게 저장하고 관리할 수 있다.</li></ol><h3 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h3><ol><li>캐싱: 구성 정보에 대한 빈번한 접근을 최적화하기 위해 로컬 캐시를 고려해야 한다.</li><li>보안: 구성 저장소에 대한 접근 권한 관리가 필요한다.</li><li>변경 감지: 구성 변경을 실시간으로 감지하고 적용할 수 있는 메커니즘이 필요한다.</li><li>장애 대응: 외부 구성 저장소에 접근할 수 없을 때의 대비책이 필요한다.</li></ol><h3 id=사용-사례>사용 사례<a hidden class=anchor aria-hidden=true href=#사용-사례>#</a></h3><ol><li>데이터베이스 연결 정보 관리</li><li>API 키와 비밀 정보 관리</li><li>기능 플래그(Feature flags) 관리</li><li>서비스 간 공유 설정 관리</li></ol><h4 id=실제-적용-사례>실제 적용 사례<a hidden class=anchor aria-hidden=true href=#실제-적용-사례>#</a></h4><ol><li>Spring Cloud Config<ul><li>Spring 기반 마이크로서비스에서 널리 사용</li><li>Git 백엔드 지원</li><li>암호화/복호화 기능 제공</li></ul></li><li>Consul Configuration<ul><li>서비스 디스커버리와 통합</li><li>Key-Value 저장소 제공</li><li>실시간 설정 변경 감지</li></ul></li><li>Kubernetes ConfigMap<ul><li>쿠버네티스 환경에서 설정 관리</li><li>환경변수 및 파일 기반 설정</li><li>동적 설정 갱신 지원</li></ul></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture/>Software-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture-patterns/>Software-Architecture-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/msa-patterns/>MSA-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/microservice-architecture-pattern/>Microservice-Architecture-Pattern</a></li><li><a href=https://buenhyden.github.io/tags/cross-cutting-concern-patterns/>Cross-Cutting-Concern-Patterns</a></li></ul></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>